import xn from"firebase/compat/app";import"firebase/compat/auth";import"firebase/compat/firestore";import hu from"exceljs";import gu from"jspdf";import jc from"jszip";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yu={exports:{}},hl={},vu={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Uc=Symbol.for("react.portal"),Bc=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),Gc=Symbol.for("react.provider"),Qc=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Kc=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),ea=Symbol.iterator;function Zc(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wu=Object.assign,Su={};function ur(e,t,n){this.props=e,this.context=t,this.refs=Su,this.updater=n||xu}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cu(){}Cu.prototype=ur.prototype;function rs(e,t,n){this.props=e,this.context=t,this.refs=Su,this.updater=n||xu}var os=rs.prototype=new Cu;os.constructor=rs;wu(os,ur.prototype);os.isPureReactComponent=!0;var ta=Array.isArray,Nu=Object.prototype.hasOwnProperty,ls={current:null},Eu={key:!0,ref:!0,__self:!0,__source:!0};function ku(e,t,n){var r,o={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Nu.call(t,r)&&!Eu.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:lo,type:e,key:l,ref:i,props:o,_owner:ls.current}}function Jc(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function is(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function ef(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var na=/\/+/g;function Ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ef(""+e.key):t.toString(36)}function Mo(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case lo:case Uc:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Ll(i,0):r,ta(o)?(n="",e!=null&&(n=e.replace(na,"$&/")+"/"),Mo(o,t,n,"",function(d){return d})):o!=null&&(is(o)&&(o=Jc(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(na,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",ta(e))for(var s=0;s<e.length;s++){l=e[s];var u=r+Ll(l,s);i+=Mo(l,t,n,u,o)}else if(u=Zc(e),typeof u=="function")for(e=u.call(e),s=0;!(l=e.next()).done;)l=l.value,u=r+Ll(l,s++),i+=Mo(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function po(e,t,n){if(e==null)return e;var r=[],o=0;return Mo(e,r,"","",function(l){return t.call(n,l,o++)}),r}function tf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Oo={transition:null},nf={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:ls};function bu(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:po,forEach:function(e,t,n){po(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return po(e,function(){t++}),t},toArray:function(e){return po(e,function(t){return t})||[]},only:function(e){if(!is(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=ur;K.Fragment=Bc;K.Profiler=Vc;K.PureComponent=rs;K.StrictMode=Wc;K.Suspense=Yc;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;K.act=bu;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wu({},e.props),o=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ls.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Nu.call(t,u)&&!Eu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:lo,type:e.type,key:o,ref:l,props:r,_owner:i}};K.createContext=function(e){return e={$$typeof:Qc,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gc,_context:e},e.Consumer=e};K.createElement=ku;K.createFactory=function(e){var t=ku.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Xc,render:e}};K.isValidElement=is;K.lazy=function(e){return{$$typeof:qc,_payload:{_status:-1,_result:e},_init:tf}};K.memo=function(e,t){return{$$typeof:Kc,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};K.unstable_act=bu;K.useCallback=function(e,t){return Ve.current.useCallback(e,t)};K.useContext=function(e){return Ve.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ve.current.useEffect(e,t)};K.useId=function(){return Ve.current.useId()};K.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ve.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};K.useRef=function(e){return Ve.current.useRef(e)};K.useState=function(e){return Ve.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ve.current.useTransition()};K.version="18.3.1";vu.exports=K;var D=vu.exports;const Hr=Hc(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=D,of=Symbol.for("react.element"),lf=Symbol.for("react.fragment"),sf=Object.prototype.hasOwnProperty,af=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,o={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)sf.call(t,r)&&!uf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:of,type:e,key:l,ref:i,props:o,_owner:af.current}}hl.Fragment=lf;hl.jsx=Tu;hl.jsxs=Tu;yu.exports=hl;var ss=yu.exports;const bn=ss.Fragment,a=ss.jsx,N=ss.jsxs;var ai={},Iu={exports:{}},it={},Du={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,R){var H=_.length;_.push(R);e:for(;0<H;){var J=H-1>>>1,W=_[J];if(0<o(W,R))_[J]=R,_[H]=W,H=J;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var R=_[0],H=_.pop();if(H!==R){_[0]=H;e:for(var J=0,W=_.length,ke=W>>>1;J<ke;){var Qe=2*(J+1)-1,Xe=_[Qe],O=Qe+1,U=_[O];if(0>o(Xe,H))O<W&&0>o(U,Xe)?(_[J]=U,_[O]=H,J=O):(_[J]=Xe,_[Qe]=H,J=Qe);else if(O<W&&0>o(U,H))_[J]=U,_[O]=H,J=O;else break e}}return R}function o(_,R){var H=_.sortIndex-R.sortIndex;return H!==0?H:_.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var u=[],d=[],f=1,h=null,m=3,w=!1,v=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(_){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=_)r(d),R.sortIndex=R.expirationTime,t(u,R);else break;R=n(d)}}function y(_){if(C=!1,c(_),!v)if(n(u)!==null)v=!0,Q(b);else{var R=n(d);R!==null&&te(y,R.startTime-_)}}function b(_,R){v=!1,C&&(C=!1,g(k),k=-1),w=!0;var H=m;try{for(c(R),h=n(u);h!==null&&(!(h.expirationTime>R)||_&&!P());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var W=J(h.expirationTime<=R);R=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(u)&&r(u),c(R)}else r(u);h=n(u)}if(h!==null)var ke=!0;else{var Qe=n(d);Qe!==null&&te(y,Qe.startTime-R),ke=!1}return ke}finally{h=null,m=H,w=!1}}var S=!1,x=null,k=-1,E=5,I=-1;function P(){return!(e.unstable_now()-I<E)}function F(){if(x!==null){var _=e.unstable_now();I=_;var R=!0;try{R=x(!0,_)}finally{R?j():(S=!1,x=null)}}else S=!1}var j;if(typeof p=="function")j=function(){p(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=F,j=function(){q.postMessage(null)}}else j=function(){T(F,0)};function Q(_){x=_,S||(S=!0,j())}function te(_,R){k=T(function(){_(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,Q(b))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var H=m;m=R;try{return _()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,R){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=m;m=_;try{return R()}finally{m=H}},e.unstable_scheduleCallback=function(_,R,H){var J=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,_){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,_={id:f++,callback:R,priorityLevel:_,startTime:H,expirationTime:W,sortIndex:-1},H>J?(_.sortIndex=H,t(d,_),n(u)===null&&_===n(d)&&(C?(g(k),k=-1):C=!0,te(y,H-J))):(_.sortIndex=W,t(u,_),v||w||(v=!0,Q(b))),_},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(_){var R=m;return function(){var H=m;m=R;try{return _.apply(this,arguments)}finally{m=H}}}})(_u);Du.exports=_u;var df=Du.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=D,lt=df;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pu=new Set,Ur={};function Mn(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(Ur[e]=t,e=0;e<t.length;e++)Pu.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ra={},oa={};function pf(e){return ui.call(oa,e)?!0:ui.call(ra,e)?!1:ff.test(e)?oa[e]=!0:(ra[e]=!0,!1)}function mf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hf(e,t,n,r){if(t===null||typeof t>"u"||mf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,o,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var as=/[\-:]([a-z])/g;function us(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(as,us);ze[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(as,us);ze[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(as,us);ze[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function ds(e,t,n,r){var o=ze.hasOwnProperty(t)?ze[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hf(t,n,o,r)&&(n=null),r||o===null?pf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),cs=Symbol.for("react.strict_mode"),di=Symbol.for("react.profiler"),Mu=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),fs=Symbol.for("react.forward_ref"),ci=Symbol.for("react.suspense"),fi=Symbol.for("react.suspense_list"),ps=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Au=Symbol.for("react.offscreen"),la=Symbol.iterator;function xr(e){return e===null||typeof e!="object"?null:(e=la&&e[la]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,zl;function Ir(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Rl=!1;function $l(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),l=r.stack.split(`
`),i=o.length-1,s=l.length-1;1<=i&&0<=s&&o[i]!==l[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==l[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==l[s]){var u=`
`+o[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=s);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function gf(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function pi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Rn:return"Portal";case di:return"Profiler";case cs:return"StrictMode";case ci:return"Suspense";case fi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case Mu:return(e._context.displayName||"Context")+".Provider";case fs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ps:return t=e.displayName||null,t!==null?t:pi(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return pi(e(t))}catch{}}return null}function yf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pi(t);case 8:return t===cs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vf(e){var t=Fu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ho(e){e._valueTracker||(e._valueTracker=vf(e))}function Lu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mi(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ia(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zu(e,t){t=t.checked,t!=null&&ds(e,"checked",t,!1)}function hi(e,t){zu(e,t);var n=dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gi(e,t.type,n):t.hasOwnProperty("defaultValue")&&gi(e,t.type,dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gi(e,t,n){(t!=="number"||Wo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dr=Array.isArray;function Kn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function yi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Dr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dn(n)}}function Ru(e,t){var n=dn(t.value),r=dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ua(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $u(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$u(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var go,ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(e){xf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});function Hu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mr.hasOwnProperty(e)&&Mr[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Hu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var wf=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xi(e,t){if(t){if(wf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function wi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,qn=null,Zn=null;function da(e){if(e=ao(e)){if(typeof Ci!="function")throw Error(M(280));var t=e.stateNode;t&&(t=wl(t),Ci(e.stateNode,e.type,t))}}function Bu(e){qn?Zn?Zn.push(e):Zn=[e]:qn=e}function Wu(){if(qn){var e=qn,t=Zn;if(Zn=qn=null,da(e),t)for(e=0;e<t.length;e++)da(t[e])}}function Vu(e,t){return e(t)}function Gu(){}var jl=!1;function Qu(e,t,n){if(jl)return e(t,n);jl=!0;try{return Vu(e,t,n)}finally{jl=!1,(qn!==null||Zn!==null)&&(Gu(),Wu())}}function Wr(e,t){var n=e.stateNode;if(n===null)return null;var r=wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ni=!1;if(Ht)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Ni=!1}function Sf(e,t,n,r,o,l,i,s,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Or=!1,Vo=null,Go=!1,Ei=null,Cf={onError:function(e){Or=!0,Vo=e}};function Nf(e,t,n,r,o,l,i,s,u){Or=!1,Vo=null,Sf.apply(Cf,arguments)}function Ef(e,t,n,r,o,l,i,s,u){if(Nf.apply(this,arguments),Or){if(Or){var d=Vo;Or=!1,Vo=null}else throw Error(M(198));Go||(Go=!0,Ei=d)}}function On(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ca(e){if(On(e)!==e)throw Error(M(188))}function kf(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ca(o),e;if(l===r)return ca(o),t;l=l.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Yu(e){return e=kf(e),e!==null?Ku(e):null}function Ku(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ku(e);if(t!==null)return t;e=e.sibling}return null}var qu=lt.unstable_scheduleCallback,fa=lt.unstable_cancelCallback,bf=lt.unstable_shouldYield,Tf=lt.unstable_requestPaint,Ce=lt.unstable_now,If=lt.unstable_getCurrentPriorityLevel,hs=lt.unstable_ImmediatePriority,Zu=lt.unstable_UserBlockingPriority,Qo=lt.unstable_NormalPriority,Df=lt.unstable_LowPriority,Ju=lt.unstable_IdlePriority,gl=null,Pt=null;function _f(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Of,Pf=Math.log,Mf=Math.LN2;function Of(e){return e>>>=0,e===0?32:31-(Pf(e)/Mf|0)|0}var yo=64,vo=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~o;s!==0?r=_r(s):(l&=i,l!==0&&(r=_r(l)))}else i=n&~o,i!==0?r=_r(i):l!==0&&(r=_r(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),o=1<<n,r|=e[n],t&=~o;return r}function Af(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Nt(l),s=1<<i,u=o[i];u===-1?(!(s&n)||s&r)&&(o[i]=Af(s,t)):u<=t&&(e.expiredLanes|=s),l&=~s}}function ki(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ed(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Lf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Nt(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function gs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var oe=0;function td(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nd,ys,rd,od,ld,bi=!1,xo=[],tn=null,nn=null,rn=null,Vr=new Map,Gr=new Map,qt=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pa(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function Sr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=ao(t),t!==null&&ys(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Rf(e,t,n,r,o){switch(t){case"focusin":return tn=Sr(tn,e,t,n,r,o),!0;case"dragenter":return nn=Sr(nn,e,t,n,r,o),!0;case"mouseover":return rn=Sr(rn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return Vr.set(l,Sr(Vr.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Gr.set(l,Sr(Gr.get(l)||null,e,t,n,r,o)),!0}return!1}function id(e){var t=wn(e.target);if(t!==null){var n=On(t);if(n!==null){if(t=n.tag,t===13){if(t=Xu(n),t!==null){e.blockedOn=t,ld(e.priority,function(){rd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ti(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Si=r,n.target.dispatchEvent(r),Si=null}else return t=ao(n),t!==null&&ys(t),e.blockedOn=n,!1;t.shift()}return!0}function ma(e,t,n){Ao(e)&&n.delete(t)}function $f(){bi=!1,tn!==null&&Ao(tn)&&(tn=null),nn!==null&&Ao(nn)&&(nn=null),rn!==null&&Ao(rn)&&(rn=null),Vr.forEach(ma),Gr.forEach(ma)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,bi||(bi=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,$f)))}function Qr(e){function t(o){return Cr(o,e)}if(0<xo.length){Cr(xo[0],e);for(var n=1;n<xo.length;n++){var r=xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&Cr(tn,e),nn!==null&&Cr(nn,e),rn!==null&&Cr(rn,e),Vr.forEach(t),Gr.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)id(n),n.blockedOn===null&&qt.shift()}var Jn=Vt.ReactCurrentBatchConfig,Yo=!0;function jf(e,t,n,r){var o=oe,l=Jn.transition;Jn.transition=null;try{oe=1,vs(e,t,n,r)}finally{oe=o,Jn.transition=l}}function Hf(e,t,n,r){var o=oe,l=Jn.transition;Jn.transition=null;try{oe=4,vs(e,t,n,r)}finally{oe=o,Jn.transition=l}}function vs(e,t,n,r){if(Yo){var o=Ti(e,t,n,r);if(o===null)ql(e,t,r,Ko,n),pa(e,r);else if(Rf(o,e,t,n,r))r.stopPropagation();else if(pa(e,r),t&4&&-1<zf.indexOf(e)){for(;o!==null;){var l=ao(o);if(l!==null&&nd(l),l=Ti(e,t,n,r),l===null&&ql(e,t,r,Ko,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else ql(e,t,r,null,n)}}var Ko=null;function Ti(e,t,n,r){if(Ko=null,e=ms(r),e=wn(e),e!==null)if(t=On(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ko=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case hs:return 1;case Zu:return 4;case Qo:case Df:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var Jt=null,xs=null,Fo=null;function ad(){if(Fo)return Fo;var e,t=xs,n=t.length,r,o="value"in Jt?Jt.value:Jt.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[l-r];r++);return Fo=o.slice(e,1<r?1-r:void 0)}function Lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function ha(){return!1}function st(e){function t(n,r,o,l,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?wo:ha,this.isPropagationStopped=ha,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),t}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=st(dr),so=xe({},dr,{view:0,detail:0}),Uf=st(so),Ul,Bl,Nr,yl=xe({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(Ul=e.screenX-Nr.screenX,Bl=e.screenY-Nr.screenY):Bl=Ul=0,Nr=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),ga=st(yl),Bf=xe({},yl,{dataTransfer:0}),Wf=st(Bf),Vf=xe({},so,{relatedTarget:0}),Wl=st(Vf),Gf=xe({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=st(Gf),Xf=xe({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yf=st(Xf),Kf=xe({},dr,{data:0}),ya=st(Kf),qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jf[e])?!!t[e]:!1}function Ss(){return ep}var tp=xe({},so,{key:function(e){if(e.key){var t=qf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?Lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),np=st(tp),rp=xe({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=st(rp),op=xe({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),lp=st(op),ip=xe({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=st(ip),ap=xe({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),up=st(ap),dp=[9,13,27,32],Cs=Ht&&"CompositionEvent"in window,Ar=null;Ht&&"documentMode"in document&&(Ar=document.documentMode);var cp=Ht&&"TextEvent"in window&&!Ar,ud=Ht&&(!Cs||Ar&&8<Ar&&11>=Ar),xa=String.fromCharCode(32),wa=!1;function dd(e,t){switch(e){case"keyup":return dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jn=!1;function fp(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(wa=!0,xa);case"textInput":return e=t.data,e===xa&&wa?null:e;default:return null}}function pp(e,t){if(jn)return e==="compositionend"||!Cs&&dd(e,t)?(e=ad(),Fo=xs=Jt=null,jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mp[e.type]:t==="textarea"}function fd(e,t,n,r){Bu(r),t=qo(t,"onChange"),0<t.length&&(n=new ws("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fr=null,Xr=null;function hp(e){Nd(e,0)}function vl(e){var t=Bn(e);if(Lu(t))return e}function gp(e,t){if(e==="change")return t}var pd=!1;if(Ht){var Vl;if(Ht){var Gl="oninput"in document;if(!Gl){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Gl=typeof Ca.oninput=="function"}Vl=Gl}else Vl=!1;pd=Vl&&(!document.documentMode||9<document.documentMode)}function Na(){Fr&&(Fr.detachEvent("onpropertychange",md),Xr=Fr=null)}function md(e){if(e.propertyName==="value"&&vl(Xr)){var t=[];fd(t,Xr,e,ms(e)),Qu(hp,t)}}function yp(e,t,n){e==="focusin"?(Na(),Fr=t,Xr=n,Fr.attachEvent("onpropertychange",md)):e==="focusout"&&Na()}function vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(Xr)}function xp(e,t){if(e==="click")return vl(t)}function wp(e,t){if(e==="input"||e==="change")return vl(t)}function Sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Sp;function Yr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ui.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function Ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ka(e,t){var n=Ea(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ea(n)}}function hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(){for(var e=window,t=Wo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wo(e.document)}return t}function Ns(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cp(e){var t=gd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hd(n.ownerDocument.documentElement,n)){if(r!==null&&Ns(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=ka(n,l);var i=ka(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=Ht&&"documentMode"in document&&11>=document.documentMode,Hn=null,Ii=null,Lr=null,Di=!1;function ba(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Di||Hn==null||Hn!==Wo(r)||(r=Hn,"selectionStart"in r&&Ns(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Yr(Lr,r)||(Lr=r,r=qo(Ii,"onSelect"),0<r.length&&(t=new ws("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hn)))}function So(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Ql={},yd={};Ht&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function xl(e){if(Ql[e])return Ql[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yd)return Ql[e]=t[n];return e}var vd=xl("animationend"),xd=xl("animationiteration"),wd=xl("animationstart"),Sd=xl("transitionend"),Cd=new Map,Ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){Cd.set(e,t),Mn(t,[e])}for(var Xl=0;Xl<Ta.length;Xl++){var Yl=Ta[Xl],Ep=Yl.toLowerCase(),kp=Yl[0].toUpperCase()+Yl.slice(1);fn(Ep,"on"+kp)}fn(vd,"onAnimationEnd");fn(xd,"onAnimationIteration");fn(wd,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(Sd,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Ia(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ef(r,t,void 0,e),e.currentTarget=null}function Nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,d=s.currentTarget;if(s=s.listener,u!==l&&o.isPropagationStopped())break e;Ia(o,s,d),l=u}else for(i=0;i<r.length;i++){if(s=r[i],u=s.instance,d=s.currentTarget,s=s.listener,u!==l&&o.isPropagationStopped())break e;Ia(o,s,d),l=u}}}if(Go)throw e=Ei,Go=!1,Ei=null,e}function fe(e,t){var n=t[Ai];n===void 0&&(n=t[Ai]=new Set);var r=e+"__bubble";n.has(r)||(Ed(t,e,2,!1),n.add(r))}function Kl(e,t,n){var r=0;t&&(r|=4),Ed(n,e,r,t)}var Co="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Co]){e[Co]=!0,Pu.forEach(function(n){n!=="selectionchange"&&(bp.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Co]||(t[Co]=!0,Kl("selectionchange",!1,t))}}function Ed(e,t,n,r){switch(sd(t)){case 1:var o=jf;break;case 4:o=Hf;break;default:o=vs}n=o.bind(null,t,n,e),o=void 0,!Ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ql(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;i=i.return}for(;s!==null;){if(i=wn(s),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}s=s.parentNode}}r=r.return}Qu(function(){var d=l,f=ms(n),h=[];e:{var m=Cd.get(e);if(m!==void 0){var w=ws,v=e;switch(e){case"keypress":if(Lo(n)===0)break e;case"keydown":case"keyup":w=np;break;case"focusin":v="focus",w=Wl;break;case"focusout":v="blur",w=Wl;break;case"beforeblur":case"afterblur":w=Wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=lp;break;case vd:case xd:case wd:w=Qf;break;case Sd:w=sp;break;case"scroll":w=Uf;break;case"wheel":w=up;break;case"copy":case"cut":case"paste":w=Yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=va}var C=(t&4)!==0,T=!C&&e==="scroll",g=C?m!==null?m+"Capture":null:m;C=[];for(var p=d,c;p!==null;){c=p;var y=c.stateNode;if(c.tag===5&&y!==null&&(c=y,g!==null&&(y=Wr(p,g),y!=null&&C.push(qr(p,y,c)))),T)break;p=p.return}0<C.length&&(m=new w(m,v,null,n,f),h.push({event:m,listeners:C}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Si&&(v=n.relatedTarget||n.fromElement)&&(wn(v)||v[Ut]))break e;if((w||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=d,v=v?wn(v):null,v!==null&&(T=On(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=d),w!==v)){if(C=ga,y="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(C=va,y="onPointerLeave",g="onPointerEnter",p="pointer"),T=w==null?m:Bn(w),c=v==null?m:Bn(v),m=new C(y,p+"leave",w,n,f),m.target=T,m.relatedTarget=c,y=null,wn(f)===d&&(C=new C(g,p+"enter",v,n,f),C.target=c,C.relatedTarget=T,y=C),T=y,w&&v)t:{for(C=w,g=v,p=0,c=C;c;c=zn(c))p++;for(c=0,y=g;y;y=zn(y))c++;for(;0<p-c;)C=zn(C),p--;for(;0<c-p;)g=zn(g),c--;for(;p--;){if(C===g||g!==null&&C===g.alternate)break t;C=zn(C),g=zn(g)}C=null}else C=null;w!==null&&Da(h,m,w,C,!1),v!==null&&T!==null&&Da(h,T,v,C,!0)}}e:{if(m=d?Bn(d):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var b=gp;else if(Sa(m))if(pd)b=wp;else{b=vp;var S=yp}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=xp);if(b&&(b=b(e,d))){fd(h,b,n,f);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&gi(m,"number",m.value)}switch(S=d?Bn(d):window,e){case"focusin":(Sa(S)||S.contentEditable==="true")&&(Hn=S,Ii=d,Lr=null);break;case"focusout":Lr=Ii=Hn=null;break;case"mousedown":Di=!0;break;case"contextmenu":case"mouseup":case"dragend":Di=!1,ba(h,n,f);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":ba(h,n,f)}var x;if(Cs)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?dd(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ud&&n.locale!=="ko"&&(jn||k!=="onCompositionStart"?k==="onCompositionEnd"&&jn&&(x=ad()):(Jt=f,xs="value"in Jt?Jt.value:Jt.textContent,jn=!0)),S=qo(d,k),0<S.length&&(k=new ya(k,e,null,n,f),h.push({event:k,listeners:S}),x?k.data=x:(x=cd(n),x!==null&&(k.data=x)))),(x=cp?fp(e,n):pp(e,n))&&(d=qo(d,"onBeforeInput"),0<d.length&&(f=new ya("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=x))}Nd(h,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Wr(e,n),l!=null&&r.unshift(qr(e,l,o)),l=Wr(e,t),l!=null&&r.push(qr(e,l,o))),e=e.return}return r}function zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Da(e,t,n,r,o){for(var l=t._reactName,i=[];n!==null&&n!==r;){var s=n,u=s.alternate,d=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&d!==null&&(s=d,o?(u=Wr(n,l),u!=null&&i.unshift(qr(n,u,s))):o||(u=Wr(n,l),u!=null&&i.push(qr(n,u,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Tp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function _a(e){return(typeof e=="string"?e:""+e).replace(Tp,`
`).replace(Ip,"")}function No(e,t,n){if(t=_a(t),_a(e)!==t&&n)throw Error(M(425))}function Zo(){}var _i=null,Pi=null;function Mi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oi=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,Pa=typeof Promise=="function"?Promise:void 0,_p=typeof queueMicrotask=="function"?queueMicrotask:typeof Pa<"u"?function(e){return Pa.resolve(null).then(e).catch(Pp)}:Oi;function Pp(e){setTimeout(function(){throw e})}function Zl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Qr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Qr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ma(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),_t="__reactFiber$"+cr,Zr="__reactProps$"+cr,Ut="__reactContainer$"+cr,Ai="__reactEvents$"+cr,Mp="__reactListeners$"+cr,Op="__reactHandles$"+cr;function wn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ma(e);e!==null;){if(n=e[_t])return n;e=Ma(e)}return t}e=n,n=e.parentNode}return null}function ao(e){return e=e[_t]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function wl(e){return e[Zr]||null}var Fi=[],Wn=-1;function pn(e){return{current:e}}function pe(e){0>Wn||(e.current=Fi[Wn],Fi[Wn]=null,Wn--)}function de(e,t){Wn++,Fi[Wn]=e.current,e.current=t}var cn={},He=pn(cn),Ze=pn(!1),Tn=cn;function rr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Je(e){return e=e.childContextTypes,e!=null}function Jo(){pe(Ze),pe(He)}function Oa(e,t,n){if(He.current!==cn)throw Error(M(168));de(He,t),de(Ze,n)}function kd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,yf(e)||"Unknown",o));return xe({},n,r)}function el(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Tn=He.current,de(He,e),de(Ze,Ze.current),!0}function Aa(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=kd(e,t,Tn),r.__reactInternalMemoizedMergedChildContext=e,pe(Ze),pe(He),de(He,e)):pe(Ze),de(Ze,n)}var zt=null,Sl=!1,Jl=!1;function bd(e){zt===null?zt=[e]:zt.push(e)}function Ap(e){Sl=!0,bd(e)}function mn(){if(!Jl&&zt!==null){Jl=!0;var e=0,t=oe;try{var n=zt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Sl=!1}catch(o){throw zt!==null&&(zt=zt.slice(e+1)),qu(hs,mn),o}finally{oe=t,Jl=!1}}return null}var Vn=[],Gn=0,tl=null,nl=0,ct=[],ft=0,In=null,Rt=1,$t="";function yn(e,t){Vn[Gn++]=nl,Vn[Gn++]=tl,tl=e,nl=t}function Td(e,t,n){ct[ft++]=Rt,ct[ft++]=$t,ct[ft++]=In,In=e;var r=Rt;e=$t;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var l=32-Nt(t)+o;if(30<l){var i=o-o%5;l=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Rt=1<<32-Nt(t)+o|n<<o|r,$t=l+e}else Rt=1<<l|n<<o|r,$t=e}function Es(e){e.return!==null&&(yn(e,1),Td(e,1,0))}function ks(e){for(;e===tl;)tl=Vn[--Gn],Vn[Gn]=null,nl=Vn[--Gn],Vn[Gn]=null;for(;e===In;)In=ct[--ft],ct[ft]=null,$t=ct[--ft],ct[ft]=null,Rt=ct[--ft],ct[ft]=null}var ot=null,rt=null,he=!1,St=null;function Id(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,rt=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Rt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,rt=null,!0):!1;default:return!1}}function Li(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zi(e){if(he){var t=rt;if(t){var n=t;if(!Fa(e,t)){if(Li(e))throw Error(M(418));t=on(n.nextSibling);var r=ot;t&&Fa(e,t)?Id(r,n):(e.flags=e.flags&-4097|2,he=!1,ot=e)}}else{if(Li(e))throw Error(M(418));e.flags=e.flags&-4097|2,he=!1,ot=e}}}function La(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Eo(e){if(e!==ot)return!1;if(!he)return La(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mi(e.type,e.memoizedProps)),t&&(t=rt)){if(Li(e))throw Dd(),Error(M(418));for(;t;)Id(e,t),t=on(t.nextSibling)}if(La(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=ot?on(e.stateNode.nextSibling):null;return!0}function Dd(){for(var e=rt;e;)e=on(e.nextSibling)}function or(){rt=ot=null,he=!1}function bs(e){St===null?St=[e]:St.push(e)}var Fp=Vt.ReactCurrentBatchConfig;function Er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var s=o.refs;i===null?delete s[l]:s[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){var t=e._init;return t(e._payload)}function _d(e){function t(g,p){if(e){var c=g.deletions;c===null?(g.deletions=[p],g.flags|=16):c.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function o(g,p){return g=un(g,p),g.index=0,g.sibling=null,g}function l(g,p,c){return g.index=c,e?(c=g.alternate,c!==null?(c=c.index,c<p?(g.flags|=2,p):c):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,p,c,y){return p===null||p.tag!==6?(p=ii(c,g.mode,y),p.return=g,p):(p=o(p,c),p.return=g,p)}function u(g,p,c,y){var b=c.type;return b===$n?f(g,p,c.props.children,y,c.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Yt&&za(b)===p.type)?(y=o(p,c.props),y.ref=Er(g,p,c),y.return=g,y):(y=Bo(c.type,c.key,c.props,null,g.mode,y),y.ref=Er(g,p,c),y.return=g,y)}function d(g,p,c,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==c.containerInfo||p.stateNode.implementation!==c.implementation?(p=si(c,g.mode,y),p.return=g,p):(p=o(p,c.children||[]),p.return=g,p)}function f(g,p,c,y,b){return p===null||p.tag!==7?(p=En(c,g.mode,y,b),p.return=g,p):(p=o(p,c),p.return=g,p)}function h(g,p,c){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ii(""+p,g.mode,c),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case mo:return c=Bo(p.type,p.key,p.props,null,g.mode,c),c.ref=Er(g,null,p),c.return=g,c;case Rn:return p=si(p,g.mode,c),p.return=g,p;case Yt:var y=p._init;return h(g,y(p._payload),c)}if(Dr(p)||xr(p))return p=En(p,g.mode,c,null),p.return=g,p;ko(g,p)}return null}function m(g,p,c,y){var b=p!==null?p.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return b!==null?null:s(g,p,""+c,y);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case mo:return c.key===b?u(g,p,c,y):null;case Rn:return c.key===b?d(g,p,c,y):null;case Yt:return b=c._init,m(g,p,b(c._payload),y)}if(Dr(c)||xr(c))return b!==null?null:f(g,p,c,y,null);ko(g,c)}return null}function w(g,p,c,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(c)||null,s(p,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mo:return g=g.get(y.key===null?c:y.key)||null,u(p,g,y,b);case Rn:return g=g.get(y.key===null?c:y.key)||null,d(p,g,y,b);case Yt:var S=y._init;return w(g,p,c,S(y._payload),b)}if(Dr(y)||xr(y))return g=g.get(c)||null,f(p,g,y,b,null);ko(p,y)}return null}function v(g,p,c,y){for(var b=null,S=null,x=p,k=p=0,E=null;x!==null&&k<c.length;k++){x.index>k?(E=x,x=null):E=x.sibling;var I=m(g,x,c[k],y);if(I===null){x===null&&(x=E);break}e&&x&&I.alternate===null&&t(g,x),p=l(I,p,k),S===null?b=I:S.sibling=I,S=I,x=E}if(k===c.length)return n(g,x),he&&yn(g,k),b;if(x===null){for(;k<c.length;k++)x=h(g,c[k],y),x!==null&&(p=l(x,p,k),S===null?b=x:S.sibling=x,S=x);return he&&yn(g,k),b}for(x=r(g,x);k<c.length;k++)E=w(x,g,k,c[k],y),E!==null&&(e&&E.alternate!==null&&x.delete(E.key===null?k:E.key),p=l(E,p,k),S===null?b=E:S.sibling=E,S=E);return e&&x.forEach(function(P){return t(g,P)}),he&&yn(g,k),b}function C(g,p,c,y){var b=xr(c);if(typeof b!="function")throw Error(M(150));if(c=b.call(c),c==null)throw Error(M(151));for(var S=b=null,x=p,k=p=0,E=null,I=c.next();x!==null&&!I.done;k++,I=c.next()){x.index>k?(E=x,x=null):E=x.sibling;var P=m(g,x,I.value,y);if(P===null){x===null&&(x=E);break}e&&x&&P.alternate===null&&t(g,x),p=l(P,p,k),S===null?b=P:S.sibling=P,S=P,x=E}if(I.done)return n(g,x),he&&yn(g,k),b;if(x===null){for(;!I.done;k++,I=c.next())I=h(g,I.value,y),I!==null&&(p=l(I,p,k),S===null?b=I:S.sibling=I,S=I);return he&&yn(g,k),b}for(x=r(g,x);!I.done;k++,I=c.next())I=w(x,g,k,I.value,y),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?k:I.key),p=l(I,p,k),S===null?b=I:S.sibling=I,S=I);return e&&x.forEach(function(F){return t(g,F)}),he&&yn(g,k),b}function T(g,p,c,y){if(typeof c=="object"&&c!==null&&c.type===$n&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case mo:e:{for(var b=c.key,S=p;S!==null;){if(S.key===b){if(b=c.type,b===$n){if(S.tag===7){n(g,S.sibling),p=o(S,c.props.children),p.return=g,g=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Yt&&za(b)===S.type){n(g,S.sibling),p=o(S,c.props),p.ref=Er(g,S,c),p.return=g,g=p;break e}n(g,S);break}else t(g,S);S=S.sibling}c.type===$n?(p=En(c.props.children,g.mode,y,c.key),p.return=g,g=p):(y=Bo(c.type,c.key,c.props,null,g.mode,y),y.ref=Er(g,p,c),y.return=g,g=y)}return i(g);case Rn:e:{for(S=c.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===c.containerInfo&&p.stateNode.implementation===c.implementation){n(g,p.sibling),p=o(p,c.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=si(c,g.mode,y),p.return=g,g=p}return i(g);case Yt:return S=c._init,T(g,p,S(c._payload),y)}if(Dr(c))return v(g,p,c,y);if(xr(c))return C(g,p,c,y);ko(g,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,p!==null&&p.tag===6?(n(g,p.sibling),p=o(p,c),p.return=g,g=p):(n(g,p),p=ii(c,g.mode,y),p.return=g,g=p),i(g)):n(g,p)}return T}var lr=_d(!0),Pd=_d(!1),rl=pn(null),ol=null,Qn=null,Ts=null;function Is(){Ts=Qn=ol=null}function Ds(e){var t=rl.current;pe(rl),e._currentValue=t}function Ri(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){ol=e,Ts=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(ol===null)throw Error(M(308));Qn=e,ol.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var Sn=null;function _s(e){Sn===null?Sn=[e]:Sn.push(e)}function Md(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_s(t)):(n.next=o.next,o.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Bt(e,n)}return o=r.interleaved,o===null?(t.next=t,_s(r)):(t.next=o.next,o.next=t),r.interleaved=t,Bt(e,n)}function zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gs(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ll(e,t,n,r){var o=e.updateQueue;Kt=!1;var l=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,d=u.next;u.next=null,i===null?l=d:i.next=d,i=u;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=d:s.next=d,f.lastBaseUpdate=u))}if(l!==null){var h=o.baseState;i=0,f=d=u=null,s=l;do{var m=s.lane,w=s.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,C=s;switch(m=t,w=n,C.tag){case 1:if(v=C.payload,typeof v=="function"){h=v.call(w,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,m=typeof v=="function"?v.call(w,h,m):v,m==null)break e;h=xe({},h,m);break e;case 2:Kt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[s]:m.push(s))}else w={eventTime:w,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(d=f=w,u=h):f=f.next=w,i|=m;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;m=s,s=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(1);if(f===null&&(u=h),o.baseState=u,o.firstBaseUpdate=d,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);_n|=i,e.lanes=i,e.memoizedState=h}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var uo={},Mt=pn(uo),Jr=pn(uo),eo=pn(uo);function Cn(e){if(e===uo)throw Error(M(174));return e}function Ms(e,t){switch(de(eo,t),de(Jr,e),de(Mt,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vi(t,e)}pe(Mt),de(Mt,t)}function ir(){pe(Mt),pe(Jr),pe(eo)}function Ad(e){Cn(eo.current);var t=Cn(Mt.current),n=vi(t,e.type);t!==n&&(de(Jr,e),de(Mt,n))}function Os(e){Jr.current===e&&(pe(Mt),pe(Jr))}var ye=pn(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function As(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var Ro=Vt.ReactCurrentDispatcher,ti=Vt.ReactCurrentBatchConfig,Dn=0,ve=null,Te=null,_e=null,sl=!1,zr=!1,to=0,Lp=0;function Re(){throw Error(M(321))}function Fs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Ls(e,t,n,r,o,l){if(Dn=l,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=e===null||e.memoizedState===null?jp:Hp,e=n(r,o),zr){l=0;do{if(zr=!1,to=0,25<=l)throw Error(M(301));l+=1,_e=Te=null,t.updateQueue=null,Ro.current=Up,e=n(r,o)}while(zr)}if(Ro.current=al,t=Te!==null&&Te.next!==null,Dn=0,_e=Te=ve=null,sl=!1,t)throw Error(M(300));return e}function zs(){var e=to!==0;return to=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ve.memoizedState=_e=e:_e=_e.next=e,_e}function gt(){if(Te===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=_e===null?ve.memoizedState:_e.next;if(t!==null)_e=t,Te=e;else{if(e===null)throw Error(M(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},_e===null?ve.memoizedState=_e=e:_e=_e.next=e}return _e}function no(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Te,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var s=i=null,u=null,d=l;do{var f=d.lane;if((Dn&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(s=u=h,i=r):u=u.next=h,ve.lanes|=f,_n|=f}d=d.next}while(d!==null&&d!==l);u===null?i=r:u.next=s,kt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,ve.lanes|=l,_n|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=gt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do l=e(l,i.action),i=i.next;while(i!==o);kt(l,t.memoizedState)||(qe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Fd(){}function Ld(e,t){var n=ve,r=gt(),o=t(),l=!kt(r.memoizedState,o);if(l&&(r.memoizedState=o,qe=!0),r=r.queue,Rs($d.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,ro(9,Rd.bind(null,n,r,o,t),void 0,null),Pe===null)throw Error(M(349));Dn&30||zd(n,t,o)}return o}function zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rd(e,t,n,r){t.value=n,t.getSnapshot=r,jd(t)&&Hd(e)}function $d(e,t,n){return n(function(){jd(t)&&Hd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Hd(e){var t=Bt(e,1);t!==null&&Et(t,e,1,-1)}function ja(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,ve,e),[t.memoizedState,e]}function ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ud(){return gt().memoizedState}function $o(e,t,n,r){var o=Dt();ve.flags|=e,o.memoizedState=ro(1|t,n,void 0,r===void 0?null:r)}function Cl(e,t,n,r){var o=gt();r=r===void 0?null:r;var l=void 0;if(Te!==null){var i=Te.memoizedState;if(l=i.destroy,r!==null&&Fs(r,i.deps)){o.memoizedState=ro(t,n,l,r);return}}ve.flags|=e,o.memoizedState=ro(1|t,n,l,r)}function Ha(e,t){return $o(8390656,8,e,t)}function Rs(e,t){return Cl(2048,8,e,t)}function Bd(e,t){return Cl(4,2,e,t)}function Wd(e,t){return Cl(4,4,e,t)}function Vd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,Vd.bind(null,t,e),n)}function $s(){}function Qd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yd(e,t,n){return Dn&21?(kt(n,t)||(n=ed(),ve.lanes|=n,_n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function zp(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=ti.transition;ti.transition={};try{e(!1),t()}finally{oe=n,ti.transition=r}}function Kd(){return gt().memoizedState}function Rp(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qd(e))Zd(t,n);else if(n=Md(e,t,n,r),n!==null){var o=We();Et(n,e,r,o),Jd(n,t,r)}}function $p(e,t,n){var r=an(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Zd(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,s=l(i,n);if(o.hasEagerState=!0,o.eagerState=s,kt(s,i)){var u=t.interleaved;u===null?(o.next=o,_s(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Md(e,t,o,r),n!==null&&(o=We(),Et(n,e,r,o),Jd(n,t,r))}}function qd(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Zd(e,t){zr=sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gs(e,n)}}var al={readContext:ht,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},jp={readContext:ht,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,Vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rp.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:ja,useDebugValue:$s,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=zp.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,o=Dt();if(he){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Pe===null)throw Error(M(349));Dn&30||zd(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Ha($d.bind(null,r,l,e),[e]),r.flags|=2048,ro(9,Rd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Pe.identifierPrefix;if(he){var n=$t,r=Rt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=to++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hp={readContext:ht,useCallback:Qd,useContext:ht,useEffect:Rs,useImperativeHandle:Gd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Xd,useReducer:ni,useRef:Ud,useState:function(){return ni(no)},useDebugValue:$s,useDeferredValue:function(e){var t=gt();return Yd(t,Te.memoizedState,e)},useTransition:function(){var e=ni(no)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Ld,useId:Kd,unstable_isNewReconciler:!1},Up={readContext:ht,useCallback:Qd,useContext:ht,useEffect:Rs,useImperativeHandle:Gd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Xd,useReducer:ri,useRef:Ud,useState:function(){return ri(no)},useDebugValue:$s,useDeferredValue:function(e){var t=gt();return Te===null?t.memoizedState=e:Yd(t,Te.memoizedState,e)},useTransition:function(){var e=ri(no)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Fd,useSyncExternalStore:Ld,useId:Kd,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $i(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nl={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),o=an(e),l=jt(r,o);l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,o),t!==null&&(Et(t,e,o,r),zo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),o=an(e),l=jt(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,o),t!==null&&(Et(t,e,o,r),zo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=an(e),o=jt(n,r);o.tag=2,t!=null&&(o.callback=t),t=ln(e,o,r),t!==null&&(Et(t,e,r,n),zo(t,e,r))}};function Ua(e,t,n,r,o,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,r)||!Yr(o,l):!0}function ec(e,t,n){var r=!1,o=cn,l=t.contextType;return typeof l=="object"&&l!==null?l=ht(l):(o=Je(t)?Tn:He.current,r=t.contextTypes,l=(r=r!=null)?rr(e,o):cn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ba(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nl.enqueueReplaceState(t,t.state,null)}function ji(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ps(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=ht(l):(l=Je(t)?Tn:He.current,o.context=rr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&($i(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Nl.enqueueReplaceState(o,o.state,null),ll(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function sr(e,t){try{var n="",r=t;do n+=gf(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function oi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function tc(e,t,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dl||(dl=!0,qi=r),Hi(e,t)},n}function nc(e,t,n){n=jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Hi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Hi(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Wa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bp;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=rm.bind(null,e,t,n),t.then(e,e))}function Va(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ga(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Wp=Vt.ReactCurrentOwner,qe=!1;function Be(e,t,n,r){t.child=e===null?Pd(t,null,n,r):lr(t,e.child,n,r)}function Qa(e,t,n,r,o){n=n.render;var l=t.ref;return er(t,o),r=Ls(e,t,n,r,l,o),n=zs(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(he&&n&&Es(t),t.flags|=1,Be(e,t,r,o),t.child)}function Xa(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Qs(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,rc(e,t,l,r,o)):(e=Bo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(i,r)&&e.ref===t.ref)return Wt(e,t,o)}return t.flags|=1,e=un(l,r),e.ref=t.ref,e.return=t,t.child=e}function rc(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Yr(l,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Wt(e,t,o)}return Ui(e,t,n,r,o)}function oc(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Yn,nt),nt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Yn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,de(Yn,nt),nt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,de(Yn,nt),nt|=r;return Be(e,t,o,n),t.child}function lc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ui(e,t,n,r,o){var l=Je(n)?Tn:He.current;return l=rr(t,l),er(t,o),n=Ls(e,t,n,r,l,o),r=zs(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(he&&r&&Es(t),t.flags|=1,Be(e,t,n,o),t.child)}function Ya(e,t,n,r,o){if(Je(n)){var l=!0;el(t)}else l=!1;if(er(t,o),t.stateNode===null)jo(e,t),ec(t,n,r),ji(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=ht(d):(d=Je(n)?Tn:He.current,d=rr(t,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==r||u!==d)&&Ba(t,i,r,d),Kt=!1;var m=t.memoizedState;i.state=m,ll(t,r,i,o),u=t.memoizedState,s!==r||m!==u||Ze.current||Kt?(typeof f=="function"&&($i(t,n,f,r),u=t.memoizedState),(s=Kt||Ua(t,n,s,r,m,u,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=d,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Od(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:xt(t.type,s),i.props=d,h=t.pendingProps,m=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=ht(u):(u=Je(n)?Tn:He.current,u=rr(t,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==h||m!==u)&&Ba(t,i,r,u),Kt=!1,m=t.memoizedState,i.state=m,ll(t,r,i,o);var v=t.memoizedState;s!==h||m!==v||Ze.current||Kt?(typeof w=="function"&&($i(t,n,w,r),v=t.memoizedState),(d=Kt||Ua(t,n,d,r,m,v,u)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=u,r=d):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Bi(e,t,n,r,l,o)}function Bi(e,t,n,r,o,l){lc(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Aa(t,n,!1),Wt(e,t,l);r=t.stateNode,Wp.current=t;var s=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=lr(t,e.child,null,l),t.child=lr(t,null,s,l)):Be(e,t,s,l),t.memoizedState=r.state,o&&Aa(t,n,!0),t.child}function ic(e){var t=e.stateNode;t.pendingContext?Oa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(e,t.context,!1),Ms(e,t.containerInfo)}function Ka(e,t,n,r,o){return or(),bs(o),t.flags|=256,Be(e,t,n,r),t.child}var Wi={dehydrated:null,treeContext:null,retryLane:0};function Vi(e){return{baseLanes:e,cachePool:null,transitions:null}}function sc(e,t,n){var r=t.pendingProps,o=ye.current,l=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),de(ye,o&1),e===null)return zi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=bl(i,r,0,null),e=En(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Vi(n),t.memoizedState=Wi,e):js(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Vp(e,t,i,r,s,o,n);if(l){l=r.fallback,i=t.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=un(o,u),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?l=un(s,l):(l=En(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Vi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Wi,r}return l=e.child,e=l.sibling,r=un(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function js(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bo(e,t,n,r){return r!==null&&bs(r),lr(t,e.child,null,n),e=js(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vp(e,t,n,r,o,l,i){if(n)return t.flags&256?(t.flags&=-257,r=oi(Error(M(422))),bo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=bl({mode:"visible",children:r.children},o,0,null),l=En(l,o,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&lr(t,e.child,null,i),t.child.memoizedState=Vi(i),t.memoizedState=Wi,l);if(!(t.mode&1))return bo(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(M(419)),r=oi(l,r,void 0),bo(e,t,i,r)}if(s=(i&e.childLanes)!==0,qe||s){if(r=Pe,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Bt(e,o),Et(r,e,o,-1))}return Gs(),r=oi(Error(M(421))),bo(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=om.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,rt=on(o.nextSibling),ot=t,he=!0,St=null,e!==null&&(ct[ft++]=Rt,ct[ft++]=$t,ct[ft++]=In,Rt=e.id,$t=e.overflow,In=t),t=js(t,r.children),t.flags|=4096,t)}function qa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ri(e.return,t,n)}function li(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function ac(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Be(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qa(e,n,t);else if(e.tag===19)qa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&il(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),li(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&il(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}li(t,!0,n,null,l);break;case"together":li(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gp(e,t,n){switch(t.tag){case 3:ic(t),or();break;case 5:Ad(t);break;case 1:Je(t.type)&&el(t);break;case 4:Ms(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;de(rl,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?sc(e,t,n):(de(ye,ye.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ac(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,oc(e,t,n)}return Wt(e,t,n)}var uc,Gi,dc,cc;uc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gi=function(){};dc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Cn(Mt.current);var l=null;switch(n){case"input":o=mi(e,o),r=mi(e,r),l=[];break;case"select":o=xe({},o,{value:void 0}),r=xe({},r,{value:void 0}),l=[];break;case"textarea":o=yi(e,o),r=yi(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zo)}xi(n,r);var i;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var s=o[d];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ur.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var u=r[d];if(s=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&u!==s&&(u!=null||s!=null))if(d==="style")if(s){for(i in s)!s.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&s[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(l=l||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&fe("scroll",e),l||s===u||(l=[])):(l=l||[]).push(d,u))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};cc=function(e,t,n,r){n!==r&&(t.flags|=4)};function kr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qp(e,t,n){var r=t.pendingProps;switch(ks(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Je(t.type)&&Jo(),$e(t),null;case 3:return r=t.stateNode,ir(),pe(Ze),pe(He),As(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(es(St),St=null))),Gi(e,t),$e(t),null;case 5:Os(t);var o=Cn(eo.current);if(n=t.type,e!==null&&t.stateNode!=null)dc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return $e(t),null}if(e=Cn(Mt.current),Eo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[_t]=t,r[Zr]=l,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)fe(Pr[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":ia(r,l),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},fe("invalid",r);break;case"textarea":aa(r,l),fe("invalid",r)}xi(n,l),o=null;for(var i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&No(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&No(r.textContent,s,e),o=["children",""+s]):Ur.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":ho(r),sa(r,l,!0);break;case"textarea":ho(r),ua(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Zo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$u(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[_t]=t,e[Zr]=r,uc(e,t,!1,!1),t.stateNode=e;e:{switch(i=wi(n,r),n){case"dialog":fe("cancel",e),fe("close",e),o=r;break;case"iframe":case"object":case"embed":fe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)fe(Pr[o],e);o=r;break;case"source":fe("error",e),o=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),o=r;break;case"details":fe("toggle",e),o=r;break;case"input":ia(e,r),o=mi(e,r),fe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xe({},r,{value:void 0}),fe("invalid",e);break;case"textarea":aa(e,r),o=yi(e,r),fe("invalid",e);break;default:o=r}xi(n,o),s=o;for(l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="style"?Uu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ju(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Br(e,u):typeof u=="number"&&Br(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ur.hasOwnProperty(l)?u!=null&&l==="onScroll"&&fe("scroll",e):u!=null&&ds(e,l,u,i))}switch(n){case"input":ho(e),sa(e,r,!1);break;case"textarea":ho(e),ua(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Kn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)cc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Cn(eo.current),Cn(Mt.current),Eo(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(l=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:No(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return $e(t),null;case 13:if(pe(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&rt!==null&&t.mode&1&&!(t.flags&128))Dd(),or(),t.flags|=98560,l=!1;else if(l=Eo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[_t]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else St!==null&&(es(St),St=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ie===0&&(Ie=3):Gs())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return ir(),Gi(e,t),e===null&&Kr(t.stateNode.containerInfo),$e(t),null;case 10:return Ds(t.type._context),$e(t),null;case 17:return Je(t.type)&&Jo(),$e(t),null;case 19:if(pe(ye),l=t.memoizedState,l===null)return $e(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)kr(l,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=il(e),i!==null){for(t.flags|=128,kr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ce()>ar&&(t.flags|=128,r=!0,kr(l,!1),t.lanes=4194304)}else{if(!r)if(e=il(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!he)return $e(t),null}else 2*Ce()-l.renderingStartTime>ar&&n!==1073741824&&(t.flags|=128,r=!0,kr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ce(),t.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return Vs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Xp(e,t){switch(ks(t),t.tag){case 1:return Je(t.type)&&Jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ir(),pe(Ze),pe(He),As(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Os(t),null;case 13:if(pe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ye),null;case 4:return ir(),null;case 10:return Ds(t.type._context),null;case 22:case 23:return Vs(),null;case 24:return null;default:return null}}var To=!1,je=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,A=null;function Xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Qi(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Za=!1;function Kp(e,t){if(_i=Yo,e=gd(),Ns(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,s=-1,u=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var w;h!==n||o!==0&&h.nodeType!==3||(s=i+o),h!==l||r!==0&&h.nodeType!==3||(u=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(w=h.firstChild)!==null;)m=h,h=w;for(;;){if(h===e)break t;if(m===n&&++d===o&&(s=i),m===l&&++f===r&&(u=i),(w=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=w}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pi={focusedElem:e,selectionRange:n},Yo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,T=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:xt(t.type,C),T);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(y){Se(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return v=Za,Za=!1,v}function Rr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Qi(t,n,l)}o=o.next}while(o!==r)}}function El(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fc(e){var t=e.alternate;t!==null&&(e.alternate=null,fc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[Zr],delete t[Ai],delete t[Mp],delete t[Op])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pc(e){return e.tag===5||e.tag===3||e.tag===4}function Ja(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zo));else if(r!==4&&(e=e.child,e!==null))for(Yi(e,t,n),e=e.sibling;e!==null;)Yi(e,t,n),e=e.sibling}function Ki(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}var Oe=null,wt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)mc(e,t,n),n=n.sibling}function mc(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(gl,n)}catch{}switch(n.tag){case 5:je||Xn(n,t);case 6:var r=Oe,o=wt;Oe=null,Xt(e,t,n),Oe=r,wt=o,Oe!==null&&(wt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(wt?(e=Oe,n=n.stateNode,e.nodeType===8?Zl(e.parentNode,n):e.nodeType===1&&Zl(e,n),Qr(e)):Zl(Oe,n.stateNode));break;case 4:r=Oe,o=wt,Oe=n.stateNode.containerInfo,wt=!0,Xt(e,t,n),Oe=r,wt=o;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Qi(n,t,i),o=o.next}while(o!==r)}Xt(e,t,n);break;case 1:if(!je&&(Xn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Se(n,t,s)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Xt(e,t,n),je=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yp),t.forEach(function(r){var o=lm.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:Oe=s.stateNode,wt=!1;break e;case 3:Oe=s.stateNode.containerInfo,wt=!0;break e;case 4:Oe=s.stateNode.containerInfo,wt=!0;break e}s=s.return}if(Oe===null)throw Error(M(160));mc(l,i,o),Oe=null,wt=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(d){Se(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hc(t,e),t=t.sibling}function hc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Tt(e),r&4){try{Rr(3,e,e.return),El(3,e)}catch(C){Se(e,e.return,C)}try{Rr(5,e,e.return)}catch(C){Se(e,e.return,C)}}break;case 1:yt(t,e),Tt(e),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(yt(t,e),Tt(e),r&512&&n!==null&&Xn(n,n.return),e.flags&32){var o=e.stateNode;try{Br(o,"")}catch(C){Se(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&zu(o,l),wi(s,i);var d=wi(s,l);for(i=0;i<u.length;i+=2){var f=u[i],h=u[i+1];f==="style"?Uu(o,h):f==="dangerouslySetInnerHTML"?ju(o,h):f==="children"?Br(o,h):ds(o,f,h,d)}switch(s){case"input":hi(o,l);break;case"textarea":Ru(o,l);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Kn(o,!!l.multiple,w,!1):m!==!!l.multiple&&(l.defaultValue!=null?Kn(o,!!l.multiple,l.defaultValue,!0):Kn(o,!!l.multiple,l.multiple?[]:"",!1))}o[Zr]=l}catch(C){Se(e,e.return,C)}}break;case 6:if(yt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(C){Se(e,e.return,C)}}break;case 3:if(yt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(t.containerInfo)}catch(C){Se(e,e.return,C)}break;case 4:yt(t,e),Tt(e);break;case 13:yt(t,e),Tt(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Bs=Ce())),r&4&&eu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(je=(d=je)||f,yt(t,e),je=d):yt(t,e),Tt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(A=e,f=e.child;f!==null;){for(h=A=f;A!==null;){switch(m=A,w=m.child,m.tag){case 0:case 11:case 14:case 15:Rr(4,m,m.return);break;case 1:Xn(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(C){Se(r,n,C)}}break;case 5:Xn(m,m.return);break;case 22:if(m.memoizedState!==null){nu(h);continue}}w!==null?(w.return=m,A=w):nu(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{o=h.stateNode,d?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=h.stateNode,u=h.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Hu("display",i))}catch(C){Se(e,e.return,C)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(C){Se(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yt(t,e),Tt(e),r&4&&eu(e);break;case 21:break;default:yt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pc(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Br(o,""),r.flags&=-33);var l=Ja(e);Ki(e,l,o);break;case 3:case 4:var i=r.stateNode.containerInfo,s=Ja(e);Yi(e,s,i);break;default:throw Error(M(161))}}catch(u){Se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qp(e,t,n){A=e,gc(e)}function gc(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var o=A,l=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||To;if(!i){var s=o.alternate,u=s!==null&&s.memoizedState!==null||je;s=To;var d=je;if(To=i,(je=u)&&!d)for(A=o;A!==null;)i=A,u=i.child,i.tag===22&&i.memoizedState!==null?ru(o):u!==null?(u.return=i,A=u):ru(o);for(;l!==null;)A=l,gc(l),l=l.sibling;A=o,To=s,je=d}tu(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,A=l):tu(e)}}function tu(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||El(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!je)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&$a(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}je||t.flags&512&&Xi(t)}catch(m){Se(t,t.return,m)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function nu(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function ru(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{El(4,t)}catch(u){Se(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Se(t,o,u)}}var l=t.return;try{Xi(t)}catch(u){Se(t,l,u)}break;case 5:var i=t.return;try{Xi(t)}catch(u){Se(t,i,u)}}}catch(u){Se(t,t.return,u)}if(t===e){A=null;break}var s=t.sibling;if(s!==null){s.return=t.return,A=s;break}A=t.return}}var Zp=Math.ceil,ul=Vt.ReactCurrentDispatcher,Hs=Vt.ReactCurrentOwner,mt=Vt.ReactCurrentBatchConfig,ee=0,Pe=null,Ee=null,Le=0,nt=0,Yn=pn(0),Ie=0,oo=null,_n=0,kl=0,Us=0,$r=null,Ye=null,Bs=0,ar=1/0,Lt=null,dl=!1,qi=null,sn=null,Io=!1,en=null,cl=0,jr=0,Zi=null,Ho=-1,Uo=0;function We(){return ee&6?Ce():Ho!==-1?Ho:Ho=Ce()}function an(e){return e.mode&1?ee&2&&Le!==0?Le&-Le:Fp.transition!==null?(Uo===0&&(Uo=ed()),Uo):(e=oe,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function Et(e,t,n,r){if(50<jr)throw jr=0,Zi=null,Error(M(185));io(e,n,r),(!(ee&2)||e!==Pe)&&(e===Pe&&(!(ee&2)&&(kl|=n),Ie===4&&Zt(e,Le)),et(e,r),n===1&&ee===0&&!(t.mode&1)&&(ar=Ce()+500,Sl&&mn()))}function et(e,t){var n=e.callbackNode;Ff(e,t);var r=Xo(e,e===Pe?Le:0);if(r===0)n!==null&&fa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fa(n),t===1)e.tag===0?Ap(ou.bind(null,e)):bd(ou.bind(null,e)),_p(function(){!(ee&6)&&mn()}),n=null;else{switch(td(r)){case 1:n=hs;break;case 4:n=Zu;break;case 16:n=Qo;break;case 536870912:n=Ju;break;default:n=Qo}n=Ec(n,yc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yc(e,t){if(Ho=-1,Uo=0,ee&6)throw Error(M(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=Xo(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fl(e,r);else{t=r;var o=ee;ee|=2;var l=xc();(Pe!==e||Le!==t)&&(Lt=null,ar=Ce()+500,Nn(e,t));do try{tm();break}catch(s){vc(e,s)}while(1);Is(),ul.current=l,ee=o,Ee!==null?t=0:(Pe=null,Le=0,t=Ie)}if(t!==0){if(t===2&&(o=ki(e),o!==0&&(r=o,t=Ji(e,o))),t===1)throw n=oo,Nn(e,0),Zt(e,r),et(e,Ce()),n;if(t===6)Zt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Jp(o)&&(t=fl(e,r),t===2&&(l=ki(e),l!==0&&(r=l,t=Ji(e,l))),t===1))throw n=oo,Nn(e,0),Zt(e,r),et(e,Ce()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:vn(e,Ye,Lt);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Bs+500-Ce(),10<t)){if(Xo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Oi(vn.bind(null,e,Ye,Lt),t);break}vn(e,Ye,Lt);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Nt(r);l=1<<i,i=t[i],i>o&&(o=i),r&=~l}if(r=o,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zp(r/1960))-r,10<r){e.timeoutHandle=Oi(vn.bind(null,e,Ye,Lt),r);break}vn(e,Ye,Lt);break;case 5:vn(e,Ye,Lt);break;default:throw Error(M(329))}}}return et(e,Ce()),e.callbackNode===n?yc.bind(null,e):null}function Ji(e,t){var n=$r;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=fl(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&es(t)),e}function es(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Jp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!kt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Us,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(ee&6)throw Error(M(327));tr();var t=Xo(e,0);if(!(t&1))return et(e,Ce()),null;var n=fl(e,t);if(e.tag!==0&&n===2){var r=ki(e);r!==0&&(t=r,n=Ji(e,r))}if(n===1)throw n=oo,Nn(e,0),Zt(e,t),et(e,Ce()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Ye,Lt),et(e,Ce()),null}function Ws(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(ar=Ce()+500,Sl&&mn())}}function Pn(e){en!==null&&en.tag===0&&!(ee&6)&&tr();var t=ee;ee|=1;var n=mt.transition,r=oe;try{if(mt.transition=null,oe=1,e)return e()}finally{oe=r,mt.transition=n,ee=t,!(ee&6)&&mn()}}function Vs(){nt=Yn.current,pe(Yn)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dp(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(ks(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jo();break;case 3:ir(),pe(Ze),pe(He),As();break;case 5:Os(r);break;case 4:ir();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Ds(r.type._context);break;case 22:case 23:Vs()}n=n.return}if(Pe=e,Ee=e=un(e.current,null),Le=nt=t,Ie=0,oo=null,Us=kl=_n=0,Ye=$r=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=o,r.next=i}n.pending=r}Sn=null}return e}function vc(e,t){do{var n=Ee;try{if(Is(),Ro.current=al,sl){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sl=!1}if(Dn=0,_e=Te=ve=null,zr=!1,to=0,Hs.current=null,n===null||n.return===null){Ie=1,oo=t,Ee=null;break}e:{var l=e,i=n.return,s=n,u=t;if(t=Le,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=s,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Va(i);if(w!==null){w.flags&=-257,Ga(w,i,s,l,t),w.mode&1&&Wa(l,d,t),t=w,u=d;var v=t.updateQueue;if(v===null){var C=new Set;C.add(u),t.updateQueue=C}else v.add(u);break e}else{if(!(t&1)){Wa(l,d,t),Gs();break e}u=Error(M(426))}}else if(he&&s.mode&1){var T=Va(i);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Ga(T,i,s,l,t),bs(sr(u,s));break e}}l=u=sr(u,s),Ie!==4&&(Ie=2),$r===null?$r=[l]:$r.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=tc(l,u,t);Ra(l,g);break e;case 1:s=u;var p=l.type,c=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(sn===null||!sn.has(c)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=nc(l,s,t);Ra(l,y);break e}}l=l.return}while(l!==null)}Sc(n)}catch(b){t=b,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function xc(){var e=ul.current;return ul.current=al,e===null?al:e}function Gs(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Pe===null||!(_n&268435455)&&!(kl&268435455)||Zt(Pe,Le)}function fl(e,t){var n=ee;ee|=2;var r=xc();(Pe!==e||Le!==t)&&(Lt=null,Nn(e,t));do try{em();break}catch(o){vc(e,o)}while(1);if(Is(),ee=n,ul.current=r,Ee!==null)throw Error(M(261));return Pe=null,Le=0,Ie}function em(){for(;Ee!==null;)wc(Ee)}function tm(){for(;Ee!==null&&!bf();)wc(Ee)}function wc(e){var t=Nc(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Sc(e):Ee=t,Hs.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xp(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ee=null;return}}else if(n=Qp(n,t,nt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ie===0&&(Ie=5)}function vn(e,t,n){var r=oe,o=mt.transition;try{mt.transition=null,oe=1,nm(e,t,n,r)}finally{mt.transition=o,oe=r}return null}function nm(e,t,n,r){do tr();while(en!==null);if(ee&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Lf(e,l),e===Pe&&(Ee=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Io||(Io=!0,Ec(Qo,function(){return tr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=mt.transition,mt.transition=null;var i=oe;oe=1;var s=ee;ee|=4,Hs.current=null,Kp(e,n),hc(n,e),Cp(Pi),Yo=!!_i,Pi=_i=null,e.current=n,qp(n),Tf(),ee=s,oe=i,mt.transition=l}else e.current=n;if(Io&&(Io=!1,en=e,cl=o),l=e.pendingLanes,l===0&&(sn=null),_f(n.stateNode),et(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(dl)throw dl=!1,e=qi,qi=null,e;return cl&1&&e.tag!==0&&tr(),l=e.pendingLanes,l&1?e===Zi?jr++:(jr=0,Zi=e):jr=0,mn(),null}function tr(){if(en!==null){var e=td(cl),t=mt.transition,n=oe;try{if(mt.transition=null,oe=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,cl=0,ee&6)throw Error(M(331));var o=ee;for(ee|=4,A=e.current;A!==null;){var l=A,i=l.child;if(A.flags&16){var s=l.deletions;if(s!==null){for(var u=0;u<s.length;u++){var d=s[u];for(A=d;A!==null;){var f=A;switch(f.tag){case 0:case 11:case 15:Rr(8,f,l)}var h=f.child;if(h!==null)h.return=f,A=h;else for(;A!==null;){f=A;var m=f.sibling,w=f.return;if(fc(f),f===d){A=null;break}if(m!==null){m.return=w,A=m;break}A=w}}}var v=l.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var T=C.sibling;C.sibling=null,C=T}while(C!==null)}}A=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,A=i;else e:for(;A!==null;){if(l=A,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Rr(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,A=g;break e}A=l.return}}var p=e.current;for(A=p;A!==null;){i=A;var c=i.child;if(i.subtreeFlags&2064&&c!==null)c.return=i,A=c;else e:for(i=p;A!==null;){if(s=A,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:El(9,s)}}catch(b){Se(s,s.return,b)}if(s===i){A=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,A=y;break e}A=s.return}}if(ee=o,mn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(gl,e)}catch{}r=!0}return r}finally{oe=n,mt.transition=t}}return!1}function lu(e,t,n){t=sr(n,t),t=tc(e,t,1),e=ln(e,t,1),t=We(),e!==null&&(io(e,1,t),et(e,t))}function Se(e,t,n){if(e.tag===3)lu(e,e,n);else for(;t!==null;){if(t.tag===3){lu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=sr(n,e),e=nc(t,e,1),t=ln(t,e,1),e=We(),t!==null&&(io(t,1,e),et(t,e));break}}t=t.return}}function rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(Ie===4||Ie===3&&(Le&130023424)===Le&&500>Ce()-Bs?Nn(e,0):Us|=n),et(e,t)}function Cc(e,t){t===0&&(e.mode&1?(t=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):t=1);var n=We();e=Bt(e,t),e!==null&&(io(e,t,n),et(e,n))}function om(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cc(e,n)}function lm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Cc(e,n)}var Nc;Nc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,Gp(e,t,n);qe=!!(e.flags&131072)}else qe=!1,he&&t.flags&1048576&&Td(t,nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jo(e,t),e=t.pendingProps;var o=rr(t,He.current);er(t,n),o=Ls(null,t,r,e,o,n);var l=zs();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(l=!0,el(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ps(t),o.updater=Nl,t.stateNode=o,o._reactInternals=t,ji(t,r,e,n),t=Bi(null,t,r,!0,l,n)):(t.tag=0,he&&l&&Es(t),Be(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=sm(r),e=xt(r,e),o){case 0:t=Ui(null,t,r,e,n);break e;case 1:t=Ya(null,t,r,e,n);break e;case 11:t=Qa(null,t,r,e,n);break e;case 14:t=Xa(null,t,r,xt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Ui(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Ya(e,t,r,o,n);case 3:e:{if(ic(t),e===null)throw Error(M(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Od(e,t),ll(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=sr(Error(M(423)),t),t=Ka(e,t,r,n,o);break e}else if(r!==o){o=sr(Error(M(424)),t),t=Ka(e,t,r,n,o);break e}else for(rt=on(t.stateNode.containerInfo.firstChild),ot=t,he=!0,St=null,n=Pd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===o){t=Wt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Ad(t),e===null&&zi(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,i=o.children,Mi(r,o)?i=null:l!==null&&Mi(r,l)&&(t.flags|=32),lc(e,t),Be(e,t,i,n),t.child;case 6:return e===null&&zi(t),null;case 13:return sc(e,t,n);case 4:return Ms(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),Qa(e,t,r,o,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,de(rl,r._currentValue),r._currentValue=i,l!==null)if(kt(l.value,i)){if(l.children===o.children&&!Ze.current){t=Wt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){i=l.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=jt(-1,n&-n),u.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ri(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(M(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Ri(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,er(t,n),o=ht(o),r=r(o),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,o=xt(r,t.pendingProps),o=xt(r.type,o),Xa(e,t,r,o,n);case 15:return rc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:xt(r,o),jo(e,t),t.tag=1,Je(r)?(e=!0,el(t)):e=!1,er(t,n),ec(t,r,o),ji(t,r,o,n),Bi(null,t,r,!0,e,n);case 19:return ac(e,t,n);case 22:return oc(e,t,n)}throw Error(M(156,t.tag))};function Ec(e,t){return qu(e,t)}function im(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new im(e,t,n,r)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sm(e){if(typeof e=="function")return Qs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fs)return 11;if(e===ps)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bo(e,t,n,r,o,l){var i=2;if(r=e,typeof e=="function")Qs(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $n:return En(n.children,o,l,t);case cs:i=8,o|=8;break;case di:return e=pt(12,n,t,o|2),e.elementType=di,e.lanes=l,e;case ci:return e=pt(13,n,t,o),e.elementType=ci,e.lanes=l,e;case fi:return e=pt(19,n,t,o),e.elementType=fi,e.lanes=l,e;case Au:return bl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mu:i=10;break e;case Ou:i=9;break e;case fs:i=11;break e;case ps:i=14;break e;case Yt:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=pt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function En(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=pt(22,e,r,t),e.elementType=Au,e.lanes=n,e.stateNode={isHidden:!1},e}function ii(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function si(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function am(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xs(e,t,n,r,o,l,i,s,u){return e=new am(e,t,n,s,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=pt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(l),e}function um(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kc(e){if(!e)return cn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Je(n))return kd(e,n,t)}return t}function bc(e,t,n,r,o,l,i,s,u){return e=Xs(n,r,!0,e,o,l,i,s,u),e.context=kc(null),n=e.current,r=We(),o=an(n),l=jt(r,o),l.callback=t??null,ln(n,l,o),e.current.lanes=o,io(e,o,r),et(e,r),e}function Tl(e,t,n,r){var o=t.current,l=We(),i=an(o);return n=kc(n),t.context===null?t.context=n:t.pendingContext=n,t=jt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(o,t,i),e!==null&&(Et(e,o,i,l),zo(e,o,i)),i}function pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ys(e,t){iu(e,t),(e=e.alternate)&&iu(e,t)}function dm(){return null}var Tc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ks(e){this._internalRoot=e}Il.prototype.render=Ks.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Tl(e,t,null,null)};Il.prototype.unmount=Ks.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Tl(null,e,null,null)}),t[Ut]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=od();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&id(e)}};function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function su(){}function cm(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var d=pl(i);l.call(d)}}var i=bc(t,r,e,0,null,!1,!1,"",su);return e._reactRootContainer=i,e[Ut]=i.current,Kr(e.nodeType===8?e.parentNode:e),Pn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var d=pl(u);s.call(d)}}var u=Xs(e,0,!1,null,null,!1,!1,"",su);return e._reactRootContainer=u,e[Ut]=u.current,Kr(e.nodeType===8?e.parentNode:e),Pn(function(){Tl(t,u,n,r)}),u}function _l(e,t,n,r,o){var l=n._reactRootContainer;if(l){var i=l;if(typeof o=="function"){var s=o;o=function(){var u=pl(i);s.call(u)}}Tl(t,i,e,o)}else i=cm(n,t,e,o,r);return pl(i)}nd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_r(t.pendingLanes);n!==0&&(gs(t,n|1),et(t,Ce()),!(ee&6)&&(ar=Ce()+500,mn()))}break;case 13:Pn(function(){var r=Bt(e,1);if(r!==null){var o=We();Et(r,e,1,o)}}),Ys(e,1)}};ys=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=We();Et(t,e,134217728,n)}Ys(e,134217728)}};rd=function(e){if(e.tag===13){var t=an(e),n=Bt(e,t);if(n!==null){var r=We();Et(n,e,t,r)}Ys(e,t)}};od=function(){return oe};ld=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};Ci=function(e,t,n){switch(t){case"input":if(hi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=wl(r);if(!o)throw Error(M(90));Lu(r),hi(r,o)}}}break;case"textarea":Ru(e,n);break;case"select":t=n.value,t!=null&&Kn(e,!!n.multiple,t,!1)}};Vu=Ws;Gu=Pn;var fm={usingClientEntryPoint:!1,Events:[ao,Bn,wl,Bu,Wu,Ws]},br={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yu(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{gl=Do.inject(pm),Pt=Do}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qs(t))throw Error(M(200));return um(e,t,null,n)};it.createRoot=function(e,t){if(!qs(e))throw Error(M(299));var n=!1,r="",o=Tc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xs(e,1,!1,null,null,n,!1,r,o),e[Ut]=t.current,Kr(e.nodeType===8?e.parentNode:e),new Ks(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Yu(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return Pn(e)};it.hydrate=function(e,t,n){if(!Dl(t))throw Error(M(200));return _l(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!qs(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",i=Tc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=bc(t,null,e,1,n??null,o,!1,l,i),e[Ut]=t.current,Kr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Il(t)};it.render=function(e,t,n){if(!Dl(t))throw Error(M(200));return _l(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(M(40));return e._reactRootContainer?(Pn(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};it.unstable_batchedUpdates=Ws;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return _l(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function Ic(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ic)}catch(e){console.error(e)}}Ic(),Iu.exports=it;var Dc=Iu.exports,au=Dc;ai.createRoot=au.createRoot,ai.hydrateRoot=au.hydrateRoot;var Ke=(e=>(e.ProfessorConflitoHorario="professor_conflito_horario",e.MaxAulasDia="max_aulas_dia",e.Intersticio="intersticio",e.Indisponivel="indisponivel",e.ConflitoDisponibilidadeDivisao="conflito_disponibilidade_divisao",e.TurmaErrada="turma_errada",e))(Ke||{});const Y=["segunda","terca","quarta","quinta","sexta"],Ae=["07:10-08:00","08:00-08:50","08:50-09:40","10:00-10:50","10:50-11:40","11:40-12:30"],Fe=["13:30-14:20","14:20-15:10","15:10-16:00","16:20-17:10","17:10-18:00","18:00-18:50"],An=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],fr=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],mm="grade_v1_data",ml={[Ke.ProfessorConflitoHorario]:{bg:"bg-pink-600",text:"text-white",name:"Conflito de Horrio (Professor)",description:"Alerta Crtico: Professor alocado em mltiplas turmas no mesmo horrio."},[Ke.TurmaErrada]:{bg:"bg-blue-500",text:"text-white",name:"Troca entre Turmas",description:"Disciplina alocada em uma turma diferente da original (e no  uma troca BNCC vlida)."},[Ke.Intersticio]:{bg:"bg-red-600",text:"text-white",name:"Interstcio < 11h",description:"Menos de 11 horas de descanso entre os dias de trabalho."},[Ke.MaxAulasDia]:{bg:"bg-orange-400",text:"text-white",name:"Excesso de Aulas",description:"Professor com mais de 8 aulas no dia."},[Ke.ConflitoDisponibilidadeDivisao]:{bg:"bg-purple-500",text:"text-white",name:"Conflito Diviso",description:"Professores de disciplina dividida com disponibilidades conflitantes no mesmo horrio."},[Ke.Indisponivel]:{bg:"bg-yellow-400",text:"text-gray-800",name:"Fora de Disponibilidade",description:"Aula alocada em horrio indisponvel para o professor."}},ts=e=>{const[t,n]=e.split("-"),[r,o]=t.split(":").map(Number),[l,i]=n.split(":").map(Number);return{start:r*60+o,end:l*60+i}},ns=e=>{const t=[],{professores:n,grade:r,disciplinas:o,atribuicoes:l,turmas:i}=e,s={};r.forEach(d=>{const f=`${d.professorId}-${d.dia}-${d.horario}`;s[f]||(s[f]=[]),s[f].push(d)});for(const d in s)if(s[d].length>1){const f=s[d],h=n.find(v=>v.id===f[0].professorId),m=f[0].dia,w=f[0].horario;t.push({id:`conflito-horario-${d}`,tipo:Ke.ProfessorConflitoHorario,detalhes:`Alerta Crtico: Professor ${(h==null?void 0:h.nome)||"Desconhecido"} est em ${f.length} lugares ao mesmo tempo na ${m} s ${w}.`,timestamp:Date.now(),gradeSlotIds:f.map(v=>v.id)})}return r.forEach(d=>{var h,m;const f=e.disciplinas.find(w=>w.id===d.disciplinaId);if(f&&f.turmaId!==d.turmaId){let w=!1;if(f.bnccId){const v=e.disciplinas.find(C=>C.turmaId===d.turmaId&&C.bnccId===f.bnccId);if(v){const C=e.atribuicoes.find(T=>T.disciplinaId===v.id);C&&C.professores.includes(d.professorId)&&(w=!0)}}if(!w){const v=((h=e.turmas.find(T=>T.id===f.turmaId))==null?void 0:h.nome)||`ID Invlido (${f.turmaId})`,C=((m=e.turmas.find(T=>T.id===d.turmaId))==null?void 0:m.nome)||`ID Invlido (${d.turmaId})`;t.push({id:`turma-errada-${d.id}`,tipo:Ke.TurmaErrada,detalhes:`Disciplina ${f.nome} da turma ${v} foi alocada na turma ${C}.`,timestamp:Date.now(),gradeSlotIds:[d.id]})}}}),n.forEach(d=>{const f=r.filter(m=>m.professorId===d.id),h={};f.forEach(m=>{const{start:w,end:v}=ts(m.horario);h[m.dia]?(h[m.dia].minStart=Math.min(h[m.dia].minStart,w),h[m.dia].maxEnd=Math.max(h[m.dia].maxEnd,v)):h[m.dia]={minStart:w,maxEnd:v}});for(let m=0;m<Y.length-1;m++){const w=Y[m],v=Y[m+1];if(h[w]&&h[v]){const C=h[w].maxEnd,T=h[v].minStart;if(24*60-C+T<11*60){const p=f.filter(c=>c.dia===w||c.dia===v).map(c=>c.id);t.push({id:`intersticio-${d.id}-${w}-${v}`,tipo:Ke.Intersticio,detalhes:`Professor ${d.nome} tem menos de 11h de descanso entre ${w} e ${v}.`,timestamp:Date.now(),gradeSlotIds:p})}}}}),n.forEach(d=>{const f={};r.filter(h=>h.professorId===d.id).forEach(h=>{f[h.dia]||(f[h.dia]=[]),f[h.dia].push(h)});for(const h in f){const m=f[h].reduce((w,v)=>{const C=i.find(g=>g.id===v.turmaId),T=C!=null&&C.isModular?1.25:1;return w+T},0);m>8&&t.push({id:`max-aulas-${d.id}-${h}`,tipo:Ke.MaxAulasDia,detalhes:`Professor ${d.nome} tem o equivalente a ${m} aulas na ${h}.`,timestamp:Date.now(),gradeSlotIds:f[h].map(w=>w.id)})}}),r.forEach(d=>{const f=o.find(h=>h.id===d.disciplinaId);if(f&&f.divisao){const h=l.find(m=>m.disciplinaId===f.id);h&&h.professores.length>1&&h.professores.forEach(m=>{const w=n.find(v=>v.id===m);if(w){const v=w.disponibilidade[d.dia];(!v||!v.includes(d.horario))&&t.push({id:`conflito-divisao-${d.id}-${m}`,tipo:Ke.ConflitoDisponibilidadeDivisao,detalhes:`Conflito em disciplina dividida: ${f.nome}. Professor ${w.nome} est indisponvel neste horrio.`,timestamp:Date.now(),gradeSlotIds:[d.id]})}})}}),r.forEach(d=>{var h;const f=n.find(m=>m.id===d.professorId);if(f){const m=f.disponibilidade[d.dia];(!m||!m.includes(d.horario))&&t.push({id:`indisponivel-${d.id}`,tipo:Ke.Indisponivel,detalhes:`Aula de ${(h=o.find(w=>w.id===d.disciplinaId))==null?void 0:h.nome} para ${f.nome} est fora de sua disponibilidade.`,timestamp:Date.now(),gradeSlotIds:[d.id]})}}),Array.from(new Map(t.map(d=>[d.id,d])).values())};let Ct=null,dt=null;{const e={apiKey:"AIzaSyCw5hk7xIGMPJyLNPrc6eIXC59KpDSE9JY",authDomain:"gerenciadorhorario-c62e9.firebaseapp.com",projectId:"gerenciadorhorario-c62e9",storageBucket:"gerenciadorhorario-c62e9.appspot.com",messagingSenderId:"386276022565",appId:"1:386276022565:web:96f71441e3a86f0a67e2cc",measurementId:"G-X8NTQPQCPX"};xn.apps.length||xn.initializeApp(e),Ct=xn.auth(),dt=xn.firestore()}const _c=D.createContext(void 0),kn={version:"1.0",ano:new Date().getFullYear(),cursos:[],turmas:[],disciplinas:[],professores:[],atribuicoes:[],grade:[],alertas:[],bncc:[],toastMessage:null,draggedItem:null,clipboard:null,selectedSlotId:null,onlineUsers:[],saveStatus:"saved",lastModifiedBy:null,lastModifiedAt:null};let It=[kn],vt=0;const _o=e=>{const t=e.split("_"),n=t[0]||"",r=t[1]||"";let o=t.slice(2).join("_");const l=o.match(/(.*)-([01])$/);return l&&(o=l[1]),{turmaId:n,dia:r,horario:o}},hm=e=>{const t={...kn,...e};(typeof t.ano!="number"||isNaN(t.ano))&&(t.ano=new Date().getFullYear()),["cursos","turmas","disciplinas","professores","atribuicoes","grade","alertas","bncc","onlineUsers"].forEach(o=>{Array.isArray(t[o])||(t[o]=[])}),Array.isArray(t.turmas)&&(t.turmas=t.turmas.map(o=>o?{...o,isModular:!!o.isModular}:null).filter(Boolean)),Array.isArray(t.professores)&&(t.professores=t.professores.map(o=>o&&(typeof o.disponibilidade!="object"||o.disponibilidade===null||Array.isArray(o.disponibilidade))?{...o,disponibilidade:{}}:o).filter(Boolean)),Array.isArray(t.grade)&&(t.grade=t.grade.filter(o=>!o||typeof o!="object"?!1:["id","turmaId","dia","horario","disciplinaId","professorId"].every(i=>typeof o[i]=="string"&&o[i])));const r=new Set(t.turmas.map(o=>o.id));return t.grade=t.grade.filter(o=>r.has(o.turmaId)?!0:(console.warn(`Removing orphaned grade slot with invalid turmaId: ${o.turmaId}`,o),!1)),t},gm=(e,t)=>{switch(t.type){case"SET_STATE":return e;case"UPDATE_GRADE":{const{id:n,slot:r}=t.payload,o=e.grade.filter(l=>l.id!==n);return r&&o.push(r),{...e,grade:o}}case"POPULATE_GRADE":return{...e,grade:t.payload};case"DELETE_SLOT":{const{slotId:n}=t.payload;if(!e.grade.some(l=>l.id===n))return e;const o=e.grade.filter(l=>l.id!==n);return{...e,grade:o,selectedSlotId:null}}case"SWAP_GRADE_SLOTS":{const{sourceId:n,destinationId:r}=t.payload,o=e.grade.find(f=>f.id===n);if(!o)return e;const l=e.grade.find(f=>f.id===r),i=_o(n),s=_o(r),u=e.grade.filter(f=>f.id!==n&&f.id!==r),d={...o,id:r,turmaId:s.turmaId,dia:s.dia,horario:s.horario};if(u.push(d),l){const f={...l,id:n,turmaId:i.turmaId,dia:i.dia,horario:i.horario};u.push(f)}return{...e,grade:u}}case"ADD_CURSO":return{...e,cursos:[...e.cursos,t.payload]};case"UPDATE_CURSO":return{...e,cursos:e.cursos.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_CURSO":{const n=e.turmas.filter(o=>o.cursoId===t.payload.id).map(o=>o.id),r=e.disciplinas.filter(o=>n.includes(o.turmaId)).map(o=>o.id);return{...e,cursos:e.cursos.filter(o=>o.id!==t.payload.id),turmas:e.turmas.filter(o=>o.cursoId!==t.payload.id),disciplinas:e.disciplinas.filter(o=>!n.includes(o.turmaId)),atribuicoes:e.atribuicoes.filter(o=>!r.includes(o.disciplinaId)),grade:e.grade.filter(o=>!n.includes(o.turmaId))}}case"ADD_TURMA":return{...e,turmas:[...e.turmas,t.payload]};case"UPDATE_TURMA":return{...e,turmas:e.turmas.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_TURMA":{const n=e.disciplinas.filter(r=>r.turmaId===t.payload.id).map(r=>r.id);return{...e,turmas:e.turmas.filter(r=>r.id!==t.payload.id),disciplinas:e.disciplinas.filter(r=>r.turmaId!==t.payload.id),atribuicoes:e.atribuicoes.filter(r=>!n.includes(r.disciplinaId)),grade:e.grade.filter(r=>r.turmaId!==t.payload.id)}}case"ADD_DISCIPLINA":return{...e,disciplinas:[...e.disciplinas,t.payload]};case"UPDATE_DISCIPLINA":return{...e,disciplinas:e.disciplinas.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_DISCIPLINA":return{...e,disciplinas:e.disciplinas.filter(n=>n.id!==t.payload.id),atribuicoes:e.atribuicoes.filter(n=>n.disciplinaId!==t.payload.id),grade:e.grade.filter(n=>n.disciplinaId!==t.payload.id)};case"ADD_PROFESSOR":return{...e,professores:[...e.professores,t.payload]};case"UPDATE_PROFESSOR":return{...e,professores:e.professores.map(n=>n.id===t.payload.id?t.payload:n)};case"DELETE_PROFESSOR":return{...e,professores:e.professores.filter(n=>n.id!==t.payload.id),atribuicoes:e.atribuicoes.map(n=>({...n,professores:n.professores.filter(r=>r!==t.payload.id)})),grade:e.grade.filter(n=>n.professorId!==t.payload.id)};case"UPDATE_ATRIBUICAO":return e.atribuicoes.find(r=>r.disciplinaId===t.payload.disciplinaId)?{...e,atribuicoes:e.atribuicoes.map(r=>r.disciplinaId===t.payload.disciplinaId?t.payload:r)}:{...e,atribuicoes:[...e.atribuicoes,t.payload]};case"DELETE_ATRIBUICAO":return{...e,atribuicoes:e.atribuicoes.filter(n=>n.disciplinaId!==t.payload.disciplinaId)};case"UPDATE_ANO":return{...e,ano:t.payload};case"COPY_SLOT":{const{sourceSlotId:n}=t.payload,r=e.grade.find(o=>o.id===n);return r?{...e,clipboard:{sourceSlot:r,type:"copy"},draggedItem:null}:e}case"CUT_SLOT":{const{sourceSlotId:n}=t.payload,r=e.grade.find(l=>l.id===n);if(!r)return e;const o=e.grade.filter(l=>l.id!==n);return{...e,grade:o,clipboard:{sourceSlot:r,type:"cut"},draggedItem:null,selectedSlotId:null}}case"PASTE_SLOT":{const{destinationId:n}=t.payload,{clipboard:r,disciplinas:o}=e;if(!r)return e;const{sourceSlot:l}=r,i=_o(n),s=o.find(v=>v.id===l.disciplinaId),u=!!(s!=null&&s.divisao),d=u?n:`${i.turmaId}_${i.dia}_${i.horario}`,f={...l,id:d,turmaId:i.turmaId,dia:i.dia,horario:i.horario},h=!u,w=[...e.grade.filter(v=>{const C=_o(v.id);return C.turmaId===i.turmaId&&C.dia===i.dia&&C.horario===i.horario?h?!1:!(!(v.id.endsWith("-0")||v.id.endsWith("-1"))||v.id===n):!0}),f];return{...e,grade:w,clipboard:r.type==="cut"?null:e.clipboard}}case"CREATE_BNCC":{const{nome:n}=t.payload,r=`bncc-${Date.now()}`,o={id:r,nome:n},l=e.disciplinas.map(i=>i.nome===n?{...i,bnccId:r}:i);return{...e,disciplinas:l,bncc:[...e.bncc,o]}}case"DELETE_BNCC":{const{bnccId:n}=t.payload,r=e.disciplinas.map(o=>{if(o.bnccId===n){const{bnccId:l,...i}=o;return i}return o});return{...e,disciplinas:r,bncc:e.bncc.filter(o=>o.id!==n)}}}return e},ym=(e,t)=>{if(t.type==="SHOW_TOAST")return{...e,toastMessage:t.payload};if(t.type==="DRAG_START")return{...e,draggedItem:t.payload,clipboard:null,selectedSlotId:null};if(t.type==="DRAG_END")return{...e,draggedItem:null};if(t.type==="SELECT_SLOT")return{...e,selectedSlotId:t.payload.slotId};if(t.type==="SET_ONLINE_USERS")return{...e,onlineUsers:t.payload};if(t.type==="SET_SAVE_STATUS")return{...e,saveStatus:t.payload};if(t.type==="CLEAR_DATA"){if(dt){const{toastMessage:o,draggedItem:l,clipboard:i,selectedSlotId:s,onlineUsers:u,saveStatus:d,...f}=kn;dt.collection("timetables").doc("default").set(f)}else localStorage.removeItem(mm);const r={...kn,alertas:ns(kn)};return It=[r],vt=0,r}let n;if(t.type==="UNDO")return vt>0&&vt--,It[vt];if(t.type==="REDO")return vt<It.length-1&&vt++,It[vt];if(t.type==="SET_STATE"?(n=hm(t.payload),n.saveStatus="saved"):n=gm(e,t),n!==e){const r={...n,toastMessage:e.toastMessage,draggedItem:e.draggedItem,selectedSlotId:e.selectedSlotId,onlineUsers:e.onlineUsers,saveStatus:e.saveStatus,alertas:ns(n),lastModifiedBy:e.lastModifiedBy,lastModifiedAt:e.lastModifiedAt};if(t.type!=="SET_STATE"){if(Ct){const l=Ct.currentUser;r.lastModifiedBy=l?l.displayName||l.email:"Sistema"}else r.lastModifiedBy="Usurio Local";r.lastModifiedAt=new Date().toISOString()}return t.type==="SET_STATE"||t.type==="POPULATE_GRADE"?(It=[r],vt=0):(It=It.slice(0,vt+1),It.push(r),vt=It.length-1),r}return e},vm=({children:e})=>{const[t,n]=D.useReducer(ym,kn,C=>{let T=C;const g={...T,alertas:ns(T)};return It=[g],vt=0,g}),r=D.useRef(!1),o=D.useRef(!1);D.useEffect(()=>{if(!dt)return;const C=dt.collection("timetables").doc("default"),T=C.onSnapshot(g=>{if(o.current=!0,g.exists&&!g.metadata.hasPendingWrites){console.log("Received remote update from Firestore.");const p=g.data();p&&(r.current=!0,n({type:"SET_STATE",payload:p}))}else if(!g.exists){const{toastMessage:p,draggedItem:c,clipboard:y,selectedSlotId:b,onlineUsers:S,saveStatus:x,...k}=kn;C.set(k)}},g=>{o.current=!0,console.error("Error listening to Firestore document:",g),g.code==="permission-denied"?n({type:"SHOW_TOAST",payload:"Permisso negada. Verifique as Regras de Segurana do Firestore."}):n({type:"SHOW_TOAST",payload:"Erro de conexo com o banco de dados."})});return()=>T()},[]),D.useEffect(()=>{if(!Ct||!dt)return;let C,T;const g=()=>{C&&clearInterval(C),T&&T()},p=Ct.onAuthStateChanged(c=>{if(g(),c){const y=dt.collection("presence").doc(c.uid),b={id:c.uid,name:c.displayName||c.email||"Usurio Annimo",email:c.email||""};y.set({...b,lastSeen:xn.firestore.FieldValue.serverTimestamp()}),C=window.setInterval(()=>{y.update({lastSeen:xn.firestore.FieldValue.serverTimestamp()})},15e3),T=dt.collection("presence").where("lastSeen",">",new Date(Date.now()-3e4)).onSnapshot(S=>{const x=S.docs.map(k=>k.data());n({type:"SET_ONLINE_USERS",payload:x})},S=>{console.error("Error listening to presence collection:",S)})}else n({type:"SET_ONLINE_USERS",payload:[]})});return()=>{p(),g();const c=Ct.currentUser;c&&dt.collection("presence").doc(c.uid).delete()}},[]);const{alertas:l,toastMessage:i,draggedItem:s,clipboard:u,selectedSlotId:d,onlineUsers:f,saveStatus:h,...m}=t,w=JSON.stringify(m);D.useEffect(()=>{{if(r.current){r.current=!1,n({type:"SET_SAVE_STATUS",payload:"saved"});return}if(!o.current)return;n({type:"SET_SAVE_STATUS",payload:"saving"});const C=setTimeout(()=>{if(!dt)return;const T=JSON.parse(w);dt.collection("timetables").doc("default").set(T,{merge:!0}).then(()=>{n({type:"SET_SAVE_STATUS",payload:"saved"})}).catch(g=>{console.error("Error writing to Firestore: ",g),n({type:"SHOW_TOAST",payload:"Falha ao salvar dados."}),n({type:"SET_SAVE_STATUS",payload:"error"})})},1e3);return()=>clearTimeout(C)}},[w]);const v=D.useCallback(C=>{C.ctrlKey&&C.key==="z"&&(C.preventDefault(),n({type:"UNDO"})),C.ctrlKey&&C.key==="y"&&(C.preventDefault(),n({type:"REDO"}))},[]);return D.useEffect(()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}),[v]),a(_c.Provider,{value:{state:t,dispatch:n},children:e})},De=()=>{const e=D.useContext(_c);if(!e)throw new Error("useData must be used within a DataProvider");return e},Pc=({children:e,content:t,isVisible:n,onVisibilityChange:r})=>t?N("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[e,n&&a("div",{className:"absolute z-50 bottom-full mb-2 w-64 p-2 text-sm text-white bg-gray-800 rounded-md shadow-lg",children:t})]}):a(bn,{children:e}),xm=e=>Ae.includes(e)?"manha":Fe.includes(e)?"tarde":"noite",uu=({baseId:e,subSlotIndex:t,slot:n,isOutOfPeriod:r,onOpenContextMenu:o,onSelectSlot:l,isSelected:i,hoveredProfessorId:s,onProfessorHover:u,highlightStatus:d})=>{const{state:f,dispatch:h}=De(),{disciplinas:m,professores:w,alertas:v}=f,[C,T]=D.useState(!1),g=`${e}-${t}`,p=n?m.find(_=>_.id===n.disciplinaId):null,c=n?w.find(_=>_.id===n.professorId):null,y=_=>{if(_.stopPropagation(),T(!1),!n){_.preventDefault();return}const R={type:"GRID_ITEM",sourceSlotId:n.id};_.dataTransfer.setData("application/json",JSON.stringify(R)),_.dataTransfer.effectAllowed="move",h({type:"DRAG_START",payload:R})},b=_=>{_.stopPropagation(),h({type:"DRAG_END"})},S=_=>{_.stopPropagation(),l(g)},x=_=>{_.stopPropagation(),o(_,g)},k=v.filter(_=>_.gradeSlotIds.includes(g)),E=v.filter(_=>_.gradeSlotIds.includes(e)&&_.tipo===Ke.ConflitoDisponibilidadeDivisao),I=k[0]??(E.length>0&&n?E[0]:null),P=_=>_==="valid"?"bg-green-200":_==="warning"?"bg-yellow-200":"";let F=r?"bg-slate-200":"bg-white";d&&!n&&(F=P(d)),i&&(F="bg-indigo-50"),I&&(F=ml[I.tipo].bg);const j=i?"ring ring-indigo-500 z-10":"",B=s&&n&&n.professorId===s&&!i,q=s&&n&&n.professorId!==s,Q=n&&p&&c?N("div",{className:"p-1 text-left text-xs w-full h-full overflow-hidden",children:[a("p",{className:"font-bold truncate",children:p.nome}),a("p",{className:"text-gray-600 truncate",children:c.nome})]}):a("div",{className:"w-full h-full"}),te=[...k,...E].length>0?N("div",{children:[a("h4",{className:"font-bold mb-1",children:"Alertas:"}),a("ul",{className:"list-disc list-inside text-xs",children:[...k,...E].map(_=>a("li",{children:_.detalhes},_.id))})]}):null;return a("div",{draggable:!!n,onDragStart:y,onDragEnd:b,onClick:S,onContextMenu:x,onMouseEnter:()=>{n&&u(n.professorId)},className:`relative h-1/2 transition-all duration-150 ${F} ${j} ${n?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${B?"ring-2 ring-slate-700 z-20":""} ${q?"opacity-40":""}`,children:a(Pc,{content:te,isVisible:C,onVisibilityChange:T,children:Q})})},wm=({id:e,turmaId:t,dia:n,horario:r,gridType:o,onOpenContextMenu:l,onSelectSlot:i,selectedSlotId:s,hoveredProfessorId:u,onProfessorHover:d,highlightStatus:f,subSlotHighlightStatus:h})=>{const{state:m,dispatch:w}=De(),{grade:v,disciplinas:C,professores:T,alertas:g,turmas:p,draggedItem:c,clipboard:y}=m,[b,S]=D.useState(!1),[x,k]=D.useState(!1),E=v.find(z=>z.id===e),I=v.find(z=>z.id===`${e}-0`),P=v.find(z=>z.id===`${e}-1`),F=p.find(z=>z.id===t),j=xm(r),B=F&&F.periodo!==j,q="border-b border-gray-300";if(o==="modular"&&r==="18:10-19:00")return a("div",{className:`relative border-r ${q} min-h-[60px] bg-gray-200`,style:{backgroundImage:"repeating-linear-gradient(45deg, #d1d5db, #d1d5db 10px, #e5e7eb 10px, #e5e7eb 20px)"},title:"Horrio no disponvel para aulas modulares"});const te=()=>{var G;if(!c)return null;const z=c.type==="SIDEBAR_ITEM"?c.disciplinaId:(G=v.find(V=>V.id===c.sourceSlotId))==null?void 0:G.disciplinaId;return C.find(V=>V.id===z)||null},_=z=>{if(!E){z.preventDefault();return}k(!1);const G={type:"GRID_ITEM",sourceSlotId:E.id};z.dataTransfer.setData("application/json",JSON.stringify(G)),z.dataTransfer.effectAllowed="move",w({type:"DRAG_START",payload:G})},R=()=>{w({type:"DRAG_END"})},H=z=>{if(z.preventDefault(),!c){z.dataTransfer.dropEffect="none";return}const G=te();if(!G){z.dataTransfer.dropEffect="none",S(!1);return}let V=!1;if(G.divisao){const me=I||P;(c.type==="GRID_ITEM"&&me||!I||!P)&&(V=!0)}else(!E&&!I&&!P||c.type==="GRID_ITEM"&&E)&&(V=!0);V?(S(!0),z.dataTransfer.dropEffect="move"):(S(!1),z.dataTransfer.dropEffect="none")},J=()=>{S(!1)},W=z=>{if(z.preventDefault(),z.stopPropagation(),S(!1),!!c)try{const G=te();if(!G)return;const V=p.find(ce=>ce.id===G.turmaId),me=p.find(ce=>ce.id===t);if(V&&me&&V.isModular!==me.isModular){w({type:"SHOW_TOAST",payload:"No  permitido mover aulas entre a grade regular e a modular."});return}let ne;if(G.divisao){const ce=z.currentTarget.getBoundingClientRect(),be=z.clientY<ce.top+ce.height/2,$=`${e}-${be?0:1}`,L=`${e}-${be?1:0}`;v.find(le=>le.id===$)&&c.sourceSlotId!==$?ne=v.find(ae=>ae.id===L)?$:L:ne=$}else if(E||I||P)if(E&&c.type==="GRID_ITEM")ne=e;else return;else ne=e;if(c.type==="GRID_ITEM"&&c.sourceSlotId===ne)return;if(c.type==="SIDEBAR_ITEM"){const{disciplinaId:ce,professorId:be}=c;ce&&be&&w({type:"UPDATE_GRADE",payload:{id:ne,slot:{id:ne,turmaId:t,dia:n,horario:r,disciplinaId:ce,professorId:be}}})}else c.type==="GRID_ITEM"&&c.sourceSlotId&&w({type:"SWAP_GRADE_SLOTS",payload:{sourceId:c.sourceSlotId,destinationId:ne}})}catch(G){console.error("Error handling drop in GridCell:",G)}finally{w({type:"DRAG_END"})}},ke=z=>{z.stopPropagation();const G=C.find(ne=>ne.id===(y==null?void 0:y.sourceSlot.disciplinaId)),V=!!(G!=null&&G.divisao);let me=e;if(!E&&!I&&!P&&V){const ne=z.currentTarget.getBoundingClientRect(),ce=z.clientY<ne.top+ne.height/2;me=`${e}-${ce?0:1}`}i(me)},Qe=z=>{z.preventDefault(),z.stopPropagation();const G=C.find(ne=>ne.id===(y==null?void 0:y.sourceSlot.disciplinaId)),V=!!(G!=null&&G.divisao);let me=e;if(!E&&!I&&!P&&V){const ne=z.currentTarget.getBoundingClientRect(),ce=z.clientY<ne.top+ne.height/2;me=`${e}-${ce?0:1}`}l(z,me)},Xe=s===e,O=z=>z==="valid"?"bg-green-200":z==="warning"?"bg-yellow-200":"";if(E){const z=C.find(ue=>ue.id===E.disciplinaId),G=T.find(ue=>ue.id===E.professorId),V=g.filter(ue=>ue.gradeSlotIds.includes(e)),me=V[0],ne=z&&G?N("div",{className:"p-1 text-left text-xs w-full h-full",children:[a("p",{className:"font-bold truncate",children:z.nome}),a("p",{className:"text-gray-600 truncate",children:G.nome})]}):a("div",{className:"w-full h-full"}),ce=V.length>0?N("div",{children:[a("h4",{className:"font-bold mb-1",children:"Alertas:"}),a("ul",{className:"list-disc list-inside text-xs",children:V.map(ue=>a("li",{children:ue.detalhes},ue.id))})]}):null;let be=B?"bg-slate-200":"bg-white";Xe&&(be="bg-indigo-50"),me&&(be=ml[me.tipo].bg),b&&(be="bg-blue-300");const $=ue=>{ue.stopPropagation(),l(ue,e)},L=ue=>{ue.stopPropagation(),i(e)},X=Xe?"ring-2 ring-indigo-500 z-10":"",le=u&&E&&E.professorId===u&&!Xe,ae=u&&E&&E.professorId!==u;return a("div",{onDragOver:H,onDragLeave:J,onDrop:W,onClick:L,draggable:!!E,onDragStart:_,onDragEnd:R,onContextMenu:$,onMouseEnter:()=>{E&&d(E.professorId)},className:`relative border-r border-gray-300 min-h-[60px] transition-all duration-150 ${be} ${X} ${E?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${q} ${le?"ring-2 ring-slate-700 z-20":""} ${ae?"opacity-40":""}`,children:a(Pc,{content:ce,isVisible:x,onVisibilityChange:k,children:ne})})}const U=Xe&&!(s!=null&&s.endsWith("-0"))&&!(s!=null&&s.endsWith("-1"));let ie=b?"bg-blue-300":B?"bg-slate-200":"bg-white";return f&&(ie=O(f)),U&&(ie="bg-indigo-50"),N("div",{onDragOver:H,onDragLeave:J,onDrop:W,onClick:ke,onContextMenu:Qe,className:`relative border-r border-gray-300 min-h-[60px] flex flex-col ${ie} ${U?"ring-2 ring-indigo-500 z-10":""} ${q} cursor-pointer`,children:[a(uu,{baseId:e,subSlotIndex:0,slot:I,isOutOfPeriod:B,onOpenContextMenu:l,onSelectSlot:i,isSelected:s===`${e}-0`,hoveredProfessorId:u,onProfessorHover:d,highlightStatus:h[0]||f}),a("div",{className:"border-b border-dashed border-gray-300"}),a(uu,{baseId:e,subSlotIndex:1,slot:P,isOutOfPeriod:B,onOpenContextMenu:l,onSelectSlot:i,isSelected:s===`${e}-1`,hoveredProfessorId:u,onProfessorHover:d,highlightStatus:h[1]||f})]})},Tr=({label:e,checked:t,onChange:n,disabled:r})=>N("label",{className:`flex items-center space-x-2 ${r?"cursor-not-allowed text-gray-400":"cursor-pointer"}`,children:[a("input",{type:"checkbox",checked:t,onChange:o=>n(o.target.checked),disabled:r,className:"rounded text-indigo-600 focus:ring-indigo-500"}),a("span",{children:e})]}),du=({title:e,children:t,onSelectAll:n,onDeselectAll:r})=>N("div",{className:"p-2 border rounded-md bg-white",children:[a("h4",{className:"font-bold mb-2",children:e}),N("div",{className:"flex space-x-2 mb-2",children:[a("button",{onClick:n,className:"text-xs text-indigo-600 hover:underline",children:"Todos"}),a("button",{onClick:r,className:"text-xs text-indigo-600 hover:underline",children:"Nenhum"})]}),a("div",{className:"space-y-1 max-h-48 overflow-y-auto pr-2",children:t})]}),Sm=({visibility:e,onVisibilityChange:t,cursos:n,turmas:r})=>{const[o,l]=D.useState(!1),i=(h,m)=>{t({...e,periods:{...e.periods,[h]:m}})},s=(h,m)=>{const w={...e.turmas};r.forEach(v=>{v.cursoId===h&&(w[v.id]=m)}),t({...e,cursos:{...e.cursos,[h]:m},turmas:w})},u=(h,m)=>{t({...e,turmas:{...e.turmas,[h]:m}})},d=h=>{const m={...e};h==="periods"?Object.keys(m.periods).forEach(w=>m.periods[w]=!0):h==="cursos"?(Object.keys(m.cursos).forEach(w=>m.cursos[w]=!0),Object.keys(m.turmas).forEach(w=>m.turmas[w]=!0)):h==="turmas"&&Object.keys(m.turmas).forEach(w=>m.turmas[w]=!0),t(m)},f=h=>{const m={...e};h==="periods"?Object.keys(m.periods).forEach(w=>m.periods[w]=!1):h==="cursos"?(Object.keys(m.cursos).forEach(w=>m.cursos[w]=!1),Object.keys(m.turmas).forEach(w=>m.turmas[w]=!1)):h==="turmas"&&Object.keys(m.turmas).forEach(w=>m.turmas[w]=!1),t(m)};return N("div",{className:"bg-gray-100 p-2 mb-4 rounded-md shadow-sm border text-sm",children:[N("button",{onClick:()=>l(!o),className:"w-full text-left font-semibold text-gray-700 flex justify-between items-center",children:[a("span",{children:o?"Ocultar Opes de Visualizao":"Exibir Opes de Visualizao"}),a("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),o&&a("div",{className:"mt-4",children:N("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[N(du,{title:"Perodos",onSelectAll:()=>d("periods"),onDeselectAll:()=>f("periods"),children:[a(Tr,{label:"Manh",checked:e.periods.manha,onChange:h=>i("manha",h)}),a(Tr,{label:"Tarde",checked:e.periods.tarde,onChange:h=>i("tarde",h)}),a(Tr,{label:"Noite",checked:e.periods.noite,onChange:h=>i("noite",h)})]}),a(du,{title:"Cursos",onSelectAll:()=>d("cursos"),onDeselectAll:()=>f("cursos"),children:n.map(h=>a(Tr,{label:h.nome,checked:e.cursos[h.id]??!0,onChange:m=>s(h.id,m)},h.id))}),N("div",{className:"p-2 border rounded-md bg-white",children:[a("h4",{className:"font-bold mb-2",children:"Turmas"}),N("div",{className:"flex space-x-2 mb-2",children:[a("button",{onClick:()=>d("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Todas"}),a("button",{onClick:()=>f("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Nenhuma"})]}),a("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:n.map(h=>N("div",{children:[a("h5",{className:"font-semibold text-gray-600",children:h.nome}),a("div",{className:"pl-4 space-y-1",children:r.filter(m=>m.cursoId===h.id).map(m=>a(Tr,{label:m.nome,checked:e.turmas[m.id]??!0,onChange:w=>u(m.id,w),disabled:!(e.cursos[h.id]??!0)},m.id))})]},h.id))})]})]})})]})},Cm=({isOpen:e,onClose:t,x:n,y:r,items:o})=>{const l=D.useRef(null);return D.useEffect(()=>{const i=s=>{l.current&&!l.current.contains(s.target)&&t()};return e&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[e,t]),e?a("div",{ref:l,className:"absolute z-50 bg-white rounded-md shadow-lg border border-gray-200 py-1 w-32",style:{top:r,left:n},children:a("ul",{children:o.map((i,s)=>a("li",{children:a("button",{onClick:()=>{i.disabled||(i.onClick(),t())},disabled:i.disabled,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:text-gray-400 disabled:bg-white disabled:cursor-not-allowed",children:i.label})},s))})}):null},Nm=({isFocusModeEnabled:e,gridType:t})=>{const{state:n,dispatch:r}=De(),{ano:o,cursos:l,turmas:i,grade:s,clipboard:u,selectedSlotId:d,disciplinas:f,professores:h,draggedItem:m,atribuicoes:w}=n,[v,C]=D.useState(1),[T,g]=D.useState({isOpen:!1,x:0,y:0,slotId:""}),[p,c]=D.useState(null),y=D.useRef(null),[b,S]=D.useState(!1),[x,k]=D.useState(o.toString()),E=D.useMemo(()=>i.filter(O=>O.isModular===(t==="modular")),[i,t]);D.useEffect(()=>{k(o.toString())},[o]);const I=()=>{const O=parseInt(x,10);!isNaN(O)&&O>2e3&&O<2100?r({type:"UPDATE_ANO",payload:O}):(k(o.toString()),r({type:"SHOW_TOAST",payload:"Ano invlido."})),S(!1)},P=O=>{O.key==="Enter"?O.currentTarget.blur():O.key==="Escape"&&(k(o.toString()),S(!1))},[F,j]=D.useState({periods:{manha:!0,tarde:!0,noite:!0},cursos:{},turmas:{}});D.useEffect(()=>{j(O=>{const U={};l.forEach(se=>{U[se.id]=O.cursos[se.id]??!0});const ie={};return E.forEach(se=>{ie[se.id]=O.turmas[se.id]??!0}),{...O,cursos:U,turmas:ie}})},[l,E]);const B=D.useCallback(O=>{if(O.target===document.body&&d)if(O.ctrlKey){if(O.key==="c")O.preventDefault(),r({type:"COPY_SLOT",payload:{sourceSlotId:d}});else if(O.key==="x")O.preventDefault(),r({type:"CUT_SLOT",payload:{sourceSlotId:d}});else if(O.key==="v"){if(O.preventDefault(),u){const U=i.find(z=>z.id===u.sourceSlot.turmaId),ie=d.split("_")[0],se=i.find(z=>z.id===ie);if(U&&se&&U.isModular!==se.isModular){r({type:"SHOW_TOAST",payload:"No  permitido colar aulas entre a grade regular e a modular."});return}}r({type:"PASTE_SLOT",payload:{destinationId:d}})}}else O.key==="Delete"&&(O.preventDefault(),r({type:"DELETE_SLOT",payload:{slotId:d}}))},[d,r,u,i]);D.useEffect(()=>(window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}),[B]),D.useEffect(()=>{const O=y.current;if(!O)return;const U=ie=>{ie.ctrlKey&&(ie.preventDefault(),C(se=>Math.max(.5,Math.min(2,se-ie.deltaY*.001))))};return O.addEventListener("wheel",U,{passive:!1}),()=>{O.removeEventListener("wheel",U)}},[]);const q=O=>{if(!m)return;const U=y.current;if(!U)return;const ie=U.getBoundingClientRect(),se=O.clientY-ie.top,z=60,G=10;se<z?U.scrollTop-=G:se>ie.height-z&&(U.scrollTop+=G)},Q=()=>{g({...T,isOpen:!1})},te=(O,U)=>{O.preventDefault(),O.stopPropagation(),r({type:"SELECT_SLOT",payload:{slotId:U}}),g({isOpen:!0,x:O.pageX,y:O.pageY,slotId:U})},_=()=>{const{slotId:O}=T;if(!O)return[];const U=s.some(V=>V.id===O);return[{label:"Copiar",onClick:()=>r({type:"COPY_SLOT",payload:{sourceSlotId:O}}),disabled:!U},{label:"Recortar",onClick:()=>r({type:"CUT_SLOT",payload:{sourceSlotId:O}}),disabled:!U},{label:"Colar",onClick:()=>r({type:"PASTE_SLOT",payload:{destinationId:O}}),disabled:!!!u}]},R=O=>{r({type:"SELECT_SLOT",payload:{slotId:O}})},H=D.useMemo(()=>t==="modular"?fr:An,[t]),W=D.useMemo(()=>[...Ae,...Fe,...H],[H]).filter(O=>!!(Ae.includes(O)&&F.periods.manha||Fe.includes(O)&&F.periods.tarde||H.includes(O)&&F.periods.noite)),ke=E.filter(O=>F.turmas[O.id]),Qe=l.map(O=>({...O,turmas:E.filter(U=>U.cursoId===O.id)})).filter(O=>F.cursos[O.id]),Xe=D.useMemo(()=>{let O=null;if((m==null?void 0:m.type)==="SIDEBAR_ITEM"&&m.disciplinaId&&m.professorId)O={professorId:m.professorId,disciplinaId:m.disciplinaId,slotIdToIgnore:null};else{const L=d||((m==null?void 0:m.type)==="GRID_ITEM"?m.sourceSlotId:null);if(L){const X=s.find(le=>le.id===L);X&&(O={professorId:X.professorId,disciplinaId:X.disciplinaId,slotIdToIgnore:L})}}if(!O)return{};const{professorId:U,disciplinaId:ie,slotIdToIgnore:se}=O,z=h.find(L=>L.id===U);if(!z)return{};const G=f.find(L=>L.id===ie);if(!G)return{};const V=new Map;s.forEach(L=>{const X=`${L.turmaId}_${L.dia}_${L.horario}`;V.has(X)||V.set(X,[]),V.get(X).push(L)});const me=[];if(G.bnccId){const L=new Set;f.forEach(X=>{if(X.bnccId===G.bnccId){const le=w.find(ae=>ae.disciplinaId===X.id);le&&le.professores.includes(U)&&L.add(X.turmaId)}}),me.push(...ke.filter(X=>L.has(X.id)))}else{const L=ke.find(X=>X.id===G.turmaId);L&&me.push(L)}const ne={},ce={},be={};s.forEach(L=>{if(L.professorId!==U||se&&L.id===se)return;ne[L.dia]||(ne[L.dia]=new Set),ne[L.dia].add(L.horario);const X=i.find(Gt=>Gt.id===L.turmaId),le=X!=null&&X.isModular?1.25:1;ce[L.dia]=(ce[L.dia]||0)+le;const{start:ae,end:ue}=ts(L.horario),we=be[L.dia];we?(we.minStart=Math.min(we.minStart,ae),we.maxEnd=Math.max(we.maxEnd,ue)):be[L.dia]={minStart:ae,maxEnd:ue}});const $={};return me.forEach(L=>{Y.forEach(X=>{W.forEach(le=>{const ae=`${L.id}_${X}_${le}`,we=(V.get(ae)||[]).filter(Ot=>!se||Ot.id!==se),Gt=[];G.divisao?(we.some(Ot=>Ot.id===`${ae}-0`)||Gt.push(`${ae}-0`),we.some(Ot=>Ot.id===`${ae}-1`)||Gt.push(`${ae}-1`)):we.length===0&&Gt.push(ae),Gt.forEach(Ot=>{var Fn,co;let Me=!1,re=!1;(Fn=z.disponibilidade[X])!=null&&Fn.includes(le)||(re=!0),!Me&&((co=ne[X])!=null&&co.has(le))&&(Me=!0);const at=i.find(Z=>Z.id===L.id),Ml=at!=null&&at.isModular?1.25:1;if(!Me&&(ce[X]||0)+Ml>8&&(Me=!0),!Me){const{start:Z,end:At}=ts(le),fo=Y.indexOf(X)-1;if(fo>=0){const pr=Y[fo],bt=be[pr];bt&&24*60-bt.maxEnd+Z<11*60&&(Me=!0)}if(!Me){const pr=Y.indexOf(X)+1;if(pr<Y.length){const bt=Y[pr],ge=be[bt];ge&&24*60-At+ge.minStart<11*60&&(Me=!0)}}}Me||($[Ot]=re?"warning":"valid")})})})}),$},[d,m,s,f,i,h,ke,W,w]);return N("div",{ref:y,className:"flex-1 overflow-auto bg-gray-200 p-4",onClick:()=>{Q(),R(null)},onDragOver:q,children:[a(Sm,{visibility:F,onVisibilityChange:j,cursos:l,turmas:E}),a("div",{style:{display:"inline-block",transform:`scale(${v})`,transformOrigin:"top left",transition:"transform 0.1s ease-out"},onMouseLeave:()=>c(null),children:N("div",{className:"relative grid",style:{gridTemplateColumns:`50px 80px repeat(${ke.length}, minmax(150px, 1fr))`},children:[a("div",{className:"sticky top-0 left-0 z-40 bg-slate-200 border-b-2 border-r border-slate-300 flex items-center justify-center p-1",style:{gridColumn:"1 / span 2",gridRow:"1 / span 2"},children:b?N("div",{className:"flex flex-col items-center",children:[a("label",{htmlFor:"year-input",className:"text-xs text-slate-600 mb-1",children:"Ano"}),a("input",{id:"year-input",type:"number",value:x,onChange:O=>k(O.target.value),onBlur:I,onKeyDown:P,className:"w-20 text-center bg-white rounded border-2 border-indigo-500 shadow-inner",autoFocus:!0,onFocus:O=>O.target.select()})]}):N("div",{onClick:()=>S(!0),className:"p-2 cursor-pointer text-center text-slate-700 hover:bg-slate-300 rounded-md",children:[a("div",{className:"font-bold text-lg",children:o}),a("div",{className:"text-xs font-semibold uppercase tracking-wider",children:"Ano"})]})}),Qe.map(O=>{const U=O.turmas.filter(z=>F.turmas[z.id]);if(U.length===0)return null;const ie=U[0],se=ke.findIndex(z=>z.id===ie.id)+3;return a("div",{className:"sticky top-0 z-30 bg-slate-200 text-slate-800 flex items-center justify-center text-sm font-bold p-2 uppercase tracking-wider border-b-2 border-slate-300 h-11",style:{gridColumn:`${se} / span ${U.length}`},children:O.nome},O.id)}),ke.map((O,U)=>a("div",{className:"sticky top-11 z-20 bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-semibold p-2 border-b border-r border-slate-300 h-11",style:{gridColumn:U+3},children:O.nome},O.id)),Y.map((O,U)=>{if(W.length===0)return null;const ie=U===Y.length-1,se=W.filter((V,me)=>{if(me===W.length-1)return!1;const ne=Ae[Ae.length-1]===V,ce=Fe[Fe.length-1]===V;return ne||ce}),z=W.length+se.length,G=W.flatMap((V,me)=>{const ne=Ae[Ae.length-1]===V,ce=Fe[Fe.length-1]===V,be=ne||ce,$=me===W.length-1,ae=[...[a("div",{className:"sticky z-20 bg-slate-50 p-1 text-xs text-center border-r border-slate-300 flex items-center justify-center border-b border-slate-300",style:{left:"50px"},children:V},`${O}_${V}_time`),...ke.map(ue=>{const we=`${ue.id}_${O}_${V}`;return a(wm,{id:we,gridType:t,dia:O,horario:V,turmaId:ue.id,onOpenContextMenu:te,onSelectSlot:R,selectedSlotId:d||null,hoveredProfessorId:e?p:null,onProfessorHover:e?c:()=>{},highlightStatus:Xe[we]||null,subSlotHighlightStatus:{0:Xe[`${we}-0`]||null,1:Xe[`${we}-1`]||null}},we)})]];if(be&&!$){const ue=a("div",{className:"h-2",style:{gridColumn:`2 / span ${1+ke.length}`}},`${O}_${V}_separator`);ae.push(ue)}return ae});return N(Hr.Fragment,{children:[a("div",{className:"sticky left-0 z-30 bg-slate-200 py-2 text-center font-semibold border-r-2 border-slate-300 flex items-center justify-center capitalize [writing-mode:vertical-rl] rotate-180",style:{gridRow:`span ${z}`},children:O}),a("div",{style:{display:"contents"},children:G}),!ie&&N(Hr.Fragment,{children:[a("div",{className:"sticky left-0 z-30 h-2 bg-slate-300 border-b-2 border-r-2 border-slate-300",style:{gridColumn:"1"}}),a("div",{className:"h-2 bg-slate-300 border-b-2 border-slate-300",style:{gridColumn:`2 / span ${1+ke.length}`}})]})]},O)})]})}),a(Cm,{isOpen:T.isOpen,onClose:Q,x:T.x,y:T.y,items:_()})]})},Em=({id:e,label:t,subLabel:n,isLocked:r=!1})=>{const{dispatch:o}=De();return N("div",{draggable:!r,onDragStart:s=>{if(r){s.preventDefault();return}const[u,d]=e.split("|"),f={type:"SIDEBAR_ITEM",disciplinaId:u,professorId:d};s.dataTransfer.setData("application/json",JSON.stringify(f)),s.dataTransfer.effectAllowed="move",o({type:"DRAG_START",payload:f})},onDragEnd:()=>{o({type:"DRAG_END"})},className:`p-2 bg-white border border-gray-200 rounded-md shadow-sm transition-opacity ${r?"opacity-50 cursor-not-allowed":"cursor-grab active:cursor-grabbing hover:bg-indigo-50"}`,children:[a("div",{className:"font-semibold text-sm text-gray-800",children:t}),a("p",{className:"text-xs text-gray-500",children:n})]})},km=(e,t)=>{const{disciplinas:n}=t,r=n.find(i=>i.id===e.disciplinaId);if(!r)return{finalDisciplinaId:e.disciplinaId,isSwap:!1};if(!(r.turmaId!==e.turmaId))return{finalDisciplinaId:e.disciplinaId,isSwap:!1};if(!!r.bnccId){const i=n.find(s=>s.turmaId===e.turmaId&&s.bnccId===r.bnccId);if(i)return{finalDisciplinaId:i.id,isSwap:!0}}return{finalDisciplinaId:e.disciplinaId,isSwap:!0}},bm=({gridType:e})=>{const{state:t,dispatch:n}=De(),{atribuicoes:r,disciplinas:o,professores:l,turmas:i,draggedItem:s}=t,[u,d]=D.useState("all"),[f,h]=D.useState(""),[m,w]=D.useState(!1),v=x=>{d(x.target.value)},C=x=>{var k;return((k=i.find(E=>E.id===x))==null?void 0:k.nome)||"N/A"},T=D.useMemo(()=>{const x={};return t.grade.forEach(k=>{const{finalDisciplinaId:E}=km(k,t),I=k.professorId,P=t.turmas.find(j=>j.id===k.turmaId),F=P!=null&&P.isModular?1.25:1;x[E]||(x[E]={}),x[E][I]=(x[E][I]||0)+F}),x},[t]),g=D.useMemo(()=>i.filter(x=>x.isModular===(e==="modular")),[i,e]),c=D.useMemo(()=>r.flatMap(x=>{const k=o.find(I=>I.id===x.disciplinaId);if(!k)return[];const E=i.find(I=>I.id===k.turmaId);return!E||E.isModular!==(e==="modular")?[]:x.professores.map((I,P)=>({disciplina:k,professor:l.find(F=>F.id===I),turmaId:k.turmaId,assignmentIndex:P}))}).filter(x=>x.professor),[r,o,i,l,e]).filter(x=>{var k;return!(u!=="all"&&x.turmaId!==u||f.trim()!==""&&!((k=x.professor)!=null&&k.nome.toLowerCase().includes(f.toLowerCase())))});return N("div",{className:`p-4 h-full flex flex-col transition-colors duration-200 ${m?"bg-blue-200 border-2 border-dashed border-blue-500":"bg-gray-50"}`,onDragOver:x=>{x.preventDefault(),(s==null?void 0:s.type)==="GRID_ITEM"?(w(!0),x.dataTransfer.dropEffect="move"):x.dataTransfer.dropEffect="none"},onDragLeave:()=>{w(!1)},onDrop:x=>{x.preventDefault(),w(!1),(s==null?void 0:s.type)==="GRID_ITEM"&&s.sourceSlotId&&n({type:"UPDATE_GRADE",payload:{id:s.sourceSlotId,slot:null}}),n({type:"DRAG_END"})},children:[a("h2",{className:"text-lg font-bold mb-4",children:"Atribuies"}),N("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[N("div",{children:[a("label",{htmlFor:"search-professor",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),a("input",{type:"text",id:"search-professor",value:f,onChange:x=>h(x.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),N("div",{children:[a("label",{htmlFor:"turma-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Turma"}),N("select",{id:"turma-filter",value:u,onChange:v,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[a("option",{value:"all",children:"Ver Todas"}),g.map(x=>a("option",{value:x.id,children:x.nome},x.id))]})]})]}),a("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:c.map(x=>{const{disciplina:k,professor:E,assignmentIndex:I}=x;if(!k||!E)return null;const P=T[k.id]&&T[k.id][E.id]||0,F=k.aulasSemanais,j=P>=F,B=`${k.id}|${E.id}`,q=`${k.id}|${E.id}|${I}`,Q=N("span",{children:[k.nome,k.bnccId&&a("span",{className:"text-xs bg-pink-100 text-pink-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:"BNCC"}),k.divisao&&N("span",{className:"text-xs bg-blue-100 text-blue-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:["Diviso (",k.numProfessores,")"]}),` (${P}/${F}) - ${E.nome}`]}),te=`Turma: ${C(k.turmaId)}`;return a(Em,{id:B,label:Q,subLabel:te,isLocked:j},q)})})]})},Tm=e=>{let t=0;for(let m=0;m<e.length;m++)t=e.charCodeAt(m)+((t<<5)-t);const n=t%360,r=70,o=50,l=(1-Math.abs(2*(o/100)-1))*(r/100),i=l*(1-Math.abs(n/60%2-1)),s=o/100-l/2;let u=0,d=0,f=0;0<=n&&n<60?(u=l,d=i,f=0):60<=n&&n<120?(u=i,d=l,f=0):120<=n&&n<180?(u=0,d=l,f=i):180<=n&&n<240?(u=0,d=i,f=l):240<=n&&n<300?(u=i,d=0,f=l):300<=n&&n<360&&(u=l,d=0,f=i),u=Math.round((u+s)*255),d=Math.round((d+s)*255),f=Math.round((f+s)*255);const h=m=>("0"+m.toString(16)).slice(-2);return`#${h(u)}${h(d)}${h(f)}`},Im=()=>{const{state:e}=De(),{onlineUsers:t}=e;if(t.length===0)return null;const n=Ct.currentUser,r=[...t].sort((o,l)=>o.id===(n==null?void 0:n.uid)?1:l.id===(n==null?void 0:n.uid)?-1:o.name.localeCompare(l.name));return a("div",{className:"flex items-center -space-x-2 pr-2",children:r.map(o=>N("div",{className:"group relative",children:[a("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ring-2 ring-white",style:{backgroundColor:Tm(o.id)},children:o.id===(n==null?void 0:n.uid)?"VC":o.name.charAt(0).toUpperCase()}),N("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:[o.id===(n==null?void 0:n.uid)?`${o.name} (Voc)`:o.name,a("svg",{className:"absolute text-gray-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:a("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]},o.id))})},Dm=({status:e,lastModifiedBy:t,lastModifiedAt:n})=>{const o=(()=>{switch(e){case"saving":return{icon:N("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),text:"Salvando...",textColor:"text-gray-500"};case"saved":return{icon:N("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),text:"Salvo",textColor:"text-green-600"};case"error":return{icon:N("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 13V9.5m0 6.5v.01"})]}),text:"Erro ao salvar",textColor:"text-red-600"};default:return null}})();if(!o)return null;const l=e==="saved"&&t&&n?`(por ${t} s ${new Date(n).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})`:null;return N("div",{className:"flex items-center space-x-2",children:[o.icon,a("span",{className:`text-sm font-medium ${o.textColor}`,children:o.text}),l&&a("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:l})]})},Ne={title:{font:{name:"Calibri",size:18,bold:!0,color:{argb:"FFFFFFFF"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}},alignment:{horizontal:"center",vertical:"middle"}},curso:{font:{name:"Calibri",size:12,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFAEC6CF"}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}}},turma:{font:{name:"Calibri",size:11,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF8EA9DB"}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{bottom:{style:"medium",color:{argb:"FF2F5496"}}}},day:{font:{name:"Calibri",size:12,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},periodo:{font:{name:"Calibri",size:11,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},time:{font:{name:"Calibri",size:10,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle"},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},cell_white:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}}},cell_gray:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFF2F2F2"}}},disabledCell:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFD9D9D9"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}},cu=(e,t,n,r)=>{const{ano:o,cursos:l,turmas:i,grade:s,disciplinas:u,professores:d}=t,f=i.filter(S=>S.isModular===(n==="modular")).sort((S,x)=>{var I,P;const k=((I=l.find(F=>F.id===S.cursoId))==null?void 0:I.nome)||"",E=((P=l.find(F=>F.id===x.cursoId))==null?void 0:P.nome)||"";return k.localeCompare(E)!==0?k.localeCompare(E):S.nome.localeCompare(x.nome)});if(f.length===0)return;const h=l.map(S=>({...S,turmas:f.filter(x=>x.cursoId===S.id)})).filter(S=>S.turmas.length>0),m=new Map;s.forEach(S=>{const x=`${S.turmaId}_${S.dia}_${S.horario}`;m.has(x)||m.set(x,[]),m.get(x).push(S)});const w=e.addWorksheet(r),v=w.addRow([`Grade de Horrios ${o}`]);v.height=24,w.mergeCells(1,1,1,3+f.length),w.getCell("A1").style=Ne.title;const C=[null,null,null];h.forEach(S=>{C.push(S.nome);for(let x=1;x<S.turmas.length;x++)C.push(null)});const T=w.addRow(C);T.height=20;let g=4;h.forEach(S=>{if(S.turmas.length>0){S.turmas.length>1&&w.mergeCells(2,g,2,g+S.turmas.length-1);for(let x=0;x<S.turmas.length;x++)w.getCell(2,g+x).style=Ne.curso;g+=S.turmas.length}});const p=w.addRow(["Dia","Perodo","Horrio",...f.map(S=>S.nome)]);p.height=35,p.getCell(1).style={...Ne.day,alignment:{...Ne.day.alignment,textRotation:0}},p.getCell(2).style={...Ne.periodo,alignment:{...Ne.periodo.alignment,textRotation:0}},p.getCell(3).style=Ne.time;for(let S=4;S<=p.cellCount;S++)p.getCell(S).style=Ne.turma;const y=[{name:"Manh",horarios:Ae},{name:"Tarde",horarios:Fe},{name:"Noite",horarios:n==="modular"?fr:An}];let b=!1;Y.forEach((S,x)=>{const k=w.rowCount+1;if(y.forEach((E,I)=>{if(E.horarios.length===0)return;const P=w.rowCount+1;if(E.horarios.forEach(j=>{const B=f.map(Q=>{if(n==="modular"&&j==="18:10-19:00")return null;const te=`${Q.id}_${S}_${j}`,_=m.get(te);return _?_.map(R=>{const H=u.find(W=>W.id===R.disciplinaId),J=d.find(W=>W.id===R.professorId);return`${(H==null?void 0:H.nome)||"?"}
${(J==null?void 0:J.nome)||"?"}`}).join(`

`):""}),q=w.addRow([null,null,j,...B]);q.height=50,q.getCell(3).style=Ne.time;for(let Q=4;Q<=q.cellCount;Q++)q.getCell(Q).style=q.getCell(Q).value===null?Ne.disabledCell:b?Ne.cell_gray:Ne.cell_white;b=!b}),E.horarios.length>0){const j=w.getCell(P,2);j.value=E.name,j.style=Ne.periodo,E.horarios.length>1&&w.mergeCells(P,2,w.rowCount,2)}if(y.slice(I+1).some(j=>j.horarios.length>0)){const j=w.addRow([]);j.height=3;for(let B=3;B<=3+f.length;B++){const q=j.getCell(B);q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}}),w.rowCount>=k){const E=w.getCell(k,1);E.value=S.charAt(0).toUpperCase()+S.slice(1),E.style=Ne.day,w.rowCount>k&&w.mergeCells(k,1,w.rowCount,1)}if(x<Y.length-1){const E=w.addRow([]);E.height=5;for(let I=1;I<=3+f.length;I++)E.getCell(I).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}}}}),w.columns=[{width:8},{width:10},{width:15},...Array(f.length).fill({width:25})],w.views=[{state:"frozen",xSplit:3,ySplit:3}]},_m=e=>{const t=new hu.Workbook;return t.creator="Timetable Scheduler",t.created=new Date,cu(t,e,"regular","Grade Regular"),cu(t,e,"modular","Grade Modular"),t.worksheets.length===0?{workbook:null,error:"No h dados para exportar."}:{workbook:t}},Pm=(e,t)=>{const{professores:n,grade:r,turmas:o,disciplinas:l}=e,i=n.find(p=>p.id===t);if(!i)return{workbook:null,error:"Professor no encontrado."};const s=new hu.Workbook;s.creator="Timetable Scheduler",s.created=new Date;const u=s.addWorksheet(i.nome.substring(0,31)),d=r.filter(p=>p.professorId===t),f=d.reduce((p,c)=>{const y=o.find(b=>b.id===c.turmaId);return p+(y!=null&&y.isModular?1.25:1)},0),h={};d.forEach(p=>{var c,y;h[p.dia]||(h[p.dia]={}),h[p.dia][p.horario]={turma:((c=o.find(b=>b.id===p.turmaId))==null?void 0:c.nome)||"?",disciplina:((y=l.find(b=>b.id===p.disciplinaId))==null?void 0:y.nome)||"?"}}),u.mergeCells("A1:F1");const m=u.getCell("A1");m.value=i.nome,m.style=Ne.title,u.mergeCells("A2:F2");const w=u.getCell("A2");w.value=`Total de Aulas Semanais: ${f}`,w.style={font:{bold:!0},alignment:{horizontal:"center"}},u.addRow(["Horrio",...Y.map(p=>p.charAt(0).toUpperCase()+p.slice(1))]).eachCell(p=>{p.style=Ne.turma,p.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}});const C=[...new Set([...Ae,...Fe,...An,...fr])].sort();C.forEach((p,c)=>{const y=[p];Y.forEach(E=>{var P;const I=(P=h[E])==null?void 0:P[p];y.push(I?`${I.disciplina}
${I.turma}`:"")});const b=u.addRow(y);b.getCell(1).style=Ne.time;for(let E=2;E<=6;E++)b.getCell(E).style=Ne.cell_white;b.height=30;const S=Ae[Ae.length-1]===p,x=Fe[Fe.length-1]===p,k=c===C.length-1;if((S||x)&&!k){const E=u.addRow([]);E.height=3;for(let I=1;I<=1+Y.length;I++){const P=E.getCell(I);P.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}});const T=Y.map(p=>d.filter(c=>c.dia===p).reduce((c,y)=>{var b;return c+((b=o.find(S=>S.id===y.turmaId))!=null&&b.isModular?1.25:1)},0));return u.addRow(["Carga Diria",...T]).eachCell(p=>{p.style={...Ne.turma,font:{...Ne.turma.font,bold:!0}}}),u.columns=[{width:15},{width:25},{width:25},{width:25},{width:25},{width:25}],{workbook:s}},fu=(e,t,n,r)=>{const o=t.filter(E=>E.professorId===e.id),l=o.reduce((E,I)=>{const P=n.find(F=>F.id===I.turmaId);return E+(P!=null&&P.isModular?1.25:1)},0),i=Y.reduce((E,I)=>(E[I]=o.filter(P=>P.dia===I).reduce((P,F)=>{const j=n.find(B=>B.id===F.turmaId);return P+(j!=null&&j.isModular?1.25:1)},0),E),{}),s={};o.forEach(E=>{var F,j;s[E.dia]||(s[E.dia]={});const I=((F=n.find(B=>B.id===E.turmaId))==null?void 0:F.nome)||"N/A",P=((j=r.find(B=>B.id===E.disciplinaId))==null?void 0:j.nome)||"N/A";s[E.dia][E.horario]={turma:I,disciplina:P}});const u=[...new Set([...An,...fr])].sort(),d=[{label:"Manh",horarios:Ae},{label:"Tarde",horarios:Fe},{label:"Noite",horarios:u}],f=new gu({orientation:"landscape",unit:"pt",format:"a4"}),h=f.internal.pageSize.getWidth(),m=f.internal.pageSize.getHeight(),w=30;let v={titleFontSize:16,subtitleFontSize:10,headerFontSize:9,periodFontSize:8,cellFontSize:8,footerFontSize:9,titleSpacing:18,subtitleSpacing:25,headerRowH:20,regularRowH:32,periodSeparatorH:5,periodHeaderH:15,footerSpacing:5},C=w;C+=v.titleSpacing,C+=v.subtitleSpacing,C+=v.headerRowH,d.forEach(E=>{E.horarios.length>0&&(C+=v.periodSeparatorH,C+=v.periodHeaderH,C+=E.horarios.length*v.regularRowH)}),C+=v.footerSpacing,C+=v.headerRowH,C+=w;const T=m;let g=1;C>T&&(g=T/C);const p=w*Math.min(g,1),c=h-p*2;for(const E in v)v[E]*=g;let y=p;f.setFont("helvetica","bold"),f.setFontSize(v.titleFontSize),f.text(e.nome,h/2,y,{align:"center"}),y+=v.titleSpacing,f.setFont("helvetica","normal"),f.setFontSize(v.subtitleFontSize),f.text(`Total de Aulas Semanais: ${l}`,h/2,y,{align:"center"}),y+=v.subtitleSpacing;const b=65*Math.min(g,1),S=(c-b)/Y.length;f.setFillColor(230,230,230),f.rect(p,y,c,v.headerRowH,"F"),f.setFont("helvetica","bold"),f.setFontSize(v.headerFontSize),f.setDrawColor(180,180,180),f.rect(p,y,c,v.headerRowH);const x=y+v.headerRowH/2+v.headerFontSize*.35;f.text("Horrio",p+b/2,x,{align:"center"}),Y.forEach((E,I)=>{const P=p+b+I*S+S/2;f.text(E.charAt(0).toUpperCase()+E.slice(1),P,x,{align:"center"})}),y+=v.headerRowH,d.forEach(E=>{E.horarios.length>0&&(y+=v.periodSeparatorH,f.setFillColor(240,240,240),f.rect(p,y,c,v.periodHeaderH,"F"),f.setFont("helvetica","bold"),f.setFontSize(v.periodFontSize),f.text(E.label,p+5,y+v.periodHeaderH/2,{baseline:"middle"}),y+=v.periodHeaderH,E.horarios.forEach(I=>{const P=y;f.setDrawColor(220,220,220),f.rect(p,P,c,v.regularRowH),f.setFont("helvetica","normal"),f.setFontSize(v.cellFontSize),f.text(I,p+b/2,P+v.regularRowH/2,{align:"center",baseline:"middle"}),Y.forEach((F,j)=>{var q;const B=(q=s[F])==null?void 0:q[I];if(B){const Q=p+b+j*S;f.setFillColor(232,242,255),f.rect(Q,P,S,v.regularRowH,"F");const te=P+v.regularRowH/2-v.cellFontSize*.2;f.setFont("helvetica","bold"),f.text(B.disciplina,Q+S/2,te,{align:"center",maxWidth:S-4}),f.setFont("helvetica","normal"),f.text(B.turma,Q+S/2,te+v.cellFontSize*1.1,{align:"center",maxWidth:S-4})}}),y+=v.regularRowH}))}),y+=v.footerSpacing,f.setFillColor(230,230,230),f.rect(p,y,c,v.headerRowH,"F"),f.setFont("helvetica","bold"),f.setFontSize(v.footerFontSize),f.setDrawColor(180,180,180),f.rect(p,y,c,v.headerRowH);const k=y+v.headerRowH/2+v.footerFontSize*.35;return f.text("Carga Diria",p+b/2,k,{align:"center"}),Y.forEach((E,I)=>{const P=p+b+I*S+S/2;f.text(String(i[E]||0),P,k,{align:"center"})}),{doc:f}},Mm=e=>{const t=new Map,n=new Map,r=new Map,o=[...e].sort((i,s)=>i.nome.localeCompare(s.nome));for(const i of o){const s=new Set(["de","da","do","dos","das"]),u=i.nome.trim().split(" ").filter(f=>!s.has(f.toLowerCase()));let d="??";if(u.length>0){const f=u[0].charAt(0).toUpperCase(),h=u.length>1?u[u.length-1].charAt(0).toUpperCase():"";d=`${f}${h}`}n.set(d,(n.get(d)||0)+1),r.set(i.nome,d)}const l=new Map;for(const i of o){const s=r.get(i.nome),u=n.get(s);let d=s;if(u>1){const h=(l.get(s)||0)+1;h>1&&(d=`${s}${h}`),l.set(s,h)}t.set(i.id,d)}return t},Om=e=>{const t=new Map,n=new Set;for(const r of e){if(n.has(r.nome))continue;const l=r.nome.trim().split(" ").filter(s=>s.length>0);let i="???";l.length>1?i=l.map(s=>s.charAt(0)).join("").toUpperCase():l.length===1&&l[0].length>0&&(i=l[0].substring(0,3).toUpperCase()),i.length>5&&(i=i.substring(0,5)),t.set(r.nome,i),n.add(r.nome)}return t},pu=(e,t,n,r)=>{const i=n.w-12,s=n.h-n.h*.1;if(i<=0||s<4)return;let u=Math.min(r,s),d=t;for(;u>4&&(e.setFontSize(u),!(e.getTextWidth(d)<i));)u-=.25;if(e.setFontSize(4),e.getTextWidth(t)>i){let h=t;for(;h.length>0&&e.getTextWidth(h+"...")>i;)h=h.slice(0,-1);d=h+"..."}const f=Math.max(u,4);e.setFontSize(f),e.setFont("helvetica","bold"),e.text(d,n.x+n.w/2,n.y+n.h/2,{align:"center",baseline:"middle",maxWidth:i})},Am=(e,t,n,r,o,l,i,s,u,d,f)=>{const h=e.internal.pageSize.getWidth(),m=e.internal.pageSize.getHeight()-i;e.setFontSize(s*.6),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const w=n>1?`(Pgina ${t+1} de ${n})`:"";if(e.text(`Grade de Horrios ${l} - ${o} ${w}`,h/2,i,{align:"center"}),e.setFontSize(s*.4),e.setFont("helvetica","italic"),e.setTextColor(100,100,100),r.length>0){const v=r[0].nome,C=r[r.length-1].nome,T=`Exibindo turmas: ${v} a ${C}`;e.text(T,h/2,i+s*.5,{align:"center"})}if(e.setFontSize(u*.4),e.setFont("helvetica","normal"),e.setTextColor(150,150,150),e.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,i,m+u*.6),n>1&&e.text("Instrues: Para montar, imprima todas as pginas e alinhe as guias pontilhadas laterais.",h/2,m+u*.6,{align:"center"}),n>1){if(e.setLineDashPattern([2,2],0),e.setDrawColor(180,180,180),e.setLineWidth(.5),t<n-1){const v=h-i;e.line(v,d,v,f),e.setFontSize(u*.45),e.setTextColor(150,150,150),e.text(`Continua na Pg. ${t+2} ->`,v-5,d+10,{align:"right",angle:90})}if(t>0){const v=i;e.line(v,d,v,f),e.setFontSize(u*.45),e.setTextColor(150,150,150),e.text(`<- Vem da Pg. ${t}`,v+5,f-10,{align:"left",angle:90})}e.setLineDashPattern([],0),e.setTextColor(0,0,0)}},Fm=(e,t)=>{const{ano:n,cursos:r,turmas:o,grade:l,disciplinas:i,professores:s}=e,u=o.filter($=>$.isModular===(t==="modular")).sort(($,L)=>{var ae,ue;const X=((ae=r.find(we=>we.id===$.cursoId))==null?void 0:ae.nome)||"",le=((ue=r.find(we=>we.id===L.cursoId))==null?void 0:ue.nome)||"";return X.localeCompare(le)!==0?X.localeCompare(le):$.nome.localeCompare(L.nome)});if(u.length===0)return{doc:null,error:`Nenhuma turma para a grade ${t==="regular"?"Regular":"Modular"}.`};const d=new Set,f=new Set,h=new Set(u.map($=>$.id));l.forEach($=>{h.has($.turmaId)&&(d.add($.professorId),f.add($.disciplinaId))});const m=e.professores.filter($=>d.has($.id)),w=e.disciplinas.filter($=>f.has($.id)),v=Mm(m),C=Om(w),T=u.filter($=>$.periodo!=="noite"),g=u.filter($=>$.periodo==="noite"),p=new Map;l.forEach($=>{const L=`${$.turmaId}_${$.dia}_${$.horario}`;p.has(L)||p.set(L,[]),p.get(L).push($)});const c=new gu({orientation:"landscape",unit:"pt",format:"a3"}),y=c.internal.pageSize.getWidth(),b=c.internal.pageSize.getHeight(),S=30,x={title:14,header:11,cell:9,dividedCell:8},k={titleHeader:25,titleSubheader:15,footer:20,curso:18,turma:45,cell:35,periodSeparator:3,daySeparator:5},E={day:40,period:40,time:60,turma:90},I=E.day+E.period+E.time,P=y-S*2-I,F=Math.max(1,Math.floor(P/E.turma)),j=[];for(let $=0;$<T.length;$+=F)j.push(T.slice($,$+F));const B=[];for(let $=0;$<g.length;$+=F)B.push(g.slice($,$+F));const q=j.length+B.length;if(q===0)return{doc:null,error:`Nenhuma aula encontrada para a grade ${t==="regular"?"Regular":"Modular"}.`};const Q=q+1;let te=0;const _=($,L,X)=>{$.length!==0&&$.forEach(le=>{te>0&&c.addPage();let ae=0;Y.forEach((ge,tt)=>{L.forEach((Ln,mr)=>{Ln.horarios.length!==0&&(ae+=Ln.horarios.length*k.cell,L.slice(mr+1).some(hr=>hr.horarios.length>0)&&(ae+=k.periodSeparator))}),tt<Y.length-1&&(ae+=k.daySeparator)});const we=k.curso+k.turma+ae,Gt=k.titleHeader+k.titleSubheader+k.footer+20,Ot=b-S*2-Gt;let Me=Math.min(1,Ot/we);Me<1&&(Me=Me*.95);const re={...k};for(const ge in re)re[ge]*=Me;const at={...x};for(const ge in at)at[ge]*=Me;const Ml=`${t==="regular"?"Grade Regular":"Grade Modular"} - ${X}`,Fn=S+re.titleHeader+re.titleSubheader,co=Fn+we*Me;Am(c,te,Q,le,Ml,n,S,re.titleHeader,re.footer,Fn,co);let Z=Fn;c.setFont("helvetica","bold"),c.setDrawColor(150);let At=S+I;const fo=new Set(le.map(ge=>ge.id));r.map(ge=>({...ge,turmas:o.filter(tt=>tt.cursoId===ge.id&&fo.has(tt.id))})).filter(ge=>ge.turmas.length>0).forEach(ge=>{const tt=ge.turmas.length*E.turma;c.setFillColor(220,220,220),c.rect(At,Z,tt,re.curso,"FD"),c.setFontSize(at.header*1.2),c.setFont("helvetica","bold"),c.text(ge.nome,At+tt/2,Z+re.curso/2,{align:"center",baseline:"middle",maxWidth:tt-4}),At+=tt}),At=S+I,le.forEach(ge=>{c.setFillColor(235,235,235),c.setTextColor(0,0,0),c.rect(At,Z+re.curso,E.turma,re.turma,"FD"),c.setFontSize(at.header*1.1),c.setFont("helvetica","bold");const tt=c.splitTextToSize(ge.nome,E.turma-4);c.text(tt,At+E.turma/2,Z+re.curso+re.turma/2,{align:"center",baseline:"middle"}),At+=E.turma});const bt=re.curso+re.turma;c.setFillColor(220,220,220),c.rect(S,Z,I,bt,"FD"),c.setFontSize(at.header*1.15),c.setFont("helvetica","bold"),c.text("Dia",S+E.day/2,Z+bt/2,{align:"center",baseline:"middle"}),c.text("Perodo",S+E.day+E.period/2,Z+bt/2,{align:"center",baseline:"middle"}),c.text("Horrio",S+E.day+E.period+E.time/2,Z+bt/2,{align:"center",baseline:"middle"}),Z+=bt,Y.forEach((ge,tt)=>{const Ln=Z;L.forEach((hr,Oc)=>{if(hr.horarios.length===0)return;const Ol=Z;hr.horarios.forEach(gr=>{c.setFontSize(at.header),c.setFont("helvetica","bold"),c.setFillColor(245,245,245),c.setDrawColor(200),c.rect(S+E.day+E.period,Z,E.time,re.cell,"FD"),c.text(gr,S+E.day+E.period+E.time/2,Z+re.cell/2,{align:"center",baseline:"middle"});let Ft=S+I;le.forEach(Ac=>{const Fc=t==="modular"&&gr==="18:10-19:00";if(c.setDrawColor(200),Fc){c.setFillColor(220,220,220),c.rect(Ft,Z,E.turma,re.cell,"FD");const Ue=4*Me;c.line(Ft+Ue,Z+Ue,Ft+E.turma-Ue,Z+re.cell-Ue),c.line(Ft+E.turma-Ue,Z+Ue,Ft+Ue,Z+re.cell-Ue)}else{const Ue=p.get(`${Ac.id}_${ge}_${gr}`);if(c.setFillColor(255,255,255),c.rect(Ft,Z,E.turma,re.cell,"FD"),Ue&&Ue.length>0){const Zs=i.find(ut=>ut.id===Ue[0].disciplinaId),Js=Zs&&C.get(Zs.nome)||"???";if(Ue.length===1){const ut=v.get(Ue[0].professorId)||"??";pu(c,`${Js} - ${ut}`,{x:Ft,y:Z,w:E.turma,h:re.cell},at.cell)}else{const ut=Ue.sort((gn,Qt)=>gn.id.localeCompare(Qt.id)),yr=E.turma/ut.length;let vr=at.dividedCell;ut.length===2?vr*=.7:ut.length===3?vr*=.55:ut.length>=4&&(vr*=.45),console.log(`Divises: ${ut.length}, Largura sub-clula: ${yr.toFixed(2)}, Fonte inicial: ${vr.toFixed(2)}`);const Lc=ut.length>2?(gn,Qt)=>`${gn}${Qt}`:(gn,Qt)=>`${gn} - ${Qt}`;ut.forEach((gn,Qt)=>{const zc=v.get(gn.professorId)||"??",Rc=Lc(Js,zc),Fl=Ft+Qt*yr,$c={x:Fl,y:Z,w:yr,h:re.cell};pu(c,Rc,$c,vr),Qt<ut.length-1&&(c.setDrawColor(200),c.setLineWidth(.5),c.line(Fl+yr,Z,Fl+yr,Z+re.cell))})}}}Ft+=E.turma}),Z+=re.cell});const Al=Z-Ol;Al>0&&(c.setFillColor(240,240,240),c.setDrawColor(150),c.rect(S+E.day,Ol,E.period,Al,"FD"),c.text(hr.name,S+E.day+E.period/2,Ol+Al/2,{align:"center",baseline:"middle",angle:90})),L.slice(Oc+1).some(gr=>gr.horarios.length>0)&&(c.setFillColor(200,200,200),c.rect(S,Z,y-S*2,re.periodSeparator,"F"),Z+=re.periodSeparator)});const mr=Z-Ln;mr>0&&(c.setFillColor(230,230,230),c.setDrawColor(150),c.rect(S,Ln,E.day,mr,"FD"),c.text(ge.charAt(0).toUpperCase()+ge.slice(1),S+E.day/2,Ln+mr/2,{align:"center",baseline:"middle",angle:90})),tt<Y.length-1&&(c.setFillColor(150,150,150),c.rect(S,Z,y-S*2,re.daySeparator,"F"),Z+=re.daySeparator)}),te++})},R=[{name:"Manh",horarios:Ae},{name:"Tarde",horarios:Fe}],J=[{name:"Noite",horarios:t==="modular"?fr:An}];_(j,R,"Diurno"),_(B,J,"Noturno"),c.addPage("a3","landscape");let W=S;c.setFontSize(16),c.setFont("helvetica","bold"),c.text("Legenda de Siglas",y/2,W,{align:"center"}),W+=30;const ke=S,Qe=y/3+S,Xe=y/3*2+S,O=y/3-S-10,U=8,ie=U*1.3;c.setFontSize(12),c.setFont("helvetica","bold"),c.text("Disciplinas",ke,W),c.text("Professores",Qe,W),W+=20;const se=[...C.entries()].sort(($,L)=>$[0].localeCompare(L[0])),z=[...m].sort(($,L)=>$.nome.localeCompare(L.nome));let G=W,V=W,me=W;const ne=Math.ceil(z.length/2),ce=z.slice(0,ne),be=z.slice(ne);c.setFontSize(U),c.setFont("helvetica","normal");for(const[$,L]of se){const X=`${L}: ${$}`,le=c.splitTextToSize(X,O);c.text(le,ke,G),G+=le.length*ie}for(const $ of ce){const L=v.get($.id)||"??";c.text(`${L}: ${$.nome}`,Qe,V,{maxWidth:O}),V+=ie}for(const $ of be){const L=v.get($.id)||"??";c.text(`${L}: ${$.nome}`,Xe,me,{maxWidth:O}),me+=ie}return{doc:c}},Lm=({currentView:e,setCurrentView:t,activeGrid:n,isFocusModeEnabled:r,onFocusModeChange:o,onOpenClearDataModal:l,onOpenLoadExampleModal:i})=>{const{state:s,dispatch:u}=De(),d=()=>{const{draggedItem:g,clipboard:p,selectedSlotId:c,onlineUsers:y,toastMessage:b,saveStatus:S,...x}=s,k=JSON.stringify(x,null,2),E="data:application/json;charset=utf-8,"+encodeURIComponent(k),I="grade_horarios.json",P=document.createElement("a");P.setAttribute("href",E),P.setAttribute("download",I),P.click()},f=()=>{const{grade:g,turmas:p,disciplinas:c,professores:y}=s,b="Turma,Dia,Horario,Disciplina,Professor",S=g.map(P=>{var q,Q,te;const F=((q=p.find(_=>_.id===P.turmaId))==null?void 0:q.nome)||P.turmaId,j=((Q=c.find(_=>_.id===P.disciplinaId))==null?void 0:Q.nome)||P.disciplinaId,B=((te=y.find(_=>_.id===P.professorId))==null?void 0:te.nome)||P.professorId;return[F,P.dia,P.horario,`"${j}"`,`"${B}"`].join(",")}),x=[b,...S].join(`
`),k=new Blob([`\uFEFF${x}`],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(k),I=document.createElement("a");I.setAttribute("href",E),I.setAttribute("download","grade_horarios.csv"),I.click(),URL.revokeObjectURL(E)},h=()=>{u({type:"SHOW_TOAST",payload:"Gerando arquivo XLSX..."}),setTimeout(()=>{try{const{workbook:g,error:p}=_m(s);if(p){u({type:"SHOW_TOAST",payload:p});return}g&&g.xlsx.writeBuffer().then(c=>{const y=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),b=URL.createObjectURL(y),S=document.createElement("a");S.setAttribute("href",b),S.setAttribute("download","grade_horarios.xlsx"),document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(b),u({type:"SHOW_TOAST",payload:"Exportao para XLSX concluda!"})}).catch(c=>{console.error("Error writing XLSX buffer:",c),u({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})})}catch(g){console.error("Error generating XLSX file:",g),u({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})}},50)},m=()=>{e==="grid"&&(u({type:"SHOW_TOAST",payload:"Gerando arquivo PDF..."}),setTimeout(()=>{try{const{doc:g,error:p}=Fm(s,n);if(p||!g){u({type:"SHOW_TOAST",payload:p||"Erro ao gerar PDF."});return}const c=`grade_${n}.pdf`;g.save(c),u({type:"SHOW_TOAST",payload:"Exportao para PDF concluda!"})}catch(g){console.error("Error generating PDF:",g),u({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo PDF."})}},50))},w=g=>{const p=new FileReader;g.target.files&&g.target.files[0]&&(p.readAsText(g.target.files[0],"UTF-8"),p.onload=c=>{if(c.target&&typeof c.target.result=="string")try{const y=JSON.parse(c.target.result);y.version&&y.cursos?(u({type:"SET_STATE",payload:y}),u({type:"SHOW_TOAST",payload:"Arquivo importado com sucesso!"})):u({type:"SHOW_TOAST",payload:"Arquivo JSON invlido."})}catch{u({type:"SHOW_TOAST",payload:"Erro ao processar o arquivo JSON."})}},g.target.value="")},v="px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",C="bg-indigo-600 text-white",T="bg-gray-200 text-gray-700 hover:bg-gray-300";return a(bn,{children:N("div",{className:"flex items-center justify-between p-2 bg-white",children:[N("div",{className:"flex items-center space-x-4",children:[a("h1",{className:"text-xl font-bold text-gray-700",children:"Timetable Scheduler"}),N("div",{className:"flex items-center bg-gray-200 rounded-md p-1",children:[a("button",{onClick:()=>t("grid"),className:`${v} ${e==="grid"?C:T}`,children:"Grade"}),a("button",{onClick:()=>t("management"),className:`${v} ${e==="management"?C:T}`,children:"Gerenciamento"}),a("button",{onClick:()=>t("professor"),className:`${v} ${e==="professor"?C:T}`,children:"Professor"})]}),e==="grid"&&N("div",{className:"flex items-center space-x-2 ml-6",children:[a("label",{htmlFor:"focus-mode-toggle",className:"text-sm font-medium text-gray-700 select-none cursor-pointer",children:"Modo Foco"}),N("div",{className:"relative",children:[a("input",{id:"focus-mode-toggle",type:"checkbox",className:"sr-only",checked:r,onChange:g=>o(g.target.checked)}),a("div",{onClick:()=>o(!r),className:`block w-10 h-6 rounded-full transition-colors cursor-pointer ${r?"bg-indigo-600":"bg-gray-200"}`}),a("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${r?"translate-x-4":""}`})]})]})]}),N("div",{className:"flex items-center space-x-2",children:[a(Dm,{status:s.saveStatus,lastModifiedBy:s.lastModifiedBy,lastModifiedAt:s.lastModifiedAt}),a("div",{className:"w-px h-6 bg-gray-300 mx-2"}),a(Im,{}),a("div",{className:"w-px h-6 bg-gray-300 mx-2"}),a("button",{onClick:i,className:"p-2 rounded hover:bg-gray-200",title:"Carregar dados de demonstrao",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7v4c0 2.21 3.582 4 8 4s8-1.79 8-4V7"})})}),a("button",{onClick:l,className:"p-2 rounded hover:bg-gray-200",title:"Limpar todos os dados da aplicao",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a("button",{onClick:()=>u({type:"UNDO"}),className:"p-2 rounded hover:bg-gray-200",title:"Desfazer (Ctrl+Z)",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8a5 5 0 015 5v1"})})}),a("button",{onClick:()=>u({type:"REDO"}),className:"p-2 rounded hover:bg-gray-200",title:"Refazer (Ctrl+Y)",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 15l3-3m0 0l-3-3m3 3H5a5 5 0 01-5-5v-1"})})}),N("label",{htmlFor:"import-json",className:"cursor-pointer p-2 rounded hover:bg-gray-200",title:"Restaurar backup (JSON)",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a("input",{type:"file",id:"import-json",className:"hidden",accept:".json",onChange:w})]}),a("button",{onClick:d,className:"p-2 rounded hover:bg-gray-200",title:"Fazer backup dos dados (JSON)",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),a("button",{onClick:f,className:"p-2 rounded hover:bg-gray-200",title:"Exportar dados brutos para planilha (CSV)",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a("button",{onClick:h,className:"p-2 rounded hover:bg-gray-200",title:"Exportar grades formatadas para Excel (XLSX)",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),a("button",{onClick:m,disabled:e!=="grid",className:"p-2 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Exportar grade atual para PDF",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})},zm=()=>N("div",{className:"px-4",children:[a("h3",{className:"text-sm font-semibold mb-2",children:"Legenda de Alertas:"}),N("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[N("div",{className:"flex items-center space-x-2 text-xs",children:[a("span",{className:"w-4 h-4 rounded-full bg-green-200 border border-gray-300"}),a("span",{children:"Horrio Vlido (sem conflitos)"})]},"valid-slot"),Object.keys(ml).map(e=>{const t=e,{bg:n,name:r}=ml[t];return N("div",{className:"flex items-center space-x-2 text-xs",children:[a("span",{className:`w-4 h-4 rounded-full ${n}`}),a("span",{children:r})]},e)})]})]}),hn=({isOpen:e,onClose:t,title:n,children:r,size:o="md"})=>{const l=D.useRef(null);if(D.useEffect(()=>{l.current=document.getElementById("modal-root")},[]),!e||!l.current)return null;const i={md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};return Dc.createPortal(a("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:t,children:N("div",{className:`bg-white rounded-lg shadow-xl w-full ${i[o]} flex flex-col max-h-[90vh]`,onClick:s=>s.stopPropagation(),children:[N("div",{className:"flex-shrink-0 flex justify-between items-center p-6 pb-4 border-b",children:[a("h3",{className:"text-lg font-medium text-gray-900",children:n}),a("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a("div",{className:"overflow-y-auto p-6",children:r})]})}),l.current)},Pl=({isOpen:e,onClose:t,onConfirm:n,title:r,message:o})=>a(hn,{isOpen:e,onClose:t,title:r,children:N("div",{className:"space-y-4",children:[a("p",{className:"text-sm text-gray-700",children:o}),N("div",{className:"mt-6 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),a("button",{type:"button",onClick:()=>{n(),t()},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Confirmar Excluso"})]})]})}),Rm=()=>{const{state:e,dispatch:t}=De(),[n,r]=D.useState(!1),[o,l]=D.useState(null),[i,s]=D.useState(""),[u,d]=D.useState({isOpen:!1,id:null}),f=C=>{l(C),s(C?C.nome:""),r(!0)},h=()=>{r(!1),l(null),s("")},m=C=>{C.preventDefault(),i.trim()&&(t(o?{type:"UPDATE_CURSO",payload:{...o,nome:i}}:{type:"ADD_CURSO",payload:{id:`c${Date.now()}`,nome:i}}),h())},w=C=>{d({isOpen:!0,id:C})},v=()=>{u.id&&t({type:"DELETE_CURSO",payload:{id:u.id}}),d({isOpen:!1,id:null})};return N("div",{children:[N("div",{className:"flex justify-between items-center mb-4",children:[a("h2",{className:"text-2xl font-bold",children:"Gerenciar Cursos"}),a("button",{onClick:()=>f(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Adicionar Curso"})]}),a("div",{className:"bg-white shadow rounded-lg",children:a("ul",{className:"divide-y divide-gray-200",children:e.cursos.length>0?e.cursos.map(C=>N("li",{className:"px-6 py-4 flex items-center justify-between",children:[a("span",{className:"font-medium",children:C.nome}),N("div",{className:"space-x-2",children:[a("button",{onClick:()=>f(C),className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),a("button",{onClick:()=>w(C.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},C.id)):a("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhum curso cadastrado."})})}),a(hn,{isOpen:n,onClose:h,title:o?"Editar Curso":"Adicionar Curso",children:N("form",{onSubmit:m,children:[a("label",{htmlFor:"cursoName",className:"block text-sm font-medium text-gray-700",children:"Nome do Curso"}),a("input",{type:"text",id:"cursoName",value:i,onChange:C=>s(C.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0}),N("div",{className:"mt-4 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:h,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),a("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Salvar"})]})]})}),a(Pl,{isOpen:u.isOpen,onClose:()=>d({isOpen:!1,id:null}),onConfirm:v,title:"Confirmar Excluso de Curso",message:"Tem certeza que deseja excluir este curso? Todas as turmas, disciplinas e aulas associadas tambm sero removidas permanentemente."})]})},$m=()=>{const{state:e,dispatch:t}=De(),[n,r]=D.useState(!1),[o,l]=D.useState(null),[i,s]=D.useState({nome:"",cursoId:"",periodo:"manha",isModular:!1}),[u,d]=D.useState("all"),[f,h]=D.useState({isOpen:!1,id:null});D.useEffect(()=>{!i.cursoId&&e.cursos.length>0&&s(y=>({...y,cursoId:e.cursos[0].id}))},[e.cursos,i.cursoId]);const m=y=>{var b;l(y),s(y?{nome:y.nome,cursoId:y.cursoId,periodo:y.periodo,isModular:!!y.isModular}:{nome:"",cursoId:((b=e.cursos[0])==null?void 0:b.id)||"",periodo:"manha",isModular:!1}),r(!0)},w=()=>{r(!1),l(null),s({nome:"",cursoId:"",periodo:"manha",isModular:!1})},v=y=>{y.preventDefault(),!(!i.nome.trim()||!i.cursoId||!i.periodo)&&(t(o?{type:"UPDATE_TURMA",payload:{...o,...i}}:{type:"ADD_TURMA",payload:{id:`t${Date.now()}`,...i}}),w())},C=y=>{h({isOpen:!0,id:y})},T=()=>{f.id&&t({type:"DELETE_TURMA",payload:{id:f.id}}),h({isOpen:!1,id:null})},g=y=>{var b;return((b=e.cursos.find(S=>S.id===y))==null?void 0:b.nome)||"N/A"},p=y=>y.charAt(0).toUpperCase()+y.slice(1),c=e.turmas.filter(y=>u==="all"?!0:y.cursoId===u);return N("div",{children:[N("div",{className:"flex justify-between items-center mb-4",children:[a("h2",{className:"text-2xl font-bold",children:"Gerenciar Turmas"}),N("div",{className:"flex items-center space-x-4",children:[N("div",{className:"w-64",children:[a("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Curso"}),N("select",{id:"curso-filter",value:u,onChange:y=>d(y.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[a("option",{value:"all",children:"Todos os Cursos"}),e.cursos.map(y=>a("option",{value:y.id,children:y.nome},y.id))]})]}),a("button",{onClick:()=>m(null),className:"self-end px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",disabled:e.cursos.length===0,children:"Adicionar Turma"})]})]}),a("div",{className:"bg-white shadow rounded-lg",children:a("ul",{className:"divide-y divide-gray-200",children:c.length>0?c.map(y=>N("li",{className:"px-6 py-4 flex items-center justify-between",children:[N("div",{children:[a("span",{className:"font-medium",children:y.nome}),N("span",{className:"text-sm text-gray-500 ml-2",children:["(",g(y.cursoId)," - ",p(y.periodo),")"]}),y.isModular&&a("span",{className:"text-xs bg-purple-100 text-purple-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:"Modular"})]}),N("div",{className:"space-x-2",children:[a("button",{onClick:()=>m(y),className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),a("button",{onClick:()=>C(y.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},y.id)):a("li",{className:"px-6 py-4 text-center text-gray-500",children:e.turmas.length===0?"Nenhuma turma cadastrada.":"Nenhuma turma encontrada para o filtro selecionado."})})}),a(hn,{isOpen:n,onClose:w,title:o?"Editar Turma":"Adicionar Turma",children:N("form",{onSubmit:v,className:"space-y-4",children:[N("div",{children:[a("label",{htmlFor:"turmaName",className:"block text-sm font-medium text-gray-700",children:"Nome da Turma"}),a("input",{type:"text",id:"turmaName",value:i.nome,onChange:y=>s({...i,nome:y.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),N("div",{children:[a("label",{htmlFor:"cursoId",className:"block text-sm font-medium text-gray-700",children:"Curso"}),N("select",{id:"cursoId",value:i.cursoId,onChange:y=>s({...i,cursoId:y.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[a("option",{value:"",disabled:!0,children:"Selecione um curso"}),e.cursos.map(y=>a("option",{value:y.id,children:y.nome},y.id))]})]}),N("div",{children:[a("label",{htmlFor:"turmaPeriodo",className:"block text-sm font-medium text-gray-700",children:"Perodo"}),N("select",{id:"turmaPeriodo",value:i.periodo,onChange:y=>s({...i,periodo:y.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[a("option",{value:"manha",children:"Manh"}),a("option",{value:"tarde",children:"Tarde"}),a("option",{value:"noite",children:"Noite"})]})]}),a("div",{className:"pt-2",children:N("div",{className:"flex items-start",children:[a("div",{className:"flex items-center h-5",children:a("input",{id:"isModular",type:"checkbox",checked:i.isModular,onChange:y=>s({...i,isModular:y.target.checked}),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),N("div",{className:"ml-3 text-sm",children:[a("label",{htmlFor:"isModular",className:"font-medium text-gray-700",children:"Turma Modular?"}),a("p",{className:"text-gray-500",children:"Turmas modulares aparecero em uma grade de horrios separada."})]})]})}),N("div",{className:"mt-4 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),a("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Salvar"})]})]})}),a(Pl,{isOpen:f.isOpen,onClose:()=>h({isOpen:!1,id:null}),onConfirm:T,title:"Confirmar Excluso de Turma",message:"Tem certeza que deseja excluir esta turma? Todas as disciplinas e aulas associadas tambm sero removidas permanentemente."})]})},jm=({isOpen:e,onClose:t})=>{const{state:n,dispatch:r}=De(),o=D.useMemo(()=>{const u={};return n.disciplinas.forEach(d=>{d.bnccId||(u[d.nome]||(u[d.nome]={turmas:new Set}),u[d.nome].turmas.add(d.turmaId))}),Object.entries(u).filter(([d,f])=>f.turmas.size>1).map(([d,f])=>({nome:d,count:f.turmas.size})).sort((d,f)=>f.count!==d.count?f.count-d.count:d.nome.localeCompare(f.nome))},[n.disciplinas]),l=u=>{r({type:"CREATE_BNCC",payload:{nome:u}})},i=u=>{r({type:"DELETE_BNCC",payload:{bnccId:u}})},s="flex-shrink-0 w-32 justify-center text-center text-sm px-3 py-1 rounded-md transition-colors";return a(hn,{isOpen:e,onClose:t,title:"Gerenciar Grupos BNCC",size:"4xl",children:N("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[a("h3",{className:"text-lg font-semibold mb-3",children:"Sugestes de Grupos BNCC"}),a("p",{className:"text-sm text-gray-500 mb-3",children:"Disciplinas com o mesmo nome em mltiplas turmas so candidatas a se tornarem um grupo BNCC."}),o.length>0?a("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto pr-2",children:o.map(u=>N("li",{className:"py-3 flex justify-between items-center",children:[N("div",{children:[a("span",{className:"font-medium",children:u.nome}),N("span",{className:"text-sm text-gray-500 ml-2",children:["(",u.count," turmas)"]})]}),a("button",{onClick:()=>l(u.nome),className:`${s} bg-green-500 text-white hover:bg-green-600`,children:"Criar Grupo"})]},u.nome))}):a("p",{className:"text-sm text-gray-500",children:"Nenhuma sugesto de grupo BNCC encontrada."})]}),N("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[a("h3",{className:"text-lg font-semibold mb-3",children:"Grupos BNCC Atuais"}),a("p",{className:"text-sm text-gray-500 mb-3",children:'As atribuies de professores para estes grupos so feitas na aba "Atribuies".'}),n.bncc.length>0?a("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto pr-2",children:n.bncc.map(u=>N("li",{className:"py-3 flex justify-between items-center",children:[a("span",{className:"font-medium",children:u.nome}),a("button",{onClick:()=>i(u.id),className:`${s} bg-red-500 text-white hover:bg-red-600`,children:"Desfazer Grupo"})]},u.id))}):a("p",{className:"text-sm text-gray-500",children:"Nenhum grupo BNCC foi criado."})]})]})})},Hm=()=>{const{state:e,dispatch:t}=De(),[n,r]=D.useState(!1),[o,l]=D.useState(!1),[i,s]=D.useState(null),[u,d]=D.useState({nome:"",turmaId:"",divisao:!1,numProfessores:1,aulasSemanais:1}),[f,h]=D.useState("all"),[m,w]=D.useState({isOpen:!1,id:null});D.useEffect(()=>{!u.turmaId&&e.turmas.length>0&&d(x=>({...x,turmaId:e.turmas[0].id}))},[e.turmas,u.turmaId]);const v=D.useMemo(()=>{var x;return((x=e.turmas.find(k=>k.id===u.turmaId))==null?void 0:x.isModular)??!1},[u.turmaId,e.turmas]),C=x=>{if(s(x),x)d({...x});else{const k=e.turmas.length>0?e.turmas[0].id:"",E=e.turmas.find(P=>P.id===k),I=E!=null&&E.isModular?1.25:1;d({nome:"",turmaId:k,divisao:!1,numProfessores:1,aulasSemanais:I})}r(!0)},T=()=>{r(!1),s(null)},g=x=>{if(x.preventDefault(),!u.nome.trim()||!u.turmaId)return;const k={...u,numProfessores:u.divisao?u.numProfessores:1};t(i?{type:"UPDATE_DISCIPLINA",payload:{...i,...k}}:{type:"ADD_DISCIPLINA",payload:{id:`d${Date.now()}`,...k}}),T()},p=x=>{w({isOpen:!0,id:x})},c=()=>{m.id&&t({type:"DELETE_DISCIPLINA",payload:{id:m.id}}),w({isOpen:!1,id:null})},y=x=>{d(k=>{if(i)return{...k,turmaId:x};const E=e.turmas.find(P=>P.id===x),I=E!=null&&E.isModular?1.25:1;return{...k,turmaId:x,aulasSemanais:I}})},b=x=>{var k;return((k=e.turmas.find(E=>E.id===x))==null?void 0:k.nome)||"N/A"},S=D.useMemo(()=>{if(f==="all")return e.disciplinas;const x=e.turmas.filter(k=>k.cursoId===f).map(k=>k.id);return e.disciplinas.filter(k=>x.includes(k.turmaId))},[e.disciplinas,e.turmas,f]);return N("div",{children:[N("div",{className:"flex justify-between items-center mb-4",children:[a("h2",{className:"text-2xl font-bold",children:"Gerenciar Disciplinas"}),N("div",{className:"flex items-center space-x-4",children:[N("div",{className:"w-64",children:[a("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Curso"}),N("select",{id:"curso-filter",value:f,onChange:x=>h(x.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[a("option",{value:"all",children:"Todos os Cursos"}),e.cursos.map(x=>a("option",{value:x.id,children:x.nome},x.id))]})]}),a("button",{onClick:()=>l(!0),className:"self-end px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700",children:"Gerenciar Grupos BNCC"}),a("button",{onClick:()=>C(null),className:"self-end px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",disabled:e.turmas.length===0,children:"Adicionar Disciplina"})]})]}),a("div",{className:"bg-white shadow rounded-lg",children:a("ul",{className:"divide-y divide-gray-200",children:S.length>0?S.map(x=>N("li",{className:"px-6 py-4 flex items-center justify-between",children:[N("div",{children:[N("span",{className:"font-medium",children:[x.nome," (",x.aulasSemanais," aulas/sem)"]}),N("span",{className:"text-sm text-gray-500 ml-2",children:["(",b(x.turmaId),")"]}),x.bnccId&&a("span",{className:"text-xs bg-pink-100 text-pink-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:"BNCC"}),x.divisao&&N("span",{className:"text-xs bg-blue-100 text-blue-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:["Diviso (",x.numProfessores,")"]})]}),N("div",{className:"space-x-2",children:[a("button",{onClick:()=>C(x),className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),a("button",{onClick:()=>p(x.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},x.id)):a("li",{className:"px-6 py-4 text-center text-gray-500",children:e.disciplinas.length===0?"Nenhuma disciplina cadastrada.":"Nenhuma disciplina encontrada para o filtro selecionado."})})}),a(hn,{isOpen:n,onClose:T,title:i?"Editar Disciplina":"Adicionar Disciplina",children:N("form",{onSubmit:g,className:"space-y-4",children:[N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Nome da Disciplina"}),a("input",{type:"text",value:u.nome,onChange:x=>d({...u,nome:x.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Aulas por Semana"}),a("input",{type:"number",min:v?"1.25":"1",step:v?"1.25":"1",value:u.aulasSemanais,onChange:x=>d({...u,aulasSemanais:parseFloat(x.target.value)||(v?1.25:1)}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Turma"}),a("select",{value:u.turmaId,onChange:x=>y(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:e.turmas.map(x=>a("option",{value:x.id,children:x.nome},x.id))})]}),N("div",{className:"flex items-start",children:[a("div",{className:"flex items-center h-5",children:a("input",{id:"divisao",type:"checkbox",checked:u.divisao,onChange:x=>d({...u,divisao:x.target.checked}),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),a("div",{className:"ml-3 text-sm",children:a("label",{htmlFor:"divisao",className:"font-medium text-gray-700",children:"Diviso de turma?"})})]}),u.divisao&&N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Nmero de Professores"}),a("input",{type:"number",min:"2",value:u.numProfessores,onChange:x=>d({...u,numProfessores:parseInt(x.target.value)||2}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),N("div",{className:"mt-4 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-200 rounded-md",children:"Cancelar"}),a("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Salvar"})]})]})}),a(Pl,{isOpen:m.isOpen,onClose:()=>w({isOpen:!1,id:null}),onConfirm:c,title:"Confirmar Excluso de Disciplina",message:"Tem certeza que deseja excluir esta disciplina? Todas as atribuies e aulas associadas tambm sero removidas permanentemente."}),a(jm,{isOpen:o,onClose:()=>l(!1)})]})},Um=({disponibilidade:e,onAvailabilityChange:t})=>{const n=(i,s)=>{const u={...e};u[i]||(u[i]=[]);const d=u[i].includes(s);u[i]=d?u[i].filter(f=>f!==s):[...u[i],s],t(u)},r=(i,s)=>{const u={...e};u[i]||(u[i]=[]);const d=s.every(h=>u[i].includes(h));let f=[...u[i]];d?f=f.filter(h=>!s.includes(h)):s.forEach(h=>{f.includes(h)||f.push(h)}),u[i]=f,t(u)},o=i=>{const s={...e},u=Y.every(d=>{var f;return(f=s[d])==null?void 0:f.includes(i)});Y.forEach(d=>{s[d]||(s[d]=[]);const f=s[d].includes(i);u?f&&(s[d]=s[d].filter(h=>h!==i)):f||s[d].push(i)}),t(s)},l=({label:i,horarios:s})=>N("div",{className:"p-4 border rounded-lg bg-gray-50/50",children:[a("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:i}),N("div",{className:"grid gap-px",style:{gridTemplateColumns:"auto repeat(6, 1fr)"},children:[a("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center sticky top-0 bg-gray-50",children:"Horrio"}),Y.map(u=>a("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center capitalize sticky top-0 bg-gray-50",children:a("button",{onClick:()=>r(u,s),className:"hover:text-indigo-600 w-full",title:`Marcar/desmarcar todos os horrios da ${i.toLowerCase()} para ${u}`,children:u})},u)),a("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center sticky top-0 bg-gray-50",children:"Aes"}),s.map(u=>N(Hr.Fragment,{children:[a("div",{className:"text-sm font-mono px-1 py-2 text-center flex items-center justify-center bg-white",children:u}),Y.map(d=>{var h;const f=((h=e[d])==null?void 0:h.includes(u))??!1;return a("div",{className:"py-1 px-0.5 flex items-center justify-center bg-white",children:a("button",{type:"button",onClick:()=>n(d,u),className:`w-6 h-6 rounded-md transition-colors ${f?"bg-emerald-500 hover:bg-emerald-600":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":`Disponibilidade para ${d} s ${u}: ${f?"Disponvel":"Indisponvel"}`})},`${d}-${u}`)}),a("div",{className:"py-1 px-0.5 flex items-center justify-center bg-white",children:a("button",{onClick:()=>o(u),className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded-full text-xs font-semibold hover:bg-indigo-200 transition-colors",title:`Marcar/desmarcar ${u} para todos os dias`,children:"Todos"})})]},u))]})]});return N("div",{className:"space-y-4",children:[a(l,{label:"Manh",horarios:Ae}),a(l,{label:"Tarde",horarios:Fe}),a(l,{label:"Noite",horarios:An})]})},Bm=()=>{const{state:e,dispatch:t}=De(),[n,r]=D.useState(!1),[o,l]=D.useState(null),[i,s]=D.useState({nome:"",disponibilidade:{}}),[u,d]=D.useState(""),[f,h]=D.useState({isOpen:!1,id:null}),[m,w]=D.useState(""),v=x=>{l(x),s(x?{...x}:{nome:"",disponibilidade:{}}),d(""),r(!0)},C=()=>{r(!1),d("")},T=x=>{x.preventDefault(),i.nome.trim()&&(t(o?{type:"UPDATE_PROFESSOR",payload:i}:{type:"ADD_PROFESSOR",payload:{id:`p${Date.now()}`,...i}}),C())},g=x=>{h({isOpen:!0,id:x})},p=()=>{f.id&&t({type:"DELETE_PROFESSOR",payload:{id:f.id}}),h({isOpen:!1,id:null})},c=()=>{if(!u)return;const x=e.professores.find(k=>k.id===u);if(x){const k=JSON.parse(JSON.stringify(x.disponibilidade));s(E=>({...E,disponibilidade:k}))}},y=x=>{s(k=>({...k,disponibilidade:x}))},b=D.useMemo(()=>[...e.professores].sort((x,k)=>x.nome.localeCompare(k.nome)),[e.professores]),S=D.useMemo(()=>m.trim()?b.filter(x=>x.nome.toLowerCase().includes(m.toLowerCase())):b,[b,m]);return N("div",{children:[N("div",{className:"flex justify-between items-center mb-4",children:[a("h2",{className:"text-2xl font-bold",children:"Gerenciar Professores"}),N("div",{className:"flex items-center space-x-4",children:[N("div",{className:"w-64",children:[a("label",{htmlFor:"professor-search",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),a("input",{type:"text",id:"professor-search",value:m,onChange:x=>w(x.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),a("button",{onClick:()=>v(null),className:"self-end px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Adicionar Professor"})]})]}),a("div",{className:"bg-white shadow rounded-lg",children:a("ul",{className:"divide-y divide-gray-200",children:S.length>0?S.map(x=>N("li",{className:"px-6 py-4 flex items-center justify-between",children:[a("span",{className:"font-medium",children:x.nome}),N("div",{className:"space-x-2",children:[a("button",{onClick:()=>v(x),className:"text-indigo-600",children:"Editar"}),a("button",{onClick:()=>g(x.id),className:"text-red-600",children:"Excluir"})]})]},x.id)):a("li",{className:"px-6 py-4 text-center text-gray-500",children:e.professores.length===0?"Nenhum professor cadastrado.":"Nenhum professor encontrado para o filtro selecionado."})})}),a(hn,{isOpen:n,onClose:C,title:o?"Editar Professor":"Adicionar Professor",size:"5xl",children:N("form",{onSubmit:T,className:"space-y-6",children:[N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Nome do Professor"}),a("input",{type:"text",value:i.nome,onChange:x=>s({...i,nome:x.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),N("div",{children:[a("label",{className:"block text-sm font-medium",children:"Copiar Disponibilidade de:"}),N("div",{className:"mt-1 flex space-x-2",children:[N("select",{value:u,onChange:x=>d(x.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",disabled:e.professores.filter(x=>x.id!==(o==null?void 0:o.id)).length===0,children:[a("option",{value:"",children:"Selecione um professor..."}),e.professores.filter(x=>x.id!==(o==null?void 0:o.id)).sort((x,k)=>x.nome.localeCompare(k.nome)).map(x=>a("option",{value:x.id,children:x.nome},x.id))]}),a("button",{type:"button",onClick:c,disabled:!u,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed",children:"Copiar"})]})]}),N("div",{children:[a("h4",{className:"text-sm font-medium mb-2",children:"Disponibilidade"}),a(Um,{disponibilidade:i.disponibilidade,onAvailabilityChange:y})]}),N("div",{className:"mt-6 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:C,className:"px-4 py-2 bg-gray-200 rounded-md",children:"Cancelar"}),a("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Salvar"})]})]})}),a(Pl,{isOpen:f.isOpen,onClose:()=>h({isOpen:!1,id:null}),onConfirm:p,title:"Confirmar Excluso de Professor",message:"Tem certeza que deseja excluir este professor? Ele ser removido de todas as atribuies e aulas permanentemente."})]})},mu=({allProfessors:e,selectedProfessorIds:t,onSelectionChange:n,maxSelection:r=1})=>{const[o,l]=D.useState(""),[i,s]=D.useState(!1),u=D.useRef(null),d=D.useMemo(()=>t.map(v=>e.find(C=>C.id===v)).filter(v=>!!v),[t,e]),f=D.useMemo(()=>{const v=o.toLowerCase();return e.filter(C=>C.nome.toLowerCase().includes(v))},[o,e]);D.useEffect(()=>{const v=C=>{u.current&&!u.current.contains(C.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[u]);const h=v=>{t.length<r&&(n([...t,v]),l(""),s(!1))},m=v=>{n(t.filter((C,T)=>T!==v))},w=t.length<r;return N("div",{className:"relative",ref:u,children:[N("div",{className:"flex flex-wrap items-center gap-2 p-2 border border-gray-300 rounded-md bg-white min-h-[42px]",children:[d.map((v,C)=>N("div",{className:"flex items-center bg-indigo-100 text-indigo-800 text-sm font-medium px-2 py-1 rounded-full",children:[a("span",{children:v.nome}),a("button",{type:"button",onClick:()=>m(C),className:"ml-2 text-indigo-500 hover:text-indigo-700 focus:outline-none","aria-label":`Remover ${v.nome}`,children:""})]},`${v.id}-${C}`)),w&&a("input",{type:"text",value:o,onChange:v=>l(v.target.value),onFocus:()=>s(!0),placeholder:"Adicionar professor...",className:"flex-grow p-1 bg-transparent focus:outline-none"})]}),i&&w&&a("ul",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:f.length>0?f.map(v=>a("li",{onClick:()=>h(v.id),className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100",children:v.nome},v.id)):a("li",{className:"px-4 py-2 text-sm text-gray-500 cursor-default",children:"Nenhum professor encontrado."})})]})},Wm=()=>{const{state:e,dispatch:t}=De(),{disciplinas:n,professores:r,atribuicoes:o,turmas:l,cursos:i}=e,[s,u]=D.useState(""),d=[...r].sort((T,g)=>T.nome.localeCompare(g.nome)),f=[...i].sort((T,g)=>T.nome.localeCompare(g.nome)),h=T=>{var g;return((g=o.find(p=>p.disciplinaId===T))==null?void 0:g.professores)||[]},m=(T,g)=>{g.length===0?t({type:"DELETE_ATRIBUICAO",payload:{disciplinaId:T}}):t({type:"UPDATE_ATRIBUICAO",payload:{disciplinaId:T,professores:g}})},w=D.useMemo(()=>{if(!s.trim())return null;const T=s.toLowerCase();return d.filter(c=>c.nome.toLowerCase().includes(T)).map(c=>{const y=o.filter(b=>b.professores.includes(c.id)).map(b=>n.find(S=>S.id===b.disciplinaId)).filter(b=>!!b);return{professor:c,disciplinas:y.sort((b,S)=>b.nome.localeCompare(S.nome))}}).filter(c=>c.disciplinas.length>0)},[s,d,o,n]),v=()=>a(bn,{children:f.length>0?f.map(T=>{const g=l.filter(p=>p.cursoId===T.id).sort((p,c)=>p.nome.localeCompare(c.nome));return g.length===0?null:N("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[a("h3",{className:"text-xl font-bold text-indigo-700 mb-4 pb-2 border-b",children:T.nome}),a("div",{className:"space-y-6",children:g.map(p=>{const c=n.filter(y=>y.turmaId===p.id).sort((y,b)=>y.nome.localeCompare(b.nome));return c.length===0?null:N("div",{children:[N("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[p.nome,p.isModular&&a("span",{className:"text-xs bg-purple-100 text-purple-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:"Modular"})]}),a("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(y=>N("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[N("div",{className:"mb-2",children:[a("span",{className:"text-sm font-bold text-gray-700",children:y.nome}),y.bnccId&&a("span",{className:"ml-2 text-xs bg-pink-100 text-pink-800 font-semibold px-2 py-0.5 rounded-full",children:"BNCC"}),y.divisao&&N("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 font-semibold px-2 py-0.5 rounded-full",children:["Diviso (",y.numProfessores,")"]})]}),a(mu,{allProfessors:d,selectedProfessorIds:h(y.id),onSelectionChange:b=>m(y.id,b),maxSelection:y.numProfessores})]},y.id))})]},p.id)})})]},T.id)}):a("div",{className:"text-center text-gray-500 py-8 bg-white rounded-lg shadow",children:"Nenhum curso cadastrado. Por favor, adicione cursos na aba 'Cursos'."})}),C=()=>a(bn,{children:w&&w.length>0?w.map(({professor:T,disciplinas:g})=>N("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[a("h3",{className:"text-xl font-bold text-indigo-700 mb-4 pb-2 border-b",children:T.nome}),a("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(p=>{const c=l.find(b=>b.id===p.turmaId),y=i.find(b=>b.id===(c==null?void 0:c.cursoId));return N("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[N("div",{className:"mb-1",children:[a("span",{className:"text-sm font-bold text-gray-700",children:p.nome}),p.bnccId&&a("span",{className:"ml-2 text-xs bg-pink-100 text-pink-800 font-semibold px-2 py-0.5 rounded-full",children:"BNCC"}),p.divisao&&N("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 font-semibold px-2 py-0.5 rounded-full",children:["Diviso (",p.numProfessores,")"]})]}),N("div",{className:"text-xs text-gray-500 mb-2",children:[y==null?void 0:y.nome," / ",c==null?void 0:c.nome]}),a(mu,{allProfessors:d,selectedProfessorIds:h(p.id),onSelectionChange:b=>m(p.id,b),maxSelection:p.numProfessores})]},p.id)})})]},T.id)):N("div",{className:"text-center text-gray-500 py-8 bg-white rounded-lg shadow",children:['Nenhum professor encontrado com o nome "',s,'" que possua atribuies.']})});return N("div",{children:[N("div",{className:"flex justify-between items-center mb-4",children:[a("h2",{className:"text-2xl font-bold",children:"Gerenciar Atribuies"}),N("div",{className:"w-64",children:[a("label",{htmlFor:"professor-search-atribuicao",className:"block text-sm font-medium text-gray-700",children:"Buscar por Professor"}),a("input",{type:"text",id:"professor-search-atribuicao",value:s,onChange:T=>u(T.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]})]}),a("div",{className:"space-y-8",children:s.trim()?C():v()})]})},Vm=e=>{const t=e.toLowerCase();return t.includes("manh")?"manha":t.includes("tarde")?"tarde":t.includes("noite")?"noite":"manha"},Po=(e,t)=>{let n=0;for(let o=0;o<e.length;o++){const l=e.charCodeAt(o);n=(n<<5)-n+l,n|=0}const r=e.trim().toLowerCase().replace(/[^a-z0-9]/g,"");return`${t}-${r.substring(0,30)}-${Math.abs(n).toString(36)}`},Gm=e=>{const n=new DOMParser().parseFromString(e,"text/html"),r=new Map,o=new Map,l=new Map,i=new Map,s=[],u=["ensino mdio","mtec","novotec","integrado"],d=h=>{const m=h.trim();if(!m)return i.has("Vago")||i.set("Vago",{id:"p-vago",nome:"Vago",disponibilidade:{}}),i.get("Vago");if(!i.has(m)){const w={id:Po(m,"p"),nome:m,disponibilidade:{}};i.set(m,w)}return i.get(m)};n.querySelectorAll("tr.success").forEach(h=>{var I;h.textContent;const m=Array.from(h.querySelectorAll("strong")),w=Array.from(h.querySelectorAll("b")),v=(P,F)=>{var j,B,q;for(const Q of F)if(Q&&((B=(j=Q.previousSibling)==null?void 0:j.textContent)!=null&&B.includes(P)))return((q=Q.textContent)==null?void 0:q.trim())||null;return null},C=v("Curso:",w)||"Curso Desconhecido",T=!u.some(P=>C.toLowerCase().includes(P)),g=C.replace(/\s*\(.*?\)\s*/g," ").trim(),p=v("Turma:",m),c=v("Perodo:",m);if(!p||!c)return;r.has(g)||r.set(g,{id:Po(g,"c"),nome:g});const y=r.get(g),b=`${y.nome}-${p}`;o.has(b)||o.set(b,{id:Po(b,"t"),cursoId:y.id,nome:p,periodo:Vm(c),isModular:T});const S=o.get(b),x=(I=h.nextElementSibling)==null?void 0:I.querySelector("table.table-condensed");if(!x)return;const k=Array.from(x.querySelectorAll("tbody > tr:not(.warning)")),E=new Map;k.forEach(P=>{const F=P.querySelectorAll("td");if(F.length<7)return;const j=F[0].querySelector("a");if(!j)return;const Q=(j.textContent||"").trim().replace(/^\(\d+\)_/,"").trim().replace(/\s*\(.*?\)\s*/g," ").trim(),te=parseFloat((F[4].textContent||"0").replace(",",".")),_=T?te:Math.round(te);E.has(Q)||E.set(Q,{rows:[],aulasSemanais:_}),E.get(Q).rows.push(P)}),E.forEach((P,F)=>{const{rows:j,aulasSemanais:B}=P;if(j.length===0)return;const q=j.length>1,Q=[];j.forEach(R=>{const J=(R.querySelectorAll("td")[6].textContent||"").trim();Q.push(d(J).id)});const te=`${S.id}-${F}`;if(!l.has(te)){const R={id:Po(te,"d"),turmaId:S.id,nome:F,aulasSemanais:B,divisao:q,numProfessores:j.length};l.set(te,R)}const _=l.get(te);Q.length>0&&(s.find(H=>H.disciplinaId===_.id)||s.push({disciplinaId:_.id,professores:Q.filter(H=>H!=="p-vago")}))})});const f=Array.from(i.values());return{ano:new Date().getFullYear(),cursos:Array.from(r.values()),turmas:Array.from(o.values()),disciplinas:Array.from(l.values()),professores:f,atribuicoes:s,grade:[],alertas:[]}},Qm=()=>{var p,c,y,b;const{dispatch:e}=De(),[t,n]=D.useState("upload"),[r,o]=D.useState(null),[l,i]=D.useState(null),[s,u]=D.useState({}),[d,f]=D.useState(!1),[h,m]=D.useState(null),w=S=>{var k;const x=(k=S.target.files)==null?void 0:k[0];x&&(o(x),m(null))},v=()=>{if(!r){m("Por favor, selecione um arquivo HTML.");return}f(!0),m(null);const S=new FileReader;S.onload=x=>{var k;try{const E=(k=x.target)==null?void 0:k.result,I=Gm(E);if(i(I),I.turmas){const P={};I.turmas.forEach(F=>{P[F.id]=F.isModular}),u(P)}n("validate")}catch(E){m("Ocorreu um erro ao analisar o arquivo. Verifique se o formato est correto."),console.error(E)}finally{f(!1)}},S.onerror=()=>{m("No foi possvel ler o arquivo."),f(!1)},S.readAsText(r,"UTF-8")},C=()=>{var S;if(l){const x=((S=l.turmas)==null?void 0:S.map(E=>({...E,isModular:s[E.id]??E.isModular})))??[],k={version:"1.0",ano:l.ano??new Date().getFullYear(),cursos:l.cursos??[],turmas:x,disciplinas:l.disciplinas??[],professores:l.professores??[],atribuicoes:l.atribuicoes??[],grade:[],alertas:[],bncc:[],toastMessage:null,draggedItem:null,clipboard:null,selectedSlotId:null,onlineUsers:[],saveStatus:"saved",lastModifiedBy:null,lastModifiedAt:null};e({type:"SET_STATE",payload:k}),n("success")}},T=()=>{o(null),i(null),m(null),f(!1),n("upload")},g=(S,x)=>{u(k=>({...k,[S]:x}))};return N("div",{className:"max-w-4xl mx-auto",children:[a("h2",{className:"text-2xl font-bold mb-4",children:"Importar Dados de HTML (SIG)"}),t==="upload"&&N("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[a("h3",{className:"text-lg font-semibold",children:"Passo 1: Selecionar Arquivo"}),a("p",{className:"text-sm text-gray-600",children:'Selecione o arquivo HTML salvo a partir da pgina "Consultar Quadros" do sistema SIG-URH. O sistema ir extrair os cursos, turmas, disciplinas e professores.'}),N("div",{children:[a("label",{htmlFor:"html-upload-label",className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo HTML"}),N("div",{className:"mt-1 flex items-center space-x-3",children:[a("label",{htmlFor:"html-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Escolher arquivo"}),a("input",{id:"html-upload",name:"html-upload",type:"file",accept:".html,.htm",onChange:w,className:"sr-only"}),r?a("span",{className:"text-sm text-gray-600",children:r.name}):a("span",{className:"text-sm text-gray-500",children:"Nenhum arquivo selecionado"})]})]}),h&&a("p",{className:"text-sm text-red-600",children:h}),a("div",{className:"flex justify-end",children:a("button",{onClick:v,disabled:!r||d,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",children:d?"Analisando...":"Analisar Arquivo"})})]}),t==="validate"&&l&&N("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[a("h3",{className:"text-lg font-semibold",children:"Passo 2: Validar Dados"}),N("p",{className:"text-sm text-gray-600",children:["Os seguintes dados foram encontrados. ",a("strong",{children:"Ateno:"})," A importao substituir todos os dados existentes."]}),N("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[N("div",{className:"p-4 bg-gray-100 rounded-lg",children:[a("div",{className:"text-2xl font-bold",children:((p=l.cursos)==null?void 0:p.length)||0}),a("div",{className:"text-sm",children:"Cursos"})]}),N("div",{className:"p-4 bg-gray-100 rounded-lg",children:[a("div",{className:"text-2xl font-bold",children:((c=l.turmas)==null?void 0:c.length)||0}),a("div",{className:"text-sm",children:"Turmas"})]}),N("div",{className:"p-4 bg-gray-100 rounded-lg",children:[a("div",{className:"text-2xl font-bold",children:((y=l.disciplinas)==null?void 0:y.length)||0}),a("div",{className:"text-sm",children:"Disciplinas"})]}),N("div",{className:"p-4 bg-gray-100 rounded-lg",children:[a("div",{className:"text-2xl font-bold",children:((b=l.professores)==null?void 0:b.length)||0}),a("div",{className:"text-sm",children:"Professores"})]})]}),N("div",{className:"mt-4 border-t pt-4",children:[a("h4",{className:"font-semibold",children:"Validar Classificao das Turmas"}),a("p",{className:"text-sm text-gray-600 mb-2",children:"Verifique a lista de turmas importadas. Marque a caixa ao lado de cada turma que deve ser considerada 'Modular'. Turmas no marcadas sero tratadas como 'Regular' (Ensino Mdio, MTec, etc.)."}),a("div",{className:"max-h-64 overflow-y-auto space-y-1 border p-3 rounded-md bg-gray-50",children:l.turmas&&l.turmas.length>0?l.turmas.slice().sort((S,x)=>S.nome.localeCompare(x.nome)).map(S=>N("div",{className:"flex items-center p-1 hover:bg-gray-100 rounded",children:[a("input",{type:"checkbox",id:`turma-modular-toggle-${S.id}`,checked:s[S.id]??!1,onChange:x=>g(S.id,x.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),a("label",{htmlFor:`turma-modular-toggle-${S.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:S.nome})]},S.id)):a("p",{className:"text-sm text-gray-500",children:"Nenhuma turma encontrada no arquivo."})})]}),N("div",{className:"flex justify-end space-x-2",children:[a("button",{onClick:T,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),a("button",{onClick:C,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Confirmar e Importar"})]})]}),t==="success"&&N("div",{className:"bg-white p-6 rounded-lg shadow text-center space-y-4",children:[a("h3",{className:"text-lg font-semibold text-green-700",children:"Importao Concluda!"}),a("p",{children:"Os dados foram importados com sucesso. Voc j pode navegar para as outras abas de gerenciamento para ver os resultados."}),a("button",{onClick:T,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Importar Novo Arquivo"})]})]})},Xm=()=>{const[e,t]=D.useState("cursos"),n=()=>{switch(e){case"cursos":return a(Rm,{});case"turmas":return a($m,{});case"disciplinas":return a(Hm,{});case"professores":return a(Bm,{});case"atribuicoes":return a(Wm,{});case"importar":return a(Qm,{});default:return null}},r=({tabName:o,label:l})=>a("button",{onClick:()=>t(o),className:`px-4 py-2 text-sm font-medium border-b-2 ${e===o?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:l});return N("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[a("div",{className:"border-b border-gray-200",children:N("nav",{className:"-mb-px flex space-x-4 px-4 overflow-x-auto","aria-label":"Tabs",children:[a(r,{tabName:"cursos",label:"Cursos"}),a(r,{tabName:"turmas",label:"Turmas"}),a(r,{tabName:"disciplinas",label:"Disciplinas"}),a(r,{tabName:"professores",label:"Professores"}),a(r,{tabName:"atribuicoes",label:"Atribuies"}),a(r,{tabName:"importar",label:"Importar (HTML)"})]})}),a("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:n()})]})},Ym=({professorId:e})=>{const{state:t}=De(),{professores:n,grade:r,turmas:o,disciplinas:l}=t,i=n.find(m=>m.id===e);if(!i)return a("div",{className:"p-4 text-red-500",children:"Professor no encontrado."});const s=r.filter(m=>m.professorId===e),u=D.useMemo(()=>s.reduce((m,w)=>{const v=o.find(T=>T.id===w.turmaId),C=v!=null&&v.isModular?1.25:1;return m+C},0),[s,o]),d={};s.forEach(m=>{var C,T;d[m.dia]||(d[m.dia]={});const w=((C=o.find(g=>g.id===m.turmaId))==null?void 0:C.nome)||"N/A",v=((T=l.find(g=>g.id===m.disciplinaId))==null?void 0:T.nome)||"N/A";d[m.dia][m.horario]={turma:w,disciplina:v}});const f=D.useMemo(()=>Y.reduce((m,w)=>{const v=s.filter(C=>C.dia===w).reduce((C,T)=>{const g=o.find(c=>c.id===T.turmaId),p=g!=null&&g.isModular?1.25:1;return C+p},0);return m[w]=v,m},{}),[s,o]),h=D.useMemo(()=>{const m=[...new Set([...An,...fr])].sort();return[...Ae,...Fe,...m]},[]);return a("div",{className:"bg-white shadow-lg rounded-lg overflow-auto border border-gray-200",children:N("div",{className:"grid",style:{gridTemplateColumns:"80px repeat(5, minmax(150px, 1fr))"},children:[N("div",{className:"row-span-2 p-2 border-b-2 border-r border-gray-300 bg-gray-100 flex flex-col items-center justify-center text-center",children:[a("span",{className:"font-bold text-2xl",children:u}),a("span",{className:"text-xs text-gray-600",children:"Aulas"})]}),a("div",{className:"col-span-5 p-4 border-b-2 border-gray-300 bg-gray-200 text-center text-xl font-bold text-gray-800 flex items-center justify-center",children:i.nome}),a("div",{className:"col-start-2 col-span-5 grid grid-cols-5",children:Y.map((m,w)=>a("div",{className:`p-2 border-b-2 bg-gray-100 text-center font-semibold capitalize ${w<Y.length-1?"border-r":""} border-gray-300`,children:m.split("").join(" ")},m))}),h.map((m,w)=>{const v=Ae[Ae.length-1]===m,C=Fe[Fe.length-1]===m,T=v||C,g=w===h.length-1;return N(Hr.Fragment,{children:[N("div",{className:"contents",children:[a("div",{className:`p-2 border-r border-gray-300 bg-gray-50 text-xs text-center font-medium flex items-center justify-center ${g?"":"border-b"}`,children:m}),Y.map((p,c)=>{var b;const y=(b=d[p])==null?void 0:b[m];return a("div",{className:`p-2 min-h-[50px] ${c<Y.length-1?"border-r":""} ${g?"":"border-b"} border-gray-200`,children:y&&N("div",{className:"text-xs bg-indigo-100 p-1 rounded",children:[a("p",{className:"font-bold truncate",children:y.disciplina}),a("p",{className:"text-gray-600 truncate",children:y.turma})]})},`${p}-${m}`)})]}),T&&!g&&a("div",{className:"col-span-6 h-2 bg-gray-200 border-b border-gray-300"})]},m)}),a("div",{className:"p-2 border-r border-t border-gray-300 bg-gray-100 font-bold text-center flex items-center justify-center",children:"Carga Diria"}),Y.map((m,w)=>a("div",{className:`p-2 bg-gray-100 text-center font-bold border-t ${w<Y.length-1?"border-r":""} border-gray-200`,children:f[m]||0},`total-${m}`))]})})},Km=()=>{var c;const{state:e,dispatch:t}=De(),{professores:n,grade:r,turmas:o,disciplinas:l}=e,i=D.useMemo(()=>[...n].sort((y,b)=>y.nome.localeCompare(b.nome)),[n]),[s,u]=D.useState(""),[d,f]=D.useState(!1),[h,m]=D.useState({current:0,total:0}),w=D.useMemo(()=>s.trim()?i.filter(y=>y.nome.toLowerCase().includes(s.toLowerCase())):i,[i,s]),[v,C]=D.useState(((c=i[0])==null?void 0:c.id)||"");D.useEffect(()=>{var b;w.some(S=>S.id===v)||C(((b=w[0])==null?void 0:b.id)||"")},[s,w,v]),D.useEffect(()=>{!v&&i.length>0&&C(i[0].id)},[i,v]);const T=()=>{const y=n.find(b=>b.id===v);if(!y){t({type:"SHOW_TOAST",payload:"Professor no selecionado."});return}try{const{doc:b,error:S}=fu(y,r,o,l);if(S||!b){t({type:"SHOW_TOAST",payload:S||"Erro ao gerar PDF."});return}const k=`horario_${y.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`;b.save(k)}catch(b){console.error("Error generating PDF:",b),t({type:"SHOW_TOAST",payload:"Erro ao gerar o PDF."})}},g=()=>{if(!v){t({type:"SHOW_TOAST",payload:"Professor no selecionado."});return}t({type:"SHOW_TOAST",payload:"Gerando arquivo XLSX..."}),setTimeout(()=>{try{const{workbook:y,error:b}=Pm(e,v);if(b||!y){t({type:"SHOW_TOAST",payload:b||"Erro desconhecido ao gerar XLSX."});return}y.xlsx.writeBuffer().then(S=>{const x=new Blob([S],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=URL.createObjectURL(x),E=n.find(F=>F.id===v),I=E?E.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase():"professor",P=document.createElement("a");P.setAttribute("href",k),P.setAttribute("download",`horario_${I}.xlsx`),document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(k),t({type:"SHOW_TOAST",payload:"Exportao para XLSX concluda!"})}).catch(S=>{console.error("Error writing XLSX buffer:",S),t({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})})}catch(y){console.error("Error generating XLSX file:",y),t({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})}},50)},p=async()=>{const y=[...new Set(r.map(x=>x.professorId))],b=i.filter(x=>y.includes(x.id));if(b.length===0){t({type:"SHOW_TOAST",payload:"Nenhum professor com aulas na grade para exportar."});return}const S=new jc;f(!0),m({current:0,total:b.length}),t({type:"SHOW_TOAST",payload:`Iniciando exportao de ${b.length} horrios...`});for(const[x,k]of b.entries()){m({current:x+1,total:b.length});try{const{doc:E,error:I}=fu(k,r,o,l);if(E){const F=`horario_${k.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,j=E.output("blob");S.file(F,j)}}catch(E){console.error(`Error generating PDF for ${k.nome}:`,E)}await new Promise(E=>setTimeout(E,0))}t({type:"SHOW_TOAST",payload:"Gerando arquivo ZIP..."});try{const x=await S.generateAsync({type:"blob"}),k=document.createElement("a");k.href=URL.createObjectURL(x),k.download="horarios_professores.zip",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(k.href),t({type:"SHOW_TOAST",payload:"Exportao para ZIP concluda!"})}catch(x){console.error("Error generating ZIP file:",x),t({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo ZIP."})}finally{f(!1)}};return N("div",{className:"flex-1 flex flex-col overflow-auto bg-gray-50 p-4",children:[N("header",{className:"mb-4",children:[a("h1",{className:"text-2xl font-bold text-gray-800",children:"Grade por Professor"}),N("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-end sm:justify-between",children:[N("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[N("div",{children:[a("label",{htmlFor:"professor-search",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),a("input",{type:"text",id:"professor-search",value:s,onChange:y=>u(y.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),N("div",{children:[a("label",{htmlFor:"professor-select",className:"block text-sm font-medium text-gray-700",children:"Selecione um Professor"}),a("select",{id:"professor-select",value:v,onChange:y=>C(y.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:w.length>0?w.map(y=>a("option",{value:y.id,children:y.nome},y.id)):a("option",{value:"",disabled:!0,children:"Nenhum professor encontrado"})})]})]}),N("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[N("button",{onClick:p,disabled:d,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),d?`Gerando ${h.current}/${h.total}...`:"Exportar Todos (ZIP)"]}),N("button",{onClick:g,disabled:!v||d,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[N("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),a("polyline",{points:"14 2 14 8 20 8"}),a("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),a("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),a("polyline",{points:"10 9 9 9 8 9"})]}),"Exportar Selecionado (XLSX)"]}),N("button",{onClick:T,disabled:!v||d,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Exportar Selecionado (PDF)"]})]})]})]}),a("main",{className:"flex-1 overflow-auto",children:v?a(Ym,{professorId:v}):a("div",{className:"flex items-center justify-center h-full bg-white rounded-lg shadow",children:a("p",{className:"text-gray-500",children:n.length===0?"Nenhum professor cadastrado.":"Por favor, selecione um professor para visualizar a grade de horrios."})})})]})},qm=({message:e,onClose:t})=>(D.useEffect(()=>{const n=setTimeout(()=>{t()},3e3);return()=>clearTimeout(n)},[t]),N("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50",children:[N("div",{className:"bg-gray-800 text-white font-bold py-2 px-4 rounded-lg shadow-lg flex items-center animate-fade-in-up",children:[a("span",{className:"mr-3",children:e}),a("button",{onClick:t,className:"text-gray-300 hover:text-white leading-none text-2xl",children:""})]}),a("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translate(-50%, 10px);
          }
          100% {
            opacity: 1;
            transform: translate(-50%, 0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]})),Zm=({isOpen:e,onClose:t})=>{const{dispatch:n}=De(),[r,o]=D.useState(""),l=r==="DELETE";return D.useEffect(()=>{e||o("")},[e]),a(hn,{isOpen:e,onClose:t,title:"Apagar Todos os Dados",children:N("div",{className:"space-y-4",children:[N("p",{className:"text-sm text-gray-700",children:[a("strong",{children:"Ateno:"})," Esta ao  irreversvel. Todos os cursos, turmas, disciplinas, professores, atribuies e a grade de horrios sero permanentemente apagados."]}),N("p",{className:"text-sm text-gray-700",children:["Para confirmar, por favor, digite ",a("strong",{children:"DELETE"})," no campo abaixo."]}),N("div",{children:[a("label",{htmlFor:"confirm-delete",className:"sr-only",children:"Confirmar excluso"}),a("input",{type:"text",id:"confirm-delete",value:r,onChange:s=>o(s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"DELETE",autoComplete:"off"})]}),N("div",{className:"mt-4 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),a("button",{type:"button",onClick:()=>{if(l)try{n({type:"CLEAR_DATA"})}finally{window.location.reload()}},disabled:!l,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed",children:"Apagar Tudo"})]})]})})},Jm=({isOpen:e,onClose:t})=>{const{dispatch:n}=De();return a(hn,{isOpen:e,onClose:t,title:"Carregar Dados de Exemplo",children:N("div",{className:"space-y-4",children:[N("p",{className:"text-sm text-gray-700",children:[a("strong",{children:"Ateno:"})," Esta ao ir substituir todos os dados atuais pelos dados de exemplo."]}),a("p",{className:"text-sm text-gray-700",children:"Qualquer trabalho no salvo ser perdido. Deseja continuar?"}),N("div",{className:"mt-4 flex justify-end space-x-2",children:[a("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),a("button",{type:"button",onClick:async()=>{try{const o=await fetch("/mock-data.json");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();if(l&&l.version&&Array.isArray(l.cursos))n({type:"SET_STATE",payload:l}),n({type:"SHOW_TOAST",payload:"Dados de exemplo carregados com sucesso!"});else throw new Error("Arquivo de exemplo invlido.")}catch(o){console.error("Erro ao carregar dados de exemplo:",o),n({type:"SHOW_TOAST",payload:"Falha ao carregar dados de exemplo."})}finally{t()}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Carregar Exemplo"})]})]})})},eh=()=>{const[e,t]=D.useState("grid"),[n,r]=D.useState("regular"),[o,l]=D.useState(!1),[i,s]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),{state:m,dispatch:w}=De();return N("div",{className:"flex flex-col h-screen font-sans text-gray-800",children:[a("header",{className:"bg-white shadow-md z-20",children:a(Lm,{currentView:e,setCurrentView:t,activeGrid:n,isFocusModeEnabled:o,onFocusModeChange:l,onOpenClearDataModal:()=>s(!0),onOpenLoadExampleModal:()=>d(!0)})}),N("main",{className:"flex flex-1 overflow-hidden relative",children:[(()=>{switch(e){case"grid":return N("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a("div",{className:"flex-shrink-0 px-4 pt-2 border-b border-gray-200 bg-gray-50",children:N("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[a("button",{onClick:()=>r("regular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${n==="regular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Regular"}),a("button",{onClick:()=>r("modular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${n==="modular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Modular"})]})}),N("div",{className:"flex flex-1 overflow-hidden",children:[N("div",{className:"flex-1 flex flex-col overflow-auto",children:[a(Nm,{isFocusModeEnabled:o,gridType:n}),a("footer",{className:"bg-white p-2 border-t",children:a(zm,{})})]}),a("aside",{className:`bg-gray-50 border-l border-gray-200 overflow-y-auto flex-shrink-0 transition-all duration-300 ease-in-out ${f?"w-0":"w-64 lg:w-80"}`,children:a("div",{className:`h-full overflow-hidden ${f?"invisible":"visible"}`,children:a(bm,{gridType:n})})})]})]});case"management":return a(Xm,{});case"professor":return a(Km,{});default:return null}})(),e==="grid"&&a("button",{onClick:()=>h(!f),className:`absolute top-1/2 -translate-y-1/2 z-30 bg-white hover:bg-gray-100 text-gray-600 border border-gray-300 rounded-full w-8 h-8 flex items-center justify-center shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out ${f?"right-0 translate-x-1/2":"right-[16rem] lg:right-[20rem] translate-x-1/2"}`,title:f?"Expandir painel":"Recolher painel",children:f?a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),m.toastMessage&&a(qm,{message:m.toastMessage,onClose:()=>w({type:"SHOW_TOAST",payload:null})}),a(Zm,{isOpen:i,onClose:()=>s(!1)}),a(Jm,{isOpen:u,onClose:()=>d(!1)})]})},th=()=>a(vm,{children:a(eh,{})}),nh=({onRetry:e})=>{const[t,n]=D.useState(!1),[r,o]=D.useState(null),i="https://console.firebase.google.com/u/0/project/gerenciadorhorario-c62e9/authentication/providers";return D.useEffect(()=>{o(window.location.hostname||"domnio no detectado")},[]),N(bn,{children:[a("h3",{className:"text-xl font-bold text-red-700 mb-4 text-center",children:"Configurao Necessria"}),a("p",{className:"text-sm text-gray-700 mb-4",children:"Para que o login com Google funcione, o domnio que voc est usando para acessar esta aplicao precisa ser autorizado no seu projeto Firebase."}),N("div",{className:"bg-red-50 p-3 rounded-md border border-red-200 mb-4",children:[a("p",{className:"text-sm text-gray-600",children:"Copie este domnio:"}),N("div",{className:"flex items-center justify-between mt-1 gap-2",children:[a("code",{className:"text-red-800 font-mono bg-red-100 px-2 py-1 rounded w-full break-all h-8 flex items-center",children:r===null?"Carregando...":r}),a("button",{onClick:()=>{r&&r!=="domnio no detectado"&&navigator.clipboard.writeText(r).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})},disabled:!r||r==="domnio no detectado",className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-400 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Copiado!":"Copiar"})]})]}),a("h4",{className:"font-semibold mb-2 text-gray-800",children:"Como Corrigir:"}),N("ol",{className:"list-decimal list-inside text-sm space-y-2 mb-4 text-gray-700",children:[a("li",{children:"Abra o Console do Firebase (link abaixo)."}),N("li",{children:["Navegue at a seo ",a("strong",{className:"font-semibold",children:"Authentication"}),"."]}),N("li",{children:["Clique na aba ",a("strong",{className:"font-semibold",children:"Sign-in method"}),"."]}),N("li",{children:["Role para baixo at a seo ",a("strong",{className:"font-semibold",children:"Authorized domains"}),"."]}),N("li",{children:["Clique em ",a("strong",{className:"font-semibold",children:"Add domain"})," e cole o domnio copiado."]})]}),N("div",{className:"space-y-3 mt-6",children:[a("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Abrir Firebase Console"}),a("button",{onClick:e,className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Tentar Novamente"})]})]})},rh=()=>{const[e,t]=D.useState("loading"),[n,r]=D.useState(null),[o,l]=D.useState(null),i=async()=>{const d=new xn.auth.GoogleAuthProvider;t("loading"),l(null);try{await Ct.signInWithPopup(d)}catch(f){console.error("Firebase login error:",f);let h="Falha ao fazer login. Por favor, tente novamente.";if(f.code)switch(f.code){case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":t("unauthenticated");return;case"auth/popup-blocked":h="O popup de login foi bloqueado pelo seu navegador. Por favor, habilite popups para este site e tente novamente.";break;case"auth/operation-not-allowed":h="O login com Google no est habilitado para este aplicativo. Por favor, contate o administrador.";break;case"auth/unauthorized-domain":l("auth/unauthorized-domain"),t("unauthenticated");return}l(h),t("unauthenticated")}};D.useEffect(()=>{const d=Ct.onAuthStateChanged(async f=>{if(t("loading"),f&&f.email){r(f);const h=dt.doc(`allowed_users/${f.email}`);try{(await h.get()).exists?(t("authenticated"),l(null)):t("unauthorized")}catch(m){console.error("Error checking Firestore permissions:",m),m.code==="permission-denied"||m.code==="unauthenticated"?l("Erro de permisso ao verificar usurio. Tente novamente."):l("Erro ao verificar permisses. Tente novamente mais tarde."),t("unauthenticated"),await Ct.signOut()}}else r(null),t("unauthenticated"),o!=="auth/unauthorized-domain"&&l(null)});return()=>d()},[o]);const s=async()=>{await Ct.signOut(),l(null)};return e==="authenticated"?a(th,{}):a("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:(()=>{if(o==="auth/unauthorized-domain")return a(nh,{onRetry:i});switch(e){case"loading":return a("p",{className:"text-gray-600 text-center",children:"Verificando..."});case"unauthorized":return N(bn,{children:[N("p",{className:"text-center text-red-600 mb-4",children:["Acesso negado. O e-mail ",a("strong",{children:n==null?void 0:n.email})," no tem permisso para acessar este sistema."]}),a("button",{onClick:s,className:"w-full bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Sair e tentar com outra conta"})]});case"unauthenticated":default:return N(bn,{children:[a("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Acesso ao Sistema"}),a("p",{className:"text-center text-gray-600 mb-6",children:"Por favor, utilize sua conta Google para continuar."}),o&&a("p",{className:"text-sm text-red-600 mb-4 text-center",children:o}),N("button",{onClick:i,className:"w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[N("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[a("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),a("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.53-4.18 7.13-10.12 7.13-17.65z"}),a("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),a("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),a("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Entrar com Google"]})]})}})()})})},Mc=document.getElementById("root");if(!Mc)throw new Error("Could not find root element to mount to");const oh=ai.createRoot(Mc);oh.render(a(Hr.StrictMode,{children:a(rh,{})}));
