import"firebase/compat/app";import"firebase/compat/auth";import"firebase/compat/firestore";import Ao from"exceljs";import Sd from"jspdf";import wf from"jszip";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))p(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&p(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function p(c){if(c.ep)return;c.ep=!0;const m=a(c);fetch(c.href,m)}})();function jd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yi={exports:{}},ys={},vi={exports:{}},De={};var od;function Sf(){if(od)return De;od=1;var i=Symbol.for("react.element"),d=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=j&&T[j]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function B(T,$,je){this.props=T,this.context=$,this.refs=A,this.updater=je||N}B.prototype.isReactComponent={},B.prototype.setState=function(T,$){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,$,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function W(){}W.prototype=B.prototype;function I(T,$,je){this.props=T,this.context=$,this.refs=A,this.updater=je||N}var h=I.prototype=new W;h.constructor=I,C(h,B.prototype),h.isPureReactComponent=!0;var D=Array.isArray,z=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function U(T,$,je){var me,xe={},Ie=null,Ae=null;if($!=null)for(me in $.ref!==void 0&&(Ae=$.ref),$.key!==void 0&&(Ie=""+$.key),$)z.call($,me)&&!E.hasOwnProperty(me)&&(xe[me]=$[me]);var ke=arguments.length-2;if(ke===1)xe.children=je;else if(1<ke){for(var ze=Array(ke),We=0;We<ke;We++)ze[We]=arguments[We+2];xe.children=ze}if(T&&T.defaultProps)for(me in ke=T.defaultProps,ke)xe[me]===void 0&&(xe[me]=ke[me]);return{$$typeof:i,type:T,key:Ie,ref:Ae,props:xe,_owner:_.current}}function O(T,$){return{$$typeof:i,type:T.type,key:$,ref:T.ref,props:T.props,_owner:T._owner}}function P(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function H(T){var $={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(je){return $[je]})}var te=/\/+/g;function ee(T,$){return typeof T=="object"&&T!==null&&T.key!=null?H(""+T.key):$.toString(36)}function de(T,$,je,me,xe){var Ie=typeof T;(Ie==="undefined"||Ie==="boolean")&&(T=null);var Ae=!1;if(T===null)Ae=!0;else switch(Ie){case"string":case"number":Ae=!0;break;case"object":switch(T.$$typeof){case i:case d:Ae=!0}}if(Ae)return Ae=T,xe=xe(Ae),T=me===""?"."+ee(Ae,0):me,D(xe)?(je="",T!=null&&(je=T.replace(te,"$&/")+"/"),de(xe,$,je,"",function(We){return We})):xe!=null&&(P(xe)&&(xe=O(xe,je+(!xe.key||Ae&&Ae.key===xe.key?"":(""+xe.key).replace(te,"$&/")+"/")+T)),$.push(xe)),1;if(Ae=0,me=me===""?".":me+":",D(T))for(var ke=0;ke<T.length;ke++){Ie=T[ke];var ze=me+ee(Ie,ke);Ae+=de(Ie,$,je,ze,xe)}else if(ze=S(T),typeof ze=="function")for(T=ze.call(T),ke=0;!(Ie=T.next()).done;)Ie=Ie.value,ze=me+ee(Ie,ke++),Ae+=de(Ie,$,je,ze,xe);else if(Ie==="object")throw $=String(T),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ae}function pe(T,$,je){if(T==null)return T;var me=[],xe=0;return de(T,me,"","",function(Ie){return $.call(je,Ie,xe++)}),me}function K(T){if(T._status===-1){var $=T._result;$=$(),$.then(function(je){(T._status===0||T._status===-1)&&(T._status=1,T._result=je)},function(je){(T._status===0||T._status===-1)&&(T._status=2,T._result=je)}),T._status===-1&&(T._status=0,T._result=$)}if(T._status===1)return T._result.default;throw T._result}var se={current:null},V={transition:null},re={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:V,ReactCurrentOwner:_};function J(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:pe,forEach:function(T,$,je){pe(T,function(){$.apply(this,arguments)},je)},count:function(T){var $=0;return pe(T,function(){$++}),$},toArray:function(T){return pe(T,function($){return $})||[]},only:function(T){if(!P(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},De.Component=B,De.Fragment=a,De.Profiler=c,De.PureComponent=I,De.StrictMode=p,De.Suspense=x,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,De.act=J,De.cloneElement=function(T,$,je){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var me=C({},T.props),xe=T.key,Ie=T.ref,Ae=T._owner;if($!=null){if($.ref!==void 0&&(Ie=$.ref,Ae=_.current),$.key!==void 0&&(xe=""+$.key),T.type&&T.type.defaultProps)var ke=T.type.defaultProps;for(ze in $)z.call($,ze)&&!E.hasOwnProperty(ze)&&(me[ze]=$[ze]===void 0&&ke!==void 0?ke[ze]:$[ze])}var ze=arguments.length-2;if(ze===1)me.children=je;else if(1<ze){ke=Array(ze);for(var We=0;We<ze;We++)ke[We]=arguments[We+2];me.children=ke}return{$$typeof:i,type:T.type,key:xe,ref:Ie,props:me,_owner:Ae}},De.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:m,_context:T},T.Consumer=T},De.createElement=U,De.createFactory=function(T){var $=U.bind(null,T);return $.type=T,$},De.createRef=function(){return{current:null}},De.forwardRef=function(T){return{$$typeof:v,render:T}},De.isValidElement=P,De.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:K}},De.memo=function(T,$){return{$$typeof:y,type:T,compare:$===void 0?null:$}},De.startTransition=function(T){var $=V.transition;V.transition={};try{T()}finally{V.transition=$}},De.unstable_act=J,De.useCallback=function(T,$){return se.current.useCallback(T,$)},De.useContext=function(T){return se.current.useContext(T)},De.useDebugValue=function(){},De.useDeferredValue=function(T){return se.current.useDeferredValue(T)},De.useEffect=function(T,$){return se.current.useEffect(T,$)},De.useId=function(){return se.current.useId()},De.useImperativeHandle=function(T,$,je){return se.current.useImperativeHandle(T,$,je)},De.useInsertionEffect=function(T,$){return se.current.useInsertionEffect(T,$)},De.useLayoutEffect=function(T,$){return se.current.useLayoutEffect(T,$)},De.useMemo=function(T,$){return se.current.useMemo(T,$)},De.useReducer=function(T,$,je){return se.current.useReducer(T,$,je)},De.useRef=function(T){return se.current.useRef(T)},De.useState=function(T){return se.current.useState(T)},De.useSyncExternalStore=function(T,$,je){return se.current.useSyncExternalStore(T,$,je)},De.useTransition=function(){return se.current.useTransition()},De.version="18.3.1",De}var ld;function Ei(){return ld||(ld=1,vi.exports=Sf()),vi.exports}var id;function jf(){if(id)return ys;id=1;var i=Ei(),d=Symbol.for("react.element"),a=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(v,x,y){var g,j={},S=null,N=null;y!==void 0&&(S=""+y),x.key!==void 0&&(S=""+x.key),x.ref!==void 0&&(N=x.ref);for(g in x)p.call(x,g)&&!m.hasOwnProperty(g)&&(j[g]=x[g]);if(v&&v.defaultProps)for(g in x=v.defaultProps,x)j[g]===void 0&&(j[g]=x[g]);return{$$typeof:d,type:v,key:S,ref:N,props:j,_owner:c.current}}return ys.Fragment=a,ys.jsx=f,ys.jsxs=f,ys}var ad;function Cf(){return ad||(ad=1,yi.exports=jf()),yi.exports}var s=Cf(),F=Ei();const on=jd(F);var Io={},wi={exports:{}},At={},Si={exports:{}},ji={};var ud;function Nf(){return ud||(ud=1,(function(i){function d(V,re){var J=V.length;V.push(re);e:for(;0<J;){var T=J-1>>>1,$=V[T];if(0<c($,re))V[T]=re,V[J]=$,J=T;else break e}}function a(V){return V.length===0?null:V[0]}function p(V){if(V.length===0)return null;var re=V[0],J=V.pop();if(J!==re){V[0]=J;e:for(var T=0,$=V.length,je=$>>>1;T<je;){var me=2*(T+1)-1,xe=V[me],Ie=me+1,Ae=V[Ie];if(0>c(xe,J))Ie<$&&0>c(Ae,xe)?(V[T]=Ae,V[Ie]=J,T=Ie):(V[T]=xe,V[me]=J,T=me);else if(Ie<$&&0>c(Ae,J))V[T]=Ae,V[Ie]=J,T=Ie;else break e}}return re}function c(V,re){var J=V.sortIndex-re.sortIndex;return J!==0?J:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var f=Date,v=f.now();i.unstable_now=function(){return f.now()-v}}var x=[],y=[],g=1,j=null,S=3,N=!1,C=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(V){for(var re=a(y);re!==null;){if(re.callback===null)p(y);else if(re.startTime<=V)p(y),re.sortIndex=re.expirationTime,d(x,re);else break;re=a(y)}}function D(V){if(A=!1,h(V),!C)if(a(x)!==null)C=!0,K(z);else{var re=a(y);re!==null&&se(D,re.startTime-V)}}function z(V,re){C=!1,A&&(A=!1,W(U),U=-1),N=!0;var J=S;try{for(h(re),j=a(x);j!==null&&(!(j.expirationTime>re)||V&&!H());){var T=j.callback;if(typeof T=="function"){j.callback=null,S=j.priorityLevel;var $=T(j.expirationTime<=re);re=i.unstable_now(),typeof $=="function"?j.callback=$:j===a(x)&&p(x),h(re)}else p(x);j=a(x)}if(j!==null)var je=!0;else{var me=a(y);me!==null&&se(D,me.startTime-re),je=!1}return je}finally{j=null,S=J,N=!1}}var _=!1,E=null,U=-1,O=5,P=-1;function H(){return!(i.unstable_now()-P<O)}function te(){if(E!==null){var V=i.unstable_now();P=V;var re=!0;try{re=E(!0,V)}finally{re?ee():(_=!1,E=null)}}else _=!1}var ee;if(typeof I=="function")ee=function(){I(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=te,ee=function(){pe.postMessage(null)}}else ee=function(){B(te,0)};function K(V){E=V,_||(_=!0,ee())}function se(V,re){U=B(function(){V(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){C||N||(C=!0,K(z))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return a(x)},i.unstable_next=function(V){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var J=S;S=re;try{return V()}finally{S=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=S;S=V;try{return re()}finally{S=J}},i.unstable_scheduleCallback=function(V,re,J){var T=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?T+J:T):J=T,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=J+$,V={id:g++,callback:re,priorityLevel:V,startTime:J,expirationTime:$,sortIndex:-1},J>T?(V.sortIndex=J,d(y,V),a(x)===null&&V===a(y)&&(A?(W(U),U=-1):A=!0,se(D,J-T))):(V.sortIndex=$,d(x,V),C||N||(C=!0,K(z))),V},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(V){var re=S;return function(){var J=S;S=re;try{return V.apply(this,arguments)}finally{S=J}}}})(ji)),ji}var dd;function bf(){return dd||(dd=1,Si.exports=Nf()),Si.exports}var cd;function kf(){if(cd)return At;cd=1;var i=Ei(),d=bf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=new Set,c={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)p.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},j={};function S(e){return x.call(j,e)?!0:x.call(g,e)?!1:y.test(e)?j[e]=!0:(g[e]=!0,!1)}function N(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,r,n){if(t===null||typeof t>"u"||N(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,r,n,o,l,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){B[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];B[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){B[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){B[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){B[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){B[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){B[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){B[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){B[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W,I);B[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W,I);B[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W,I);B[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){B[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),B.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){B[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function h(e,t,r,n){var o=B.hasOwnProperty(t)?B[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,r,o,n)&&(r=null),n||o===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var D=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),H=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),V=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,T;function $(e){if(T===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var je=!1;function me(e,t){if(!e||je)return"";je=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var n=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){n=R}e.call(t.prototype)}else{try{throw Error()}catch(R){n=R}e()}}catch(R){if(R&&n&&typeof R.stack=="string"){for(var o=R.stack.split(`
`),l=n.stack.split(`
`),u=o.length-1,w=l.length-1;1<=u&&0<=w&&o[u]!==l[w];)w--;for(;1<=u&&0<=w;u--,w--)if(o[u]!==l[w]){if(u!==1||w!==1)do if(u--,w--,0>w||o[u]!==l[w]){var b=`
`+o[u].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=u&&0<=w);break}}}finally{je=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$(e):""}function xe(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function Ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case _:return"Portal";case O:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}function Ae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(t);case 8:return t===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ze(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function We(e){var t=ze(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){n=""+u,l.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jt(e){e._valueTracker||(e._valueTracker=We(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ze(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ee(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Me(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ke(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ie(e,t){t=t.checked,t!=null&&h(e,"checked",t,!1)}function Y(e,t){ie(e,t);var r=ke(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Re(e,t.type,r):t.hasOwnProperty("defaultValue")&&Re(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Re(e,t,r){(t!=="number"||ae(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ye=Array.isArray;function Te(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function it(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Je(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(ye(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ke(r)}}function we(e,t){var r=ke(t.value),n=ke(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ne(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qe,Ve=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function et(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(e){Ce.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ht[t]=ht[e]})});function Ct(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ht.hasOwnProperty(e)&&ht[e]?(""+t).trim():t+"px"}function Bt(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Ct(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Ss=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(e,t){if(t){if(Ss[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function $e(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tt=null;function Nt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tt=null,bt=null,jr=null;function an(e){if(e=ns(e)){if(typeof Tt!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Us(t),Tt(e.stateNode,e.type,t))}}function un(e){bt?jr?jr.push(e):jr=[e]:bt=e}function Cr(){if(bt){var e=bt,t=jr;if(jr=bt=null,an(e),t)for(e=0;e<t.length;e++)an(t[e])}}function Ut(e,t){return e(t)}function js(){}var Rn=!1;function dt(e,t,r){if(Rn)return e(t,r);Rn=!0;try{return Ut(e,t,r)}finally{Rn=!1,(bt!==null||jr!==null)&&(js(),Cr())}}function Nr(e,t){var r=e.stateNode;if(r===null)return null;var n=Us(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var dn=!1;if(v)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){dn=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{dn=!1}function Vr(e,t,r,n,o,l,u,w,b){var R=Array.prototype.slice.call(arguments,3);try{t.apply(r,R)}catch(Q){this.onError(Q)}}var Jt=!1,cn=null,Wt=!1,Vt=null,Oo={onError:function(e){Jt=!0,cn=e}};function Ro(e,t,r,n,o,l,u,w,b){Jt=!1,cn=null,Vr.apply(Oo,arguments)}function zn(e,t,r,n,o,l,u,w,b){if(Ro.apply(this,arguments),Jt){if(Jt){var R=cn;Jt=!1,cn=null}else throw Error(a(198));Wt||(Wt=!0,Vt=R)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ti(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ii(e){if(fr(e)!==e)throw Error(a(188))}function Id(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var l=o.alternate;if(l===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===r)return Ii(o),e;if(l===n)return Ii(o),t;l=l.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=l;else{for(var u=!1,w=o.child;w;){if(w===r){u=!0,r=o,n=l;break}if(w===n){u=!0,n=o,r=l;break}w=w.sibling}if(!u){for(w=l.child;w;){if(w===r){u=!0,r=l,n=o;break}if(w===n){u=!0,n=l,r=o;break}w=w.sibling}if(!u)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function Di(e){return e=Id(e),e!==null?_i(e):null}function _i(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_i(e);if(t!==null)return t;e=e.sibling}return null}var Mi=d.unstable_scheduleCallback,Pi=d.unstable_cancelCallback,Dd=d.unstable_shouldYield,_d=d.unstable_requestPaint,Ke=d.unstable_now,Md=d.unstable_getCurrentPriorityLevel,zo=d.unstable_ImmediatePriority,Ai=d.unstable_UserBlockingPriority,Cs=d.unstable_NormalPriority,Pd=d.unstable_LowPriority,Li=d.unstable_IdlePriority,Ns=null,ir=null;function Ad(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Rd,Ld=Math.log,Od=Math.LN2;function Rd(e){return e>>>=0,e===0?32:31-(Ld(e)/Od|0)|0}var bs=64,ks=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,l=e.pingedLanes,u=r&268435455;if(u!==0){var w=u&~o;w!==0?n=Fn(w):(l&=u,l!==0&&(n=Fn(l)))}else u=r&~o,u!==0?n=Fn(u):l!==0&&(n=Fn(l));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-er(t),o=1<<r,n|=e[r],t&=~o;return n}function zd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fd(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-er(l),w=1<<u,b=o[u];b===-1?((w&r)===0||(w&n)!==0)&&(o[u]=zd(w,t)):b<=t&&(e.expiredLanes|=w),l&=~w}}function Fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oi(){var e=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),e}function $o(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $n(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-er(t),e[t]=r}function $d(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-er(r),l=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~l}}function Ho(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-er(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Fe=0;function Ri(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zi,Bo,Fi,$i,Hi,Uo=!1,Ts=[],br=null,kr=null,Er=null,Hn=new Map,Bn=new Map,Tr=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bi(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function Un(e,t,r,n,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[o]},t!==null&&(t=ns(t),t!==null&&Bo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Bd(e,t,r,n,o){switch(t){case"focusin":return br=Un(br,e,t,r,n,o),!0;case"dragenter":return kr=Un(kr,e,t,r,n,o),!0;case"mouseover":return Er=Un(Er,e,t,r,n,o),!0;case"pointerover":var l=o.pointerId;return Hn.set(l,Un(Hn.get(l)||null,e,t,r,n,o)),!0;case"gotpointercapture":return l=o.pointerId,Bn.set(l,Un(Bn.get(l)||null,e,t,r,n,o)),!0}return!1}function Ui(e){var t=Gr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ti(r),t!==null){e.blockedOn=t,Hi(e.priority,function(){Fi(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tt=n,r.target.dispatchEvent(n),tt=null}else return t=ns(r),t!==null&&Bo(t),e.blockedOn=r,!1;t.shift()}return!0}function Wi(e,t,r){Is(e)&&r.delete(t)}function Ud(){Uo=!1,br!==null&&Is(br)&&(br=null),kr!==null&&Is(kr)&&(kr=null),Er!==null&&Is(Er)&&(Er=null),Hn.forEach(Wi),Bn.forEach(Wi)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Uo||(Uo=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Ud)))}function Vn(e){function t(o){return Wn(o,e)}if(0<Ts.length){Wn(Ts[0],e);for(var r=1;r<Ts.length;r++){var n=Ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(br!==null&&Wn(br,e),kr!==null&&Wn(kr,e),Er!==null&&Wn(Er,e),Hn.forEach(t),Bn.forEach(t),r=0;r<Tr.length;r++)n=Tr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)Ui(r),r.blockedOn===null&&Tr.shift()}var fn=D.ReactCurrentBatchConfig,Ds=!0;function Wd(e,t,r,n){var o=Fe,l=fn.transition;fn.transition=null;try{Fe=1,Wo(e,t,r,n)}finally{Fe=o,fn.transition=l}}function Vd(e,t,r,n){var o=Fe,l=fn.transition;fn.transition=null;try{Fe=4,Wo(e,t,r,n)}finally{Fe=o,fn.transition=l}}function Wo(e,t,r,n){if(Ds){var o=Vo(e,t,r,n);if(o===null)al(e,t,n,_s,r),Bi(e,n);else if(Bd(o,e,t,r,n))n.stopPropagation();else if(Bi(e,n),t&4&&-1<Hd.indexOf(e)){for(;o!==null;){var l=ns(o);if(l!==null&&zi(l),l=Vo(e,t,r,n),l===null&&al(e,t,n,_s,r),l===o)break;o=l}o!==null&&n.stopPropagation()}else al(e,t,n,null,r)}}var _s=null;function Vo(e,t,r,n){if(_s=null,e=Nt(n),e=Gr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ti(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _s=e,null}function Vi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Md()){case zo:return 1;case Ai:return 4;case Cs:case Pd:return 16;case Li:return 536870912;default:return 16}default:return 16}}var Ir=null,Go=null,Ms=null;function Gi(){if(Ms)return Ms;var e,t=Go,r=t.length,n,o="value"in Ir?Ir.value:Ir.textContent,l=o.length;for(e=0;e<r&&t[e]===o[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===o[l-n];n++);return Ms=o.slice(e,1<n?1-n:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function qi(){return!1}function Rt(e){function t(r,n,o,l,u){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(l):l[w]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?As:qi,this.isPropagationStopped=qi,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Rt(pn),Gn=J({},pn,{view:0,detail:0}),Gd=Rt(Gn),Qo,Xo,qn,Ls=J({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(Qo=e.screenX-qn.screenX,Xo=e.screenY-qn.screenY):Xo=Qo=0,qn=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Xo}}),Qi=Rt(Ls),qd=J({},Ls,{dataTransfer:0}),Qd=Rt(qd),Xd=J({},Gn,{relatedTarget:0}),Yo=Rt(Xd),Yd=J({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=Rt(Yd),Zd=J({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=Rt(Zd),ec=J({},pn,{data:0}),Xi=Rt(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nc[e])?!!t[e]:!1}function Ko(){return sc}var oc=J({},Gn,{key:function(e){if(e.key){var t=tc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lc=Rt(oc),ic=J({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Rt(ic),ac=J({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),uc=Rt(ac),dc=J({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Rt(dc),fc=J({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pc=Rt(fc),mc=[9,13,27,32],Zo=v&&"CompositionEvent"in window,Qn=null;v&&"documentMode"in document&&(Qn=document.documentMode);var hc=v&&"TextEvent"in window&&!Qn,Ki=v&&(!Zo||Qn&&8<Qn&&11>=Qn),Zi=" ",Ji=!1;function ea(e,t){switch(e){case"keyup":return mc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function gc(e,t){switch(e){case"compositionend":return ta(t);case"keypress":return t.which!==32?null:(Ji=!0,Zi);case"textInput":return e=t.data,e===Zi&&Ji?null:e;default:return null}}function xc(e,t){if(mn)return e==="compositionend"||!Zo&&ea(e,t)?(e=Gi(),Ms=Go=Ir=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ki&&t.locale!=="ko"?null:t.data;default:return null}}var yc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yc[e.type]:t==="textarea"}function na(e,t,r,n){un(n),t=$s(t,"onChange"),0<t.length&&(r=new qo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xn=null,Yn=null;function vc(e){Sa(e,0)}function Os(e){var t=vn(e);if(q(t))return e}function wc(e,t){if(e==="change")return t}var sa=!1;if(v){var Jo;if(v){var el="oninput"in document;if(!el){var oa=document.createElement("div");oa.setAttribute("oninput","return;"),el=typeof oa.oninput=="function"}Jo=el}else Jo=!1;sa=Jo&&(!document.documentMode||9<document.documentMode)}function la(){Xn&&(Xn.detachEvent("onpropertychange",ia),Yn=Xn=null)}function ia(e){if(e.propertyName==="value"&&Os(Yn)){var t=[];na(t,Yn,e,Nt(e)),dt(vc,t)}}function Sc(e,t,r){e==="focusin"?(la(),Xn=t,Yn=r,Xn.attachEvent("onpropertychange",ia)):e==="focusout"&&la()}function jc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(Yn)}function Cc(e,t){if(e==="click")return Os(t)}function Nc(e,t){if(e==="input"||e==="change")return Os(t)}function bc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tr=typeof Object.is=="function"?Object.is:bc;function Kn(e,t){if(tr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!x.call(t,o)||!tr(e[o],t[o]))return!1}return!0}function aa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var r=aa(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aa(r)}}function da(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?da(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ca(){for(var e=window,t=ae();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ae(e.document)}return t}function tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kc(e){var t=ca(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(n!==null&&tl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,l=Math.min(n.start,o);n=n.end===void 0?l:Math.min(n.end,o),!e.extend&&l>n&&(o=n,n=l,l=o),o=ua(r,l);var u=ua(r,n);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ec=v&&"documentMode"in document&&11>=document.documentMode,hn=null,rl=null,Zn=null,nl=!1;function fa(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nl||hn==null||hn!==ae(n)||(n=hn,"selectionStart"in n&&tl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zn&&Kn(Zn,n)||(Zn=n,n=$s(rl,"onSelect"),0<n.length&&(t=new qo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hn)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gn={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},sl={},pa={};v&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function zs(e){if(sl[e])return sl[e];if(!gn[e])return e;var t=gn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pa)return sl[e]=t[r];return e}var ma=zs("animationend"),ha=zs("animationiteration"),ga=zs("animationstart"),xa=zs("transitionend"),ya=new Map,va="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){ya.set(e,t),m(t,[e])}for(var ol=0;ol<va.length;ol++){var ll=va[ol],Tc=ll.toLowerCase(),Ic=ll[0].toUpperCase()+ll.slice(1);Dr(Tc,"on"+Ic)}Dr(ma,"onAnimationEnd"),Dr(ha,"onAnimationIteration"),Dr(ga,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(xa,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function wa(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zn(n,t,void 0,e),e.currentTarget=null}function Sa(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var u=n.length-1;0<=u;u--){var w=n[u],b=w.instance,R=w.currentTarget;if(w=w.listener,b!==l&&o.isPropagationStopped())break e;wa(o,w,R),l=b}else for(u=0;u<n.length;u++){if(w=n[u],b=w.instance,R=w.currentTarget,w=w.listener,b!==l&&o.isPropagationStopped())break e;wa(o,w,R),l=b}}}if(Wt)throw e=Vt,Wt=!1,Vt=null,e}function Be(e,t){var r=t[ml];r===void 0&&(r=t[ml]=new Set);var n=e+"__bubble";r.has(n)||(ja(t,e,2,!1),r.add(n))}function il(e,t,r){var n=0;t&&(n|=4),ja(r,e,n,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Fs]){e[Fs]=!0,p.forEach(function(r){r!=="selectionchange"&&(Dc.has(r)||il(r,!1,e),il(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,il("selectionchange",!1,t))}}function ja(e,t,r,n){switch(Vi(t)){case 1:var o=Wd;break;case 4:o=Vd;break;default:o=Wo}r=o.bind(null,t,r,e),o=void 0,!dn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function al(e,t,r,n,o){var l=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var w=n.stateNode.containerInfo;if(w===o||w.nodeType===8&&w.parentNode===o)break;if(u===4)for(u=n.return;u!==null;){var b=u.tag;if((b===3||b===4)&&(b=u.stateNode.containerInfo,b===o||b.nodeType===8&&b.parentNode===o))return;u=u.return}for(;w!==null;){if(u=Gr(w),u===null)return;if(b=u.tag,b===5||b===6){n=l=u;continue e}w=w.parentNode}}n=n.return}dt(function(){var R=l,Q=Nt(r),X=[];e:{var G=ya.get(e);if(G!==void 0){var ne=qo,le=e;switch(e){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":ne=lc;break;case"focusin":le="focus",ne=Yo;break;case"focusout":le="blur",ne=Yo;break;case"beforeblur":case"afterblur":ne=Yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=uc;break;case ma:case ha:case ga:ne=Kd;break;case xa:ne=cc;break;case"scroll":ne=Gd;break;case"wheel":ne=pc;break;case"copy":case"cut":case"paste":ne=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Yi}var ue=(t&4)!==0,Ze=!ue&&e==="scroll",M=ue?G!==null?G+"Capture":null:G;ue=[];for(var k=R,L;k!==null;){L=k;var Z=L.stateNode;if(L.tag===5&&Z!==null&&(L=Z,M!==null&&(Z=Nr(k,M),Z!=null&&ue.push(ts(k,Z,L)))),Ze)break;k=k.return}0<ue.length&&(G=new ne(G,le,null,r,Q),X.push({event:G,listeners:ue}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",G&&r!==tt&&(le=r.relatedTarget||r.fromElement)&&(Gr(le)||le[pr]))break e;if((ne||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,ne?(le=r.relatedTarget||r.toElement,ne=R,le=le?Gr(le):null,le!==null&&(Ze=fr(le),le!==Ze||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=R),ne!==le)){if(ue=Qi,Z="onMouseLeave",M="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Yi,Z="onPointerLeave",M="onPointerEnter",k="pointer"),Ze=ne==null?G:vn(ne),L=le==null?G:vn(le),G=new ue(Z,k+"leave",ne,r,Q),G.target=Ze,G.relatedTarget=L,Z=null,Gr(Q)===R&&(ue=new ue(M,k+"enter",le,r,Q),ue.target=L,ue.relatedTarget=Ze,Z=ue),Ze=Z,ne&&le)t:{for(ue=ne,M=le,k=0,L=ue;L;L=xn(L))k++;for(L=0,Z=M;Z;Z=xn(Z))L++;for(;0<k-L;)ue=xn(ue),k--;for(;0<L-k;)M=xn(M),L--;for(;k--;){if(ue===M||M!==null&&ue===M.alternate)break t;ue=xn(ue),M=xn(M)}ue=null}else ue=null;ne!==null&&Ca(X,G,ne,ue,!1),le!==null&&Ze!==null&&Ca(X,Ze,le,ue,!0)}}e:{if(G=R?vn(R):window,ne=G.nodeName&&G.nodeName.toLowerCase(),ne==="select"||ne==="input"&&G.type==="file")var fe=wc;else if(ra(G))if(sa)fe=Nc;else{fe=jc;var he=Sc}else(ne=G.nodeName)&&ne.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=Cc);if(fe&&(fe=fe(e,R))){na(X,fe,r,Q);break e}he&&he(e,G,R),e==="focusout"&&(he=G._wrapperState)&&he.controlled&&G.type==="number"&&Re(G,"number",G.value)}switch(he=R?vn(R):window,e){case"focusin":(ra(he)||he.contentEditable==="true")&&(hn=he,rl=R,Zn=null);break;case"focusout":Zn=rl=hn=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,fa(X,r,Q);break;case"selectionchange":if(Ec)break;case"keydown":case"keyup":fa(X,r,Q)}var ge;if(Zo)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else mn?ea(e,r)&&(Se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(Ki&&r.locale!=="ko"&&(mn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&mn&&(ge=Gi()):(Ir=Q,Go="value"in Ir?Ir.value:Ir.textContent,mn=!0)),he=$s(R,Se),0<he.length&&(Se=new Xi(Se,e,null,r,Q),X.push({event:Se,listeners:he}),ge?Se.data=ge:(ge=ta(r),ge!==null&&(Se.data=ge)))),(ge=hc?gc(e,r):xc(e,r))&&(R=$s(R,"onBeforeInput"),0<R.length&&(Q=new Xi("onBeforeInput","beforeinput",null,r,Q),X.push({event:Q,listeners:R}),Q.data=ge))}Sa(X,t)})}function ts(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $s(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Nr(e,r),l!=null&&n.unshift(ts(e,l,o)),l=Nr(e,t),l!=null&&n.push(ts(e,l,o))),e=e.return}return n}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ca(e,t,r,n,o){for(var l=t._reactName,u=[];r!==null&&r!==n;){var w=r,b=w.alternate,R=w.stateNode;if(b!==null&&b===n)break;w.tag===5&&R!==null&&(w=R,o?(b=Nr(r,l),b!=null&&u.unshift(ts(r,b,w))):o||(b=Nr(r,l),b!=null&&u.push(ts(r,b,w)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var _c=/\r\n?/g,Mc=/\u0000|\uFFFD/g;function Na(e){return(typeof e=="string"?e:""+e).replace(_c,`
`).replace(Mc,"")}function Hs(e,t,r){if(t=Na(t),Na(e)!==t&&r)throw Error(a(425))}function Bs(){}var ul=null,dl=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,Pc=typeof clearTimeout=="function"?clearTimeout:void 0,ba=typeof Promise=="function"?Promise:void 0,Ac=typeof queueMicrotask=="function"?queueMicrotask:typeof ba<"u"?function(e){return ba.resolve(null).then(e).catch(Lc)}:fl;function Lc(e){setTimeout(function(){throw e})}function pl(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Vn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Vn(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ka(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yn=Math.random().toString(36).slice(2),ar="__reactFiber$"+yn,rs="__reactProps$"+yn,pr="__reactContainer$"+yn,ml="__reactEvents$"+yn,Oc="__reactListeners$"+yn,Rc="__reactHandles$"+yn;function Gr(e){var t=e[ar];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[ar]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ka(e);e!==null;){if(r=e[ar])return r;e=ka(e)}return t}e=r,r=e.parentNode}return null}function ns(e){return e=e[ar]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Us(e){return e[rs]||null}var hl=[],wn=-1;function Mr(e){return{current:e}}function Ue(e){0>wn||(e.current=hl[wn],hl[wn]=null,wn--)}function He(e,t){wn++,hl[wn]=e.current,e.current=t}var Pr={},yt=Mr(Pr),It=Mr(!1),qr=Pr;function Sn(e,t){var r=e.type.contextTypes;if(!r)return Pr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in r)o[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dt(e){return e=e.childContextTypes,e!=null}function Ws(){Ue(It),Ue(yt)}function Ea(e,t,r){if(yt.current!==Pr)throw Error(a(168));He(yt,t),He(It,r)}function Ta(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(a(108,Ae(e)||"Unknown",o));return J({},r,n)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,qr=yt.current,He(yt,e),He(It,It.current),!0}function Ia(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ta(e,t,qr),n.__reactInternalMemoizedMergedChildContext=e,Ue(It),Ue(yt),He(yt,e)):Ue(It),He(It,r)}var mr=null,Gs=!1,gl=!1;function Da(e){mr===null?mr=[e]:mr.push(e)}function zc(e){Gs=!0,Da(e)}function Ar(){if(!gl&&mr!==null){gl=!0;var e=0,t=Fe;try{var r=mr;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mr=null,Gs=!1}catch(o){throw mr!==null&&(mr=mr.slice(e+1)),Mi(zo,Ar),o}finally{Fe=t,gl=!1}}return null}var jn=[],Cn=0,qs=null,Qs=0,Gt=[],qt=0,Qr=null,hr=1,gr="";function Xr(e,t){jn[Cn++]=Qs,jn[Cn++]=qs,qs=e,Qs=t}function _a(e,t,r){Gt[qt++]=hr,Gt[qt++]=gr,Gt[qt++]=Qr,Qr=e;var n=hr;e=gr;var o=32-er(n)-1;n&=~(1<<o),r+=1;var l=32-er(t)+o;if(30<l){var u=o-o%5;l=(n&(1<<u)-1).toString(32),n>>=u,o-=u,hr=1<<32-er(t)+o|r<<o|n,gr=l+e}else hr=1<<l|r<<o|n,gr=e}function xl(e){e.return!==null&&(Xr(e,1),_a(e,1,0))}function yl(e){for(;e===qs;)qs=jn[--Cn],jn[Cn]=null,Qs=jn[--Cn],jn[Cn]=null;for(;e===Qr;)Qr=Gt[--qt],Gt[qt]=null,gr=Gt[--qt],Gt[qt]=null,hr=Gt[--qt],Gt[qt]=null}var zt=null,Ft=null,Ge=!1,rr=null;function Ma(e,t){var r=Kt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pa(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ft=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qr!==null?{id:hr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Kt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zt=e,Ft=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wl(e){if(Ge){var t=Ft;if(t){var r=t;if(!Pa(e,t)){if(vl(e))throw Error(a(418));t=_r(r.nextSibling);var n=zt;t&&Pa(e,t)?Ma(n,r):(e.flags=e.flags&-4097|2,Ge=!1,zt=e)}}else{if(vl(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ge=!1,zt=e}}}function Aa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Xs(e){if(e!==zt)return!1;if(!Ge)return Aa(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=Ft)){if(vl(e))throw La(),Error(a(418));for(;t;)Ma(e,t),t=_r(t.nextSibling)}if(Aa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ft=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=zt?_r(e.stateNode.nextSibling):null;return!0}function La(){for(var e=Ft;e;)e=_r(e.nextSibling)}function Nn(){Ft=zt=null,Ge=!1}function Sl(e){rr===null?rr=[e]:rr.push(e)}var Fc=D.ReactCurrentBatchConfig;function ss(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(u){var w=o.refs;u===null?delete w[l]:w[l]=u},t._stringRef=l,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oa(e){var t=e._init;return t(e._payload)}function Ra(e){function t(M,k){if(e){var L=M.deletions;L===null?(M.deletions=[k],M.flags|=16):L.push(k)}}function r(M,k){if(!e)return null;for(;k!==null;)t(M,k),k=k.sibling;return null}function n(M,k){for(M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function o(M,k){return M=Br(M,k),M.index=0,M.sibling=null,M}function l(M,k,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<k?(M.flags|=2,k):L):(M.flags|=2,k)):(M.flags|=1048576,k)}function u(M){return e&&M.alternate===null&&(M.flags|=2),M}function w(M,k,L,Z){return k===null||k.tag!==6?(k=fi(L,M.mode,Z),k.return=M,k):(k=o(k,L),k.return=M,k)}function b(M,k,L,Z){var fe=L.type;return fe===E?Q(M,k,L.props.children,Z,L.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===K&&Oa(fe)===k.type)?(Z=o(k,L.props),Z.ref=ss(M,k,L),Z.return=M,Z):(Z=So(L.type,L.key,L.props,null,M.mode,Z),Z.ref=ss(M,k,L),Z.return=M,Z)}function R(M,k,L,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=pi(L,M.mode,Z),k.return=M,k):(k=o(k,L.children||[]),k.return=M,k)}function Q(M,k,L,Z,fe){return k===null||k.tag!==7?(k=nn(L,M.mode,Z,fe),k.return=M,k):(k=o(k,L),k.return=M,k)}function X(M,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return k=fi(""+k,M.mode,L),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return L=So(k.type,k.key,k.props,null,M.mode,L),L.ref=ss(M,null,k),L.return=M,L;case _:return k=pi(k,M.mode,L),k.return=M,k;case K:var Z=k._init;return X(M,Z(k._payload),L)}if(ye(k)||re(k))return k=nn(k,M.mode,L,null),k.return=M,k;Ys(M,k)}return null}function G(M,k,L,Z){var fe=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return fe!==null?null:w(M,k,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===fe?b(M,k,L,Z):null;case _:return L.key===fe?R(M,k,L,Z):null;case K:return fe=L._init,G(M,k,fe(L._payload),Z)}if(ye(L)||re(L))return fe!==null?null:Q(M,k,L,Z,null);Ys(M,L)}return null}function ne(M,k,L,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(L)||null,w(k,M,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case z:return M=M.get(Z.key===null?L:Z.key)||null,b(k,M,Z,fe);case _:return M=M.get(Z.key===null?L:Z.key)||null,R(k,M,Z,fe);case K:var he=Z._init;return ne(M,k,L,he(Z._payload),fe)}if(ye(Z)||re(Z))return M=M.get(L)||null,Q(k,M,Z,fe,null);Ys(k,Z)}return null}function le(M,k,L,Z){for(var fe=null,he=null,ge=k,Se=k=0,mt=null;ge!==null&&Se<L.length;Se++){ge.index>Se?(mt=ge,ge=null):mt=ge.sibling;var Oe=G(M,ge,L[Se],Z);if(Oe===null){ge===null&&(ge=mt);break}e&&ge&&Oe.alternate===null&&t(M,ge),k=l(Oe,k,Se),he===null?fe=Oe:he.sibling=Oe,he=Oe,ge=mt}if(Se===L.length)return r(M,ge),Ge&&Xr(M,Se),fe;if(ge===null){for(;Se<L.length;Se++)ge=X(M,L[Se],Z),ge!==null&&(k=l(ge,k,Se),he===null?fe=ge:he.sibling=ge,he=ge);return Ge&&Xr(M,Se),fe}for(ge=n(M,ge);Se<L.length;Se++)mt=ne(ge,M,Se,L[Se],Z),mt!==null&&(e&&mt.alternate!==null&&ge.delete(mt.key===null?Se:mt.key),k=l(mt,k,Se),he===null?fe=mt:he.sibling=mt,he=mt);return e&&ge.forEach(function(Ur){return t(M,Ur)}),Ge&&Xr(M,Se),fe}function ue(M,k,L,Z){var fe=re(L);if(typeof fe!="function")throw Error(a(150));if(L=fe.call(L),L==null)throw Error(a(151));for(var he=fe=null,ge=k,Se=k=0,mt=null,Oe=L.next();ge!==null&&!Oe.done;Se++,Oe=L.next()){ge.index>Se?(mt=ge,ge=null):mt=ge.sibling;var Ur=G(M,ge,Oe.value,Z);if(Ur===null){ge===null&&(ge=mt);break}e&&ge&&Ur.alternate===null&&t(M,ge),k=l(Ur,k,Se),he===null?fe=Ur:he.sibling=Ur,he=Ur,ge=mt}if(Oe.done)return r(M,ge),Ge&&Xr(M,Se),fe;if(ge===null){for(;!Oe.done;Se++,Oe=L.next())Oe=X(M,Oe.value,Z),Oe!==null&&(k=l(Oe,k,Se),he===null?fe=Oe:he.sibling=Oe,he=Oe);return Ge&&Xr(M,Se),fe}for(ge=n(M,ge);!Oe.done;Se++,Oe=L.next())Oe=ne(ge,M,Se,Oe.value,Z),Oe!==null&&(e&&Oe.alternate!==null&&ge.delete(Oe.key===null?Se:Oe.key),k=l(Oe,k,Se),he===null?fe=Oe:he.sibling=Oe,he=Oe);return e&&ge.forEach(function(vf){return t(M,vf)}),Ge&&Xr(M,Se),fe}function Ze(M,k,L,Z){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:e:{for(var fe=L.key,he=k;he!==null;){if(he.key===fe){if(fe=L.type,fe===E){if(he.tag===7){r(M,he.sibling),k=o(he,L.props.children),k.return=M,M=k;break e}}else if(he.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===K&&Oa(fe)===he.type){r(M,he.sibling),k=o(he,L.props),k.ref=ss(M,he,L),k.return=M,M=k;break e}r(M,he);break}else t(M,he);he=he.sibling}L.type===E?(k=nn(L.props.children,M.mode,Z,L.key),k.return=M,M=k):(Z=So(L.type,L.key,L.props,null,M.mode,Z),Z.ref=ss(M,k,L),Z.return=M,M=Z)}return u(M);case _:e:{for(he=L.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){r(M,k.sibling),k=o(k,L.children||[]),k.return=M,M=k;break e}else{r(M,k);break}else t(M,k);k=k.sibling}k=pi(L,M.mode,Z),k.return=M,M=k}return u(M);case K:return he=L._init,Ze(M,k,he(L._payload),Z)}if(ye(L))return le(M,k,L,Z);if(re(L))return ue(M,k,L,Z);Ys(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,k!==null&&k.tag===6?(r(M,k.sibling),k=o(k,L),k.return=M,M=k):(r(M,k),k=fi(L,M.mode,Z),k.return=M,M=k),u(M)):r(M,k)}return Ze}var bn=Ra(!0),za=Ra(!1),Ks=Mr(null),Zs=null,kn=null,jl=null;function Cl(){jl=kn=Zs=null}function Nl(e){var t=Ks.current;Ue(Ks),e._currentValue=t}function bl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function En(e,t){Zs=e,jl=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Zs===null)throw Error(a(308));kn=e,Zs.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Yr=null;function kl(e){Yr===null?Yr=[e]:Yr.push(e)}function Fa(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,kl(t)):(r.next=o.next,o.next=r),t.interleaved=r,xr(e,n)}function xr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Le&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,xr(e,r)}return o=n.interleaved,o===null?(t.next=t,kl(n)):(t.next=o.next,o.next=t),n.interleaved=t,xr(e,r)}function Js(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ho(e,r)}}function Ha(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?o=l=u:l=l.next=u,r=r.next}while(r!==null);l===null?o=l=t:l=l.next=t}else o=l=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var o=e.updateQueue;Lr=!1;var l=o.firstBaseUpdate,u=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var b=w,R=b.next;b.next=null,u===null?l=R:u.next=R,u=b;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==u&&(w===null?Q.firstBaseUpdate=R:w.next=R,Q.lastBaseUpdate=b))}if(l!==null){var X=o.baseState;u=0,Q=R=b=null,w=l;do{var G=w.lane,ne=w.eventTime;if((n&G)===G){Q!==null&&(Q=Q.next={eventTime:ne,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var le=e,ue=w;switch(G=t,ne=r,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){X=le.call(ne,X,G);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(ne,X,G):le,G==null)break e;X=J({},X,G);break e;case 2:Lr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,G=o.effects,G===null?o.effects=[w]:G.push(w))}else ne={eventTime:ne,lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(R=Q=ne,b=X):Q=Q.next=ne,u|=G;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;G=w,w=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);if(Q===null&&(b=X),o.baseState=b,o.firstBaseUpdate=R,o.lastBaseUpdate=Q,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Jr|=u,e.lanes=u,e.memoizedState=X}}function Ba(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(a(191,o));o.call(n)}}}var os={},ur=Mr(os),ls=Mr(os),is=Mr(os);function Kr(e){if(e===os)throw Error(a(174));return e}function Tl(e,t){switch(He(is,t),He(ls,e),He(ur,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ve(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ve(t,e)}Ue(ur),He(ur,t)}function Tn(){Ue(ur),Ue(ls),Ue(is)}function Ua(e){Kr(is.current);var t=Kr(ur.current),r=ve(t,e.type);t!==r&&(He(ls,e),He(ur,r))}function Il(e){ls.current===e&&(Ue(ur),Ue(ls))}var Qe=Mr(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dl=[];function _l(){for(var e=0;e<Dl.length;e++)Dl[e]._workInProgressVersionPrimary=null;Dl.length=0}var ro=D.ReactCurrentDispatcher,Ml=D.ReactCurrentBatchConfig,Zr=0,Xe=null,at=null,ft=null,no=!1,as=!1,us=0,$c=0;function vt(){throw Error(a(321))}function Pl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tr(e[r],t[r]))return!1;return!0}function Al(e,t,r,n,o,l){if(Zr=l,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?Wc:Vc,e=r(n,o),as){l=0;do{if(as=!1,us=0,25<=l)throw Error(a(301));l+=1,ft=at=null,t.updateQueue=null,ro.current=Gc,e=r(n,o)}while(as)}if(ro.current=lo,t=at!==null&&at.next!==null,Zr=0,ft=at=Xe=null,no=!1,t)throw Error(a(300));return e}function Ll(){var e=us!==0;return us=0,e}function dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Xe.memoizedState=ft=e:ft=ft.next=e,ft}function Xt(){if(at===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ft===null?Xe.memoizedState:ft.next;if(t!==null)ft=t,at=e;else{if(e===null)throw Error(a(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ft===null?Xe.memoizedState=ft=e:ft=ft.next=e}return ft}function ds(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=Xt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var n=at,o=n.baseQueue,l=r.pending;if(l!==null){if(o!==null){var u=o.next;o.next=l.next,l.next=u}n.baseQueue=o=l,r.pending=null}if(o!==null){l=o.next,n=n.baseState;var w=u=null,b=null,R=l;do{var Q=R.lane;if((Zr&Q)===Q)b!==null&&(b=b.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),n=R.hasEagerState?R.eagerState:e(n,R.action);else{var X={lane:Q,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};b===null?(w=b=X,u=n):b=b.next=X,Xe.lanes|=Q,Jr|=Q}R=R.next}while(R!==null&&R!==l);b===null?u=n:b.next=w,tr(n,t.memoizedState)||(_t=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=b,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do l=o.lane,Xe.lanes|=l,Jr|=l,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rl(e){var t=Xt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,l=t.memoizedState;if(o!==null){r.pending=null;var u=o=o.next;do l=e(l,u.action),u=u.next;while(u!==o);tr(l,t.memoizedState)||(_t=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Wa(){}function Va(e,t){var r=Xe,n=Xt(),o=t(),l=!tr(n.memoizedState,o);if(l&&(n.memoizedState=o,_t=!0),n=n.queue,zl(Qa.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,cs(9,qa.bind(null,r,n,o,t),void 0,null),pt===null)throw Error(a(349));(Zr&30)!==0||Ga(r,t,o)}return o}function Ga(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qa(e,t,r,n){t.value=r,t.getSnapshot=n,Xa(t)&&Ya(e)}function Qa(e,t,r){return r(function(){Xa(t)&&Ya(e)})}function Xa(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tr(e,r)}catch{return!0}}function Ya(e){var t=xr(e,1);t!==null&&lr(t,e,1,-1)}function Ka(e){var t=dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Uc.bind(null,Xe,e),[t.memoizedState,e]}function cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Za(){return Xt().memoizedState}function so(e,t,r,n){var o=dr();Xe.flags|=e,o.memoizedState=cs(1|t,r,void 0,n===void 0?null:n)}function oo(e,t,r,n){var o=Xt();n=n===void 0?null:n;var l=void 0;if(at!==null){var u=at.memoizedState;if(l=u.destroy,n!==null&&Pl(n,u.deps)){o.memoizedState=cs(t,r,l,n);return}}Xe.flags|=e,o.memoizedState=cs(1|t,r,l,n)}function Ja(e,t){return so(8390656,8,e,t)}function zl(e,t){return oo(2048,8,e,t)}function eu(e,t){return oo(4,2,e,t)}function tu(e,t){return oo(4,4,e,t)}function ru(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nu(e,t,r){return r=r!=null?r.concat([e]):null,oo(4,4,ru.bind(null,t,e),r)}function Fl(){}function su(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ou(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lu(e,t,r){return(Zr&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r):(tr(r,t)||(r=Oi(),Xe.lanes|=r,Jr|=r,e.baseState=!0),t)}function Hc(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=Ml.transition;Ml.transition={};try{e(!1),t()}finally{Fe=r,Ml.transition=n}}function iu(){return Xt().memoizedState}function Bc(e,t,r){var n=$r(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},au(e))uu(t,r);else if(r=Fa(e,t,r,n),r!==null){var o=Et();lr(r,e,n,o),du(r,t,n)}}function Uc(e,t,r){var n=$r(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(e))uu(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var u=t.lastRenderedState,w=l(u,r);if(o.hasEagerState=!0,o.eagerState=w,tr(w,u)){var b=t.interleaved;b===null?(o.next=o,kl(t)):(o.next=b.next,b.next=o),t.interleaved=o;return}}catch{}finally{}r=Fa(e,t,o,n),r!==null&&(o=Et(),lr(r,e,n,o),du(r,t,n))}}function au(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function uu(e,t){as=no=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function du(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ho(e,r)}}var lo={readContext:Qt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Wc={readContext:Qt,useCallback:function(e,t){return dr().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Ja,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,so(4194308,4,ru.bind(null,t,e),r)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var r=dr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Bc.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=dr();return e={current:e},t.memoizedState=e},useState:Ka,useDebugValue:Fl,useDeferredValue:function(e){return dr().memoizedState=e},useTransition:function(){var e=Ka(!1),t=e[0];return e=Hc.bind(null,e[1]),dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,o=dr();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),pt===null)throw Error(a(349));(Zr&30)!==0||Ga(n,t,r)}o.memoizedState=r;var l={value:r,getSnapshot:t};return o.queue=l,Ja(Qa.bind(null,n,l,e),[e]),n.flags|=2048,cs(9,qa.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=dr(),t=pt.identifierPrefix;if(Ge){var r=gr,n=hr;r=(n&~(1<<32-er(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=us++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$c++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vc={readContext:Qt,useCallback:su,useContext:Qt,useEffect:zl,useImperativeHandle:nu,useInsertionEffect:eu,useLayoutEffect:tu,useMemo:ou,useReducer:Ol,useRef:Za,useState:function(){return Ol(ds)},useDebugValue:Fl,useDeferredValue:function(e){var t=Xt();return lu(t,at.memoizedState,e)},useTransition:function(){var e=Ol(ds)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Wa,useSyncExternalStore:Va,useId:iu,unstable_isNewReconciler:!1},Gc={readContext:Qt,useCallback:su,useContext:Qt,useEffect:zl,useImperativeHandle:nu,useInsertionEffect:eu,useLayoutEffect:tu,useMemo:ou,useReducer:Rl,useRef:Za,useState:function(){return Rl(ds)},useDebugValue:Fl,useDeferredValue:function(e){var t=Xt();return at===null?t.memoizedState=e:lu(t,at.memoizedState,e)},useTransition:function(){var e=Rl(ds)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Wa,useSyncExternalStore:Va,useId:iu,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $l(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var io={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Et(),o=$r(e),l=yr(n,o);l.payload=t,r!=null&&(l.callback=r),t=Or(e,l,o),t!==null&&(lr(t,e,o,n),Js(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Et(),o=$r(e),l=yr(n,o);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Or(e,l,o),t!==null&&(lr(t,e,o,n),Js(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Et(),n=$r(e),o=yr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Or(e,o,n),t!==null&&(lr(t,e,n,r),Js(t,e,n))}};function cu(e,t,r,n,o,l,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,u):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,n)||!Kn(o,l):!0}function fu(e,t,r){var n=!1,o=Pr,l=t.contextType;return typeof l=="object"&&l!==null?l=Qt(l):(o=Dt(t)?qr:yt.current,n=t.contextTypes,l=(n=n!=null)?Sn(e,o):Pr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function pu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function Hl(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},El(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Qt(l):(l=Dt(t)?qr:yt.current,o.context=Sn(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&($l(e,t,l,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&io.enqueueReplaceState(o,o.state,null),eo(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var r="",n=t;do r+=xe(n),n=n.return;while(n);var o=r}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Bl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qc=typeof WeakMap=="function"?WeakMap:Map;function mu(e,t,r){r=yr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ho||(ho=!0,si=n),Ul(e,t)},r}function hu(e,t,r){r=yr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ul(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ul(e,t),typeof n!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function gu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qc;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=af.bind(null,e,t,r),t.then(e,e))}function xu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yu(e,t,r,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yr(-1,1),t.tag=2,Or(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Qc=D.ReactCurrentOwner,_t=!1;function kt(e,t,r,n){t.child=e===null?za(t,null,r,n):bn(t,e.child,r,n)}function vu(e,t,r,n,o){r=r.render;var l=t.ref;return En(t,o),n=Al(e,t,r,n,l,o),r=Ll(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vr(e,t,o)):(Ge&&r&&xl(t),t.flags|=1,kt(e,t,n,o),t.child)}function wu(e,t,r,n,o){if(e===null){var l=r.type;return typeof l=="function"&&!ci(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Su(e,t,l,n,o)):(e=So(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&o)===0){var u=l.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(u,n)&&e.ref===t.ref)return vr(e,t,o)}return t.flags|=1,e=Br(l,n),e.ref=t.ref,e.return=t,t.child=e}function Su(e,t,r,n,o){if(e!==null){var l=e.memoizedProps;if(Kn(l,n)&&e.ref===t.ref)if(_t=!1,t.pendingProps=n=l,(e.lanes&o)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,vr(e,t,o)}return Wl(e,t,r,n,o)}function ju(e,t,r){var n=t.pendingProps,o=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(_n,$t),$t|=r;else{if((r&1073741824)===0)return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(_n,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,He(_n,$t),$t|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,He(_n,$t),$t|=n;return kt(e,t,o,r),t.child}function Cu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,r,n,o){var l=Dt(r)?qr:yt.current;return l=Sn(t,l),En(t,o),r=Al(e,t,r,n,l,o),n=Ll(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,vr(e,t,o)):(Ge&&n&&xl(t),t.flags|=1,kt(e,t,r,o),t.child)}function Nu(e,t,r,n,o){if(Dt(r)){var l=!0;Vs(t)}else l=!1;if(En(t,o),t.stateNode===null)uo(e,t),fu(t,r,n),Hl(t,r,n,o),n=!0;else if(e===null){var u=t.stateNode,w=t.memoizedProps;u.props=w;var b=u.context,R=r.contextType;typeof R=="object"&&R!==null?R=Qt(R):(R=Dt(r)?qr:yt.current,R=Sn(t,R));var Q=r.getDerivedStateFromProps,X=typeof Q=="function"||typeof u.getSnapshotBeforeUpdate=="function";X||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w!==n||b!==R)&&pu(t,u,n,R),Lr=!1;var G=t.memoizedState;u.state=G,eo(t,n,u,o),b=t.memoizedState,w!==n||G!==b||It.current||Lr?(typeof Q=="function"&&($l(t,r,Q,n),b=t.memoizedState),(w=Lr||cu(t,r,w,n,G,b,R))?(X||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=b),u.props=n,u.state=b,u.context=R,n=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,$a(e,t),w=t.memoizedProps,R=t.type===t.elementType?w:nr(t.type,w),u.props=R,X=t.pendingProps,G=u.context,b=r.contextType,typeof b=="object"&&b!==null?b=Qt(b):(b=Dt(r)?qr:yt.current,b=Sn(t,b));var ne=r.getDerivedStateFromProps;(Q=typeof ne=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w!==X||G!==b)&&pu(t,u,n,b),Lr=!1,G=t.memoizedState,u.state=G,eo(t,n,u,o);var le=t.memoizedState;w!==X||G!==le||It.current||Lr?(typeof ne=="function"&&($l(t,r,ne,n),le=t.memoizedState),(R=Lr||cu(t,r,R,n,G,le,b)||!1)?(Q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,le,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,le,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||w===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=le),u.props=n,u.state=le,u.context=b,n=R):(typeof u.componentDidUpdate!="function"||w===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),n=!1)}return Vl(e,t,r,n,l,o)}function Vl(e,t,r,n,o,l){Cu(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return o&&Ia(t,r,!1),vr(e,t,l);n=t.stateNode,Qc.current=t;var w=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=bn(t,e.child,null,l),t.child=bn(t,null,w,l)):kt(e,t,w,l),t.memoizedState=n.state,o&&Ia(t,r,!0),t.child}function bu(e){var t=e.stateNode;t.pendingContext?Ea(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ea(e,t.context,!1),Tl(e,t.containerInfo)}function ku(e,t,r,n,o){return Nn(),Sl(o),t.flags|=256,kt(e,t,r,n),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eu(e,t,r){var n=t.pendingProps,o=Qe.current,l=!1,u=(t.flags&128)!==0,w;if((w=u)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),He(Qe,o&1),e===null)return wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=n.children,e=n.fallback,l?(n=t.mode,l=t.child,u={mode:"hidden",children:u},(n&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=u):l=jo(u,n,0,null),e=nn(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ql(r),t.memoizedState=Gl,e):Ql(t,u));if(o=e.memoizedState,o!==null&&(w=o.dehydrated,w!==null))return Xc(e,t,u,n,w,o,r);if(l){l=n.fallback,u=t.mode,o=e.child,w=o.sibling;var b={mode:"hidden",children:n.children};return(u&1)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=b,t.deletions=null):(n=Br(o,b),n.subtreeFlags=o.subtreeFlags&14680064),w!==null?l=Br(w,l):(l=nn(l,u,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,u=e.child.memoizedState,u=u===null?ql(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~r,t.memoizedState=Gl,n}return l=e.child,e=l.sibling,n=Br(l,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ql(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,r,n){return n!==null&&Sl(n),bn(t,e.child,null,r),e=Ql(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xc(e,t,r,n,o,l,u){if(r)return t.flags&256?(t.flags&=-257,n=Bl(Error(a(422))),ao(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,o=t.mode,n=jo({mode:"visible",children:n.children},o,0,null),l=nn(l,o,u,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,(t.mode&1)!==0&&bn(t,e.child,null,u),t.child.memoizedState=ql(u),t.memoizedState=Gl,l);if((t.mode&1)===0)return ao(e,t,u,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var w=n.dgst;return n=w,l=Error(a(419)),n=Bl(l,n,void 0),ao(e,t,u,n)}if(w=(u&e.childLanes)!==0,_t||w){if(n=pt,n!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(n.suspendedLanes|u))!==0?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,xr(e,o),lr(n,e,o,-1))}return di(),n=Bl(Error(a(421))),ao(e,t,u,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uf.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ft=_r(o.nextSibling),zt=t,Ge=!0,rr=null,e!==null&&(Gt[qt++]=hr,Gt[qt++]=gr,Gt[qt++]=Qr,hr=e.id,gr=e.overflow,Qr=t),t=Ql(t,n.children),t.flags|=4096,t)}function Tu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bl(e.return,t,r)}function Xl(e,t,r,n,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=o)}function Iu(e,t,r){var n=t.pendingProps,o=n.revealOrder,l=n.tail;if(kt(e,t,n.children,r),n=Qe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,r,t);else if(e.tag===19)Tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(Qe,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Xl(t,!1,o,r,l);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&to(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Xl(t,!0,r,null,l);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=Br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Yc(e,t,r){switch(t.tag){case 3:bu(t),Nn();break;case 5:Ua(t);break;case 1:Dt(t.type)&&Vs(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;He(Ks,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(Qe,Qe.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Eu(e,t,r):(He(Qe,Qe.current&1),e=vr(e,t,r),e!==null?e.sibling:null);He(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return Iu(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),He(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,r)}return vr(e,t,r)}var Du,Yl,_u,Mu;Du=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Yl=function(){},_u=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Kr(ur.current);var l=null;switch(r){case"input":o=Ee(e,o),n=Ee(e,n),l=[];break;case"select":o=J({},o,{value:void 0}),n=J({},n,{value:void 0}),l=[];break;case"textarea":o=it(e,o),n=it(e,n),l=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bs)}Ot(r,n);var u;r=null;for(R in o)if(!n.hasOwnProperty(R)&&o.hasOwnProperty(R)&&o[R]!=null)if(R==="style"){var w=o[R];for(u in w)w.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(c.hasOwnProperty(R)?l||(l=[]):(l=l||[]).push(R,null));for(R in n){var b=n[R];if(w=o?.[R],n.hasOwnProperty(R)&&b!==w&&(b!=null||w!=null))if(R==="style")if(w){for(u in w)!w.hasOwnProperty(u)||b&&b.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in b)b.hasOwnProperty(u)&&w[u]!==b[u]&&(r||(r={}),r[u]=b[u])}else r||(l||(l=[]),l.push(R,r)),r=b;else R==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(l=l||[]).push(R,b)):R==="children"?typeof b!="string"&&typeof b!="number"||(l=l||[]).push(R,""+b):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(c.hasOwnProperty(R)?(b!=null&&R==="onScroll"&&Be("scroll",e),l||w===b||(l=[])):(l=l||[]).push(R,b))}r&&(l=l||[]).push("style",r);var R=l;(t.updateQueue=R)&&(t.flags|=4)}},Mu=function(e,t,r,n){r!==n&&(t.flags|=4)};function fs(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Kc(e,t,r){var n=t.pendingProps;switch(yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Dt(t.type)&&Ws(),wt(t),null;case 3:return n=t.stateNode,Tn(),Ue(It),Ue(yt),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rr!==null&&(ii(rr),rr=null))),Yl(e,t),wt(t),null;case 5:Il(t);var o=Kr(is.current);if(r=t.type,e!==null&&t.stateNode!=null)_u(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(a(166));return wt(t),null}if(e=Kr(ur.current),Xs(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ar]=t,n[rs]=l,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(o=0;o<Jn.length;o++)Be(Jn[o],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Me(n,l),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Be("invalid",n);break;case"textarea":Je(n,l),Be("invalid",n)}Ot(r,l),o=null;for(var u in l)if(l.hasOwnProperty(u)){var w=l[u];u==="children"?typeof w=="string"?n.textContent!==w&&(l.suppressHydrationWarning!==!0&&Hs(n.textContent,w,e),o=["children",w]):typeof w=="number"&&n.textContent!==""+w&&(l.suppressHydrationWarning!==!0&&Hs(n.textContent,w,e),o=["children",""+w]):c.hasOwnProperty(u)&&w!=null&&u==="onScroll"&&Be("scroll",n)}switch(r){case"input":jt(n),ce(n,l,!0);break;case"textarea":jt(n),Pe(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Bs)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ne(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[ar]=t,e[rs]=n,Du(e,t,!1,!1),t.stateNode=e;e:{switch(u=$e(r,n),r){case"dialog":Be("cancel",e),Be("close",e),o=n;break;case"iframe":case"object":case"embed":Be("load",e),o=n;break;case"video":case"audio":for(o=0;o<Jn.length;o++)Be(Jn[o],e);o=n;break;case"source":Be("error",e),o=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),o=n;break;case"details":Be("toggle",e),o=n;break;case"input":Me(e,n),o=Ee(e,n),Be("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=J({},n,{value:void 0}),Be("invalid",e);break;case"textarea":Je(e,n),o=it(e,n),Be("invalid",e);break;default:o=n}Ot(r,o),w=o;for(l in w)if(w.hasOwnProperty(l)){var b=w[l];l==="style"?Bt(e,b):l==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Ve(e,b)):l==="children"?typeof b=="string"?(r!=="textarea"||b!=="")&&et(e,b):typeof b=="number"&&et(e,""+b):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(c.hasOwnProperty(l)?b!=null&&l==="onScroll"&&Be("scroll",e):b!=null&&h(e,l,b,u))}switch(r){case"input":jt(e),ce(e,n,!1);break;case"textarea":jt(e),Pe(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ke(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Te(e,!!n.multiple,l,!1):n.defaultValue!=null&&Te(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Mu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(a(166));if(r=Kr(is.current),Kr(ur.current),Xs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ar]=t,(l=n.nodeValue!==r)&&(e=zt,e!==null))switch(e.tag){case 3:Hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ar]=t,t.stateNode=n}return wt(t),null;case 13:if(Ue(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)La(),Nn(),t.flags|=98560,l=!1;else if(l=Xs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(a(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));l[ar]=t}else Nn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),l=!1}else rr!==null&&(ii(rr),rr=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Qe.current&1)!==0?ut===0&&(ut=3):di())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Tn(),Yl(e,t),e===null&&es(t.stateNode.containerInfo),wt(t),null;case 10:return Nl(t.type._context),wt(t),null;case 17:return Dt(t.type)&&Ws(),wt(t),null;case 19:if(Ue(Qe),l=t.memoizedState,l===null)return wt(t),null;if(n=(t.flags&128)!==0,u=l.rendering,u===null)if(n)fs(l,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=to(e),u!==null){for(t.flags|=128,fs(l,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(Qe,Qe.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ke()>Mn&&(t.flags|=128,n=!0,fs(l,!1),t.lanes=4194304)}else{if(!n)if(e=to(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ge)return wt(t),null}else 2*Ke()-l.renderingStartTime>Mn&&r!==1073741824&&(t.flags|=128,n=!0,fs(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(r=l.last,r!==null?r.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,r=Qe.current,He(Qe,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return ui(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?($t&1073741824)!==0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Zc(e,t){switch(yl(t),t.tag){case 1:return Dt(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),Ue(It),Ue(yt),_l(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Il(t),null;case 13:if(Ue(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Qe),null;case 4:return Tn(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return ui(),null;case 24:return null;default:return null}}var co=!1,St=!1,Jc=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Dn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ye(e,t,n)}else r.current=null}function Kl(e,t,r){try{r()}catch(n){Ye(e,t,n)}}var Pu=!1;function ef(e,t){if(ul=Ds,e=ca(),tl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var u=0,w=-1,b=-1,R=0,Q=0,X=e,G=null;t:for(;;){for(var ne;X!==r||o!==0&&X.nodeType!==3||(w=u+o),X!==l||n!==0&&X.nodeType!==3||(b=u+n),X.nodeType===3&&(u+=X.nodeValue.length),(ne=X.firstChild)!==null;)G=X,X=ne;for(;;){if(X===e)break t;if(G===r&&++R===o&&(w=u),G===l&&++Q===n&&(b=u),(ne=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ne}r=w===-1||b===-1?null:{start:w,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(dl={focusedElem:e,selectionRange:r},Ds=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var le=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,Ze=le.memoizedState,M=t.stateNode,k=M.getSnapshotBeforeUpdate(t.elementType===t.type?ue:nr(t.type,ue),Ze);M.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Z){Ye(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return le=Pu,Pu=!1,le}function ps(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Kl(t,r,l)}o=o.next}while(o!==n)}}function fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Au(e){var t=e.alternate;t!==null&&(e.alternate=null,Au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[rs],delete t[ml],delete t[Oc],delete t[Rc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lu(e){return e.tag===5||e.tag===3||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bs));else if(n!==4&&(e=e.child,e!==null))for(Jl(e,t,r),e=e.sibling;e!==null;)Jl(e,t,r),e=e.sibling}function ei(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ei(e,t,r),e=e.sibling;e!==null;)ei(e,t,r),e=e.sibling}var gt=null,sr=!1;function Rr(e,t,r){for(r=r.child;r!==null;)Ru(e,t,r),r=r.sibling}function Ru(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Ns,r)}catch{}switch(r.tag){case 5:St||Dn(r,t);case 6:var n=gt,o=sr;gt=null,Rr(e,t,r),gt=n,sr=o,gt!==null&&(sr?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(sr?(e=gt,r=r.stateNode,e.nodeType===8?pl(e.parentNode,r):e.nodeType===1&&pl(e,r),Vn(e)):pl(gt,r.stateNode));break;case 4:n=gt,o=sr,gt=r.stateNode.containerInfo,sr=!0,Rr(e,t,r),gt=n,sr=o;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var l=o,u=l.destroy;l=l.tag,u!==void 0&&((l&2)!==0||(l&4)!==0)&&Kl(r,t,u),o=o.next}while(o!==n)}Rr(e,t,r);break;case 1:if(!St&&(Dn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(w){Ye(r,t,w)}Rr(e,t,r);break;case 21:Rr(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,Rr(e,t,r),St=n):Rr(e,t,r);break;default:Rr(e,t,r)}}function zu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jc),t.forEach(function(n){var o=df.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function or(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var l=e,u=t,w=u;e:for(;w!==null;){switch(w.tag){case 5:gt=w.stateNode,sr=!1;break e;case 3:gt=w.stateNode.containerInfo,sr=!0;break e;case 4:gt=w.stateNode.containerInfo,sr=!0;break e}w=w.return}if(gt===null)throw Error(a(160));Ru(l,u,o),gt=null,sr=!1;var b=o.alternate;b!==null&&(b.return=null),o.return=null}catch(R){Ye(o,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fu(t,e),t=t.sibling}function Fu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),cr(e),n&4){try{ps(3,e,e.return),fo(3,e)}catch(ue){Ye(e,e.return,ue)}try{ps(5,e,e.return)}catch(ue){Ye(e,e.return,ue)}}break;case 1:or(t,e),cr(e),n&512&&r!==null&&Dn(r,r.return);break;case 5:if(or(t,e),cr(e),n&512&&r!==null&&Dn(r,r.return),e.flags&32){var o=e.stateNode;try{et(o,"")}catch(ue){Ye(e,e.return,ue)}}if(n&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,u=r!==null?r.memoizedProps:l,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&l.type==="radio"&&l.name!=null&&ie(o,l),$e(w,u);var R=$e(w,l);for(u=0;u<b.length;u+=2){var Q=b[u],X=b[u+1];Q==="style"?Bt(o,X):Q==="dangerouslySetInnerHTML"?Ve(o,X):Q==="children"?et(o,X):h(o,Q,X,R)}switch(w){case"input":Y(o,l);break;case"textarea":we(o,l);break;case"select":var G=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var ne=l.value;ne!=null?Te(o,!!l.multiple,ne,!1):G!==!!l.multiple&&(l.defaultValue!=null?Te(o,!!l.multiple,l.defaultValue,!0):Te(o,!!l.multiple,l.multiple?[]:"",!1))}o[rs]=l}catch(ue){Ye(e,e.return,ue)}}break;case 6:if(or(t,e),cr(e),n&4){if(e.stateNode===null)throw Error(a(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(ue){Ye(e,e.return,ue)}}break;case 3:if(or(t,e),cr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vn(t.containerInfo)}catch(ue){Ye(e,e.return,ue)}break;case 4:or(t,e),cr(e);break;case 13:or(t,e),cr(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(ni=Ke())),n&4&&zu(e);break;case 22:if(Q=r!==null&&r.memoizedState!==null,e.mode&1?(St=(R=St)||Q,or(t,e),St=R):or(t,e),cr(e),n&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!Q&&(e.mode&1)!==0)for(oe=e,Q=e.child;Q!==null;){for(X=oe=Q;oe!==null;){switch(G=oe,ne=G.child,G.tag){case 0:case 11:case 14:case 15:ps(4,G,G.return);break;case 1:Dn(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){n=G,r=G.return;try{t=n,le.props=t.memoizedProps,le.state=t.memoizedState,le.componentWillUnmount()}catch(ue){Ye(n,r,ue)}}break;case 5:Dn(G,G.return);break;case 22:if(G.memoizedState!==null){Bu(X);continue}}ne!==null?(ne.return=G,oe=ne):Bu(X)}Q=Q.sibling}e:for(Q=null,X=e;;){if(X.tag===5){if(Q===null){Q=X;try{o=X.stateNode,R?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(w=X.stateNode,b=X.memoizedProps.style,u=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=Ct("display",u))}catch(ue){Ye(e,e.return,ue)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=R?"":X.memoizedProps}catch(ue){Ye(e,e.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===e)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===e)break e;for(;X.sibling===null;){if(X.return===null||X.return===e)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:or(t,e),cr(e),n&4&&zu(e);break;case 21:break;default:or(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Lu(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(et(o,""),n.flags&=-33);var l=Ou(e);ei(e,l,o);break;case 3:case 4:var u=n.stateNode.containerInfo,w=Ou(e);Jl(e,w,u);break;default:throw Error(a(161))}}catch(b){Ye(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tf(e,t,r){oe=e,$u(e)}function $u(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var o=oe,l=o.child;if(o.tag===22&&n){var u=o.memoizedState!==null||co;if(!u){var w=o.alternate,b=w!==null&&w.memoizedState!==null||St;w=co;var R=St;if(co=u,(St=b)&&!R)for(oe=o;oe!==null;)u=oe,b=u.child,u.tag===22&&u.memoizedState!==null?Uu(o):b!==null?(b.return=u,oe=b):Uu(o);for(;l!==null;)oe=l,$u(l),l=l.sibling;oe=o,co=w,St=R}Hu(e)}else(o.subtreeFlags&8772)!==0&&l!==null?(l.return=o,oe=l):Hu(e)}}function Hu(e){for(;oe!==null;){var t=oe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:St||fo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:nr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ba(t,l,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ba(t,u,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&r.focus();break;case"img":b.src&&(r.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var Q=R.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Vn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}St||t.flags&512&&Zl(t)}catch(G){Ye(t,t.return,G)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Bu(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Uu(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fo(4,t)}catch(b){Ye(t,r,b)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(b){Ye(t,o,b)}}var l=t.return;try{Zl(t)}catch(b){Ye(t,l,b)}break;case 5:var u=t.return;try{Zl(t)}catch(b){Ye(t,u,b)}}}catch(b){Ye(t,t.return,b)}if(t===e){oe=null;break}var w=t.sibling;if(w!==null){w.return=t.return,oe=w;break}oe=t.return}}var rf=Math.ceil,po=D.ReactCurrentDispatcher,ti=D.ReactCurrentOwner,Yt=D.ReactCurrentBatchConfig,Le=0,pt=null,rt=null,xt=0,$t=0,_n=Mr(0),ut=0,ms=null,Jr=0,mo=0,ri=0,hs=null,Mt=null,ni=0,Mn=1/0,wr=null,ho=!1,si=null,zr=null,go=!1,Fr=null,xo=0,gs=0,oi=null,yo=-1,vo=0;function Et(){return(Le&6)!==0?Ke():yo!==-1?yo:yo=Ke()}function $r(e){return(e.mode&1)===0?1:(Le&2)!==0&&xt!==0?xt&-xt:Fc.transition!==null?(vo===0&&(vo=Oi()),vo):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:Vi(e.type)),e)}function lr(e,t,r,n){if(50<gs)throw gs=0,oi=null,Error(a(185));$n(e,r,n),((Le&2)===0||e!==pt)&&(e===pt&&((Le&2)===0&&(mo|=r),ut===4&&Hr(e,xt)),Pt(e,n),r===1&&Le===0&&(t.mode&1)===0&&(Mn=Ke()+500,Gs&&Ar()))}function Pt(e,t){var r=e.callbackNode;Fd(e,t);var n=Es(e,e===pt?xt:0);if(n===0)r!==null&&Pi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pi(r),t===1)e.tag===0?zc(Vu.bind(null,e)):Da(Vu.bind(null,e)),Ac(function(){(Le&6)===0&&Ar()}),r=null;else{switch(Ri(n)){case 1:r=zo;break;case 4:r=Ai;break;case 16:r=Cs;break;case 536870912:r=Li;break;default:r=Cs}r=Ju(r,Wu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wu(e,t){if(yo=-1,vo=0,(Le&6)!==0)throw Error(a(327));var r=e.callbackNode;if(Pn()&&e.callbackNode!==r)return null;var n=Es(e,e===pt?xt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=wo(e,n);else{t=n;var o=Le;Le|=2;var l=qu();(pt!==e||xt!==t)&&(wr=null,Mn=Ke()+500,tn(e,t));do try{of();break}catch(w){Gu(e,w)}while(!0);Cl(),po.current=l,Le=o,rt!==null?t=0:(pt=null,xt=0,t=ut)}if(t!==0){if(t===2&&(o=Fo(e),o!==0&&(n=o,t=li(e,o))),t===1)throw r=ms,tn(e,0),Hr(e,n),Pt(e,Ke()),r;if(t===6)Hr(e,n);else{if(o=e.current.alternate,(n&30)===0&&!nf(o)&&(t=wo(e,n),t===2&&(l=Fo(e),l!==0&&(n=l,t=li(e,l))),t===1))throw r=ms,tn(e,0),Hr(e,n),Pt(e,Ke()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:rn(e,Mt,wr);break;case 3:if(Hr(e,n),(n&130023424)===n&&(t=ni+500-Ke(),10<t)){if(Es(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Et(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=fl(rn.bind(null,e,Mt,wr),t);break}rn(e,Mt,wr);break;case 4:if(Hr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var u=31-er(n);l=1<<u,u=t[u],u>o&&(o=u),n&=~l}if(n=o,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rf(n/1960))-n,10<n){e.timeoutHandle=fl(rn.bind(null,e,Mt,wr),n);break}rn(e,Mt,wr);break;case 5:rn(e,Mt,wr);break;default:throw Error(a(329))}}}return Pt(e,Ke()),e.callbackNode===r?Wu.bind(null,e):null}function li(e,t){var r=hs;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=wo(e,t),e!==2&&(t=Mt,Mt=r,t!==null&&ii(t)),e}function ii(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function nf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],l=o.getSnapshot;o=o.value;try{if(!tr(l(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~ri,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-er(t),n=1<<r;e[r]=-1,t&=~n}}function Vu(e){if((Le&6)!==0)throw Error(a(327));Pn();var t=Es(e,0);if((t&1)===0)return Pt(e,Ke()),null;var r=wo(e,t);if(e.tag!==0&&r===2){var n=Fo(e);n!==0&&(t=n,r=li(e,n))}if(r===1)throw r=ms,tn(e,0),Hr(e,t),Pt(e,Ke()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rn(e,Mt,wr),Pt(e,Ke()),null}function ai(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Mn=Ke()+500,Gs&&Ar())}}function en(e){Fr!==null&&Fr.tag===0&&(Le&6)===0&&Pn();var t=Le;Le|=1;var r=Yt.transition,n=Fe;try{if(Yt.transition=null,Fe=1,e)return e()}finally{Fe=n,Yt.transition=r,Le=t,(Le&6)===0&&Ar()}}function ui(){$t=_n.current,Ue(_n)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pc(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(yl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Tn(),Ue(It),Ue(yt),_l();break;case 5:Il(n);break;case 4:Tn();break;case 13:Ue(Qe);break;case 19:Ue(Qe);break;case 10:Nl(n.type._context);break;case 22:case 23:ui()}r=r.return}if(pt=e,rt=e=Br(e.current,null),xt=$t=t,ut=0,ms=null,ri=mo=Jr=0,Mt=hs=null,Yr!==null){for(t=0;t<Yr.length;t++)if(r=Yr[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,l=r.pending;if(l!==null){var u=l.next;l.next=o,n.next=u}r.pending=n}Yr=null}return e}function Gu(e,t){do{var r=rt;try{if(Cl(),ro.current=lo,no){for(var n=Xe.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}no=!1}if(Zr=0,ft=at=Xe=null,as=!1,us=0,ti.current=null,r===null||r.return===null){ut=1,ms=t,rt=null;break}e:{var l=e,u=r.return,w=r,b=t;if(t=xt,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var R=b,Q=w,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var G=Q.alternate;G?(Q.updateQueue=G.updateQueue,Q.memoizedState=G.memoizedState,Q.lanes=G.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ne=xu(u);if(ne!==null){ne.flags&=-257,yu(ne,u,w,l,t),ne.mode&1&&gu(l,R,t),t=ne,b=R;var le=t.updateQueue;if(le===null){var ue=new Set;ue.add(b),t.updateQueue=ue}else le.add(b);break e}else{if((t&1)===0){gu(l,R,t),di();break e}b=Error(a(426))}}else if(Ge&&w.mode&1){var Ze=xu(u);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),yu(Ze,u,w,l,t),Sl(In(b,w));break e}}l=b=In(b,w),ut!==4&&(ut=2),hs===null?hs=[l]:hs.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=mu(l,b,t);Ha(l,M);break e;case 1:w=b;var k=l.type,L=l.stateNode;if((l.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(zr===null||!zr.has(L)))){l.flags|=65536,t&=-t,l.lanes|=t;var Z=hu(l,w,t);Ha(l,Z);break e}}l=l.return}while(l!==null)}Xu(r)}catch(fe){t=fe,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function qu(){var e=po.current;return po.current=lo,e===null?lo:e}function di(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(Jr&268435455)===0&&(mo&268435455)===0||Hr(pt,xt)}function wo(e,t){var r=Le;Le|=2;var n=qu();(pt!==e||xt!==t)&&(wr=null,tn(e,t));do try{sf();break}catch(o){Gu(e,o)}while(!0);if(Cl(),Le=r,po.current=n,rt!==null)throw Error(a(261));return pt=null,xt=0,ut}function sf(){for(;rt!==null;)Qu(rt)}function of(){for(;rt!==null&&!Dd();)Qu(rt)}function Qu(e){var t=Zu(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Xu(e):rt=t,ti.current=null}function Xu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Kc(r,t,$t),r!==null){rt=r;return}}else{if(r=Zc(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ut===0&&(ut=5)}function rn(e,t,r){var n=Fe,o=Yt.transition;try{Yt.transition=null,Fe=1,lf(e,t,r,n)}finally{Yt.transition=o,Fe=n}return null}function lf(e,t,r,n){do Pn();while(Fr!==null);if((Le&6)!==0)throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if($d(e,l),e===pt&&(rt=pt=null,xt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||go||(go=!0,Ju(Cs,function(){return Pn(),null})),l=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||l){l=Yt.transition,Yt.transition=null;var u=Fe;Fe=1;var w=Le;Le|=4,ti.current=null,ef(e,r),Fu(r,e),kc(dl),Ds=!!ul,dl=ul=null,e.current=r,tf(r),_d(),Le=w,Fe=u,Yt.transition=l}else e.current=r;if(go&&(go=!1,Fr=e,xo=o),l=e.pendingLanes,l===0&&(zr=null),Ad(r.stateNode),Pt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(ho)throw ho=!1,e=si,si=null,e;return(xo&1)!==0&&e.tag!==0&&Pn(),l=e.pendingLanes,(l&1)!==0?e===oi?gs++:(gs=0,oi=e):gs=0,Ar(),null}function Pn(){if(Fr!==null){var e=Ri(xo),t=Yt.transition,r=Fe;try{if(Yt.transition=null,Fe=16>e?16:e,Fr===null)var n=!1;else{if(e=Fr,Fr=null,xo=0,(Le&6)!==0)throw Error(a(331));var o=Le;for(Le|=4,oe=e.current;oe!==null;){var l=oe,u=l.child;if((oe.flags&16)!==0){var w=l.deletions;if(w!==null){for(var b=0;b<w.length;b++){var R=w[b];for(oe=R;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:ps(8,Q,l)}var X=Q.child;if(X!==null)X.return=Q,oe=X;else for(;oe!==null;){Q=oe;var G=Q.sibling,ne=Q.return;if(Au(Q),Q===R){oe=null;break}if(G!==null){G.return=ne,oe=G;break}oe=ne}}}var le=l.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var Ze=ue.sibling;ue.sibling=null,ue=Ze}while(ue!==null)}}oe=l}}if((l.subtreeFlags&2064)!==0&&u!==null)u.return=l,oe=u;else e:for(;oe!==null;){if(l=oe,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:ps(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,oe=M;break e}oe=l.return}}var k=e.current;for(oe=k;oe!==null;){u=oe;var L=u.child;if((u.subtreeFlags&2064)!==0&&L!==null)L.return=u,oe=L;else e:for(u=k;oe!==null;){if(w=oe,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:fo(9,w)}}catch(fe){Ye(w,w.return,fe)}if(w===u){oe=null;break e}var Z=w.sibling;if(Z!==null){Z.return=w.return,oe=Z;break e}oe=w.return}}if(Le=o,Ar(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Ns,e)}catch{}n=!0}return n}finally{Fe=r,Yt.transition=t}}return!1}function Yu(e,t,r){t=In(r,t),t=mu(e,t,1),e=Or(e,t,1),t=Et(),e!==null&&($n(e,1,t),Pt(e,t))}function Ye(e,t,r){if(e.tag===3)Yu(e,e,r);else for(;t!==null;){if(t.tag===3){Yu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zr===null||!zr.has(n))){e=In(r,e),e=hu(t,e,1),t=Or(t,e,1),e=Et(),t!==null&&($n(t,1,e),Pt(t,e));break}}t=t.return}}function af(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(xt&r)===r&&(ut===4||ut===3&&(xt&130023424)===xt&&500>Ke()-ni?tn(e,0):ri|=r),Pt(e,t)}function Ku(e,t){t===0&&((e.mode&1)===0?t=1:(t=ks,ks<<=1,(ks&130023424)===0&&(ks=4194304)));var r=Et();e=xr(e,t),e!==null&&($n(e,t,r),Pt(e,r))}function uf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ku(e,r)}function df(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}n!==null&&n.delete(t),Ku(e,r)}var Zu;Zu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)_t=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return _t=!1,Yc(e,t,r);_t=(e.flags&131072)!==0}else _t=!1,Ge&&(t.flags&1048576)!==0&&_a(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;uo(e,t),e=t.pendingProps;var o=Sn(t,yt.current);En(t,r),o=Al(null,t,n,e,o,r);var l=Ll();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(n)?(l=!0,Vs(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,El(t),o.updater=io,t.stateNode=o,o._reactInternals=t,Hl(t,n,e,r),t=Vl(null,t,n,!0,l,r)):(t.tag=0,Ge&&l&&xl(t),kt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(uo(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=ff(n),e=nr(n,e),o){case 0:t=Wl(null,t,n,e,r);break e;case 1:t=Nu(null,t,n,e,r);break e;case 11:t=vu(null,t,n,e,r);break e;case 14:t=wu(null,t,n,nr(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:nr(n,o),Wl(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:nr(n,o),Nu(e,t,n,o,r);case 3:e:{if(bu(t),e===null)throw Error(a(387));n=t.pendingProps,l=t.memoizedState,o=l.element,$a(e,t),eo(t,n,null,r);var u=t.memoizedState;if(n=u.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=In(Error(a(423)),t),t=ku(e,t,n,r,o);break e}else if(n!==o){o=In(Error(a(424)),t),t=ku(e,t,n,r,o);break e}else for(Ft=_r(t.stateNode.containerInfo.firstChild),zt=t,Ge=!0,rr=null,r=za(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nn(),n===o){t=vr(e,t,r);break e}kt(e,t,n,r)}t=t.child}return t;case 5:return Ua(t),e===null&&wl(t),n=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,u=o.children,cl(n,o)?u=null:l!==null&&cl(n,l)&&(t.flags|=32),Cu(e,t),kt(e,t,u,r),t.child;case 6:return e===null&&wl(t),null;case 13:return Eu(e,t,r);case 4:return Tl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bn(t,null,n,r):kt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:nr(n,o),vu(e,t,n,o,r);case 7:return kt(e,t,t.pendingProps,r),t.child;case 8:return kt(e,t,t.pendingProps.children,r),t.child;case 12:return kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,l=t.memoizedProps,u=o.value,He(Ks,n._currentValue),n._currentValue=u,l!==null)if(tr(l.value,u)){if(l.children===o.children&&!It.current){t=vr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var w=l.dependencies;if(w!==null){u=l.child;for(var b=w.firstContext;b!==null;){if(b.context===n){if(l.tag===1){b=yr(-1,r&-r),b.tag=2;var R=l.updateQueue;if(R!==null){R=R.shared;var Q=R.pending;Q===null?b.next=b:(b.next=Q.next,Q.next=b),R.pending=b}}l.lanes|=r,b=l.alternate,b!==null&&(b.lanes|=r),bl(l.return,r,t),w.lanes|=r;break}b=b.next}}else if(l.tag===10)u=l.type===t.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(a(341));u.lanes|=r,w=u.alternate,w!==null&&(w.lanes|=r),bl(u,r,t),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}kt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,En(t,r),o=Qt(o),n=n(o),t.flags|=1,kt(e,t,n,r),t.child;case 14:return n=t.type,o=nr(n,t.pendingProps),o=nr(n.type,o),wu(e,t,n,o,r);case 15:return Su(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:nr(n,o),uo(e,t),t.tag=1,Dt(n)?(e=!0,Vs(t)):e=!1,En(t,r),fu(t,n,o),Hl(t,n,o,r),Vl(null,t,n,!0,e,r);case 19:return Iu(e,t,r);case 22:return ju(e,t,r)}throw Error(a(156,t.tag))};function Ju(e,t){return Mi(e,t)}function cf(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,r,n){return new cf(e,t,r,n)}function ci(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ff(e){if(typeof e=="function")return ci(e)?1:0;if(e!=null){if(e=e.$$typeof,e===te)return 11;if(e===pe)return 14}return 2}function Br(e,t){var r=e.alternate;return r===null?(r=Kt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function So(e,t,r,n,o,l){var u=2;if(n=e,typeof e=="function")ci(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case E:return nn(r.children,o,l,t);case U:u=8,o|=8;break;case O:return e=Kt(12,r,t,o|2),e.elementType=O,e.lanes=l,e;case ee:return e=Kt(13,r,t,o),e.elementType=ee,e.lanes=l,e;case de:return e=Kt(19,r,t,o),e.elementType=de,e.lanes=l,e;case se:return jo(r,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:u=10;break e;case H:u=9;break e;case te:u=11;break e;case pe:u=14;break e;case K:u=16,n=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Kt(u,r,t,o),t.elementType=e,t.type=n,t.lanes=l,t}function nn(e,t,r,n){return e=Kt(7,e,n,t),e.lanes=r,e}function jo(e,t,r,n){return e=Kt(22,e,n,t),e.elementType=se,e.lanes=r,e.stateNode={isHidden:!1},e}function fi(e,t,r){return e=Kt(6,e,null,t),e.lanes=r,e}function pi(e,t,r){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pf(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function mi(e,t,r,n,o,l,u,w,b){return e=new pf(e,t,r,w,b),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Kt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(l),e}function mf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ed(e){if(!e)return Pr;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(Dt(r))return Ta(e,r,t)}return t}function td(e,t,r,n,o,l,u,w,b){return e=mi(r,n,!0,e,o,l,u,w,b),e.context=ed(null),r=e.current,n=Et(),o=$r(r),l=yr(n,o),l.callback=t??null,Or(r,l,o),e.current.lanes=o,$n(e,o,n),Pt(e,n),e}function Co(e,t,r,n){var o=t.current,l=Et(),u=$r(o);return r=ed(r),t.context===null?t.context=r:t.pendingContext=r,t=yr(l,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Or(o,t,u),e!==null&&(lr(e,o,u,l),Js(e,o,u)),u}function No(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hi(e,t){rd(e,t),(e=e.alternate)&&rd(e,t)}function hf(){return null}var nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function gi(e){this._internalRoot=e}bo.prototype.render=gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Co(e,t,null,null)},bo.prototype.unmount=gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){Co(null,e,null,null)}),t[pr]=null}};function bo(e){this._internalRoot=e}bo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$i();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tr.length&&t!==0&&t<Tr[r].priority;r++);Tr.splice(r,0,e),r===0&&Ui(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function gf(e,t,r,n,o){if(o){if(typeof n=="function"){var l=n;n=function(){var R=No(u);l.call(R)}}var u=td(t,n,e,0,null,!1,!1,"",sd);return e._reactRootContainer=u,e[pr]=u.current,es(e.nodeType===8?e.parentNode:e),en(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var w=n;n=function(){var R=No(b);w.call(R)}}var b=mi(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=b,e[pr]=b.current,es(e.nodeType===8?e.parentNode:e),en(function(){Co(t,b,r,n)}),b}function Eo(e,t,r,n,o){var l=r._reactRootContainer;if(l){var u=l;if(typeof o=="function"){var w=o;o=function(){var b=No(u);w.call(b)}}Co(t,u,e,o)}else u=gf(r,t,e,o,n);return No(u)}zi=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fn(t.pendingLanes);r!==0&&(Ho(t,r|1),Pt(t,Ke()),(Le&6)===0&&(Mn=Ke()+500,Ar()))}break;case 13:en(function(){var n=xr(e,1);if(n!==null){var o=Et();lr(n,e,1,o)}}),hi(e,1)}},Bo=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var r=Et();lr(t,e,134217728,r)}hi(e,134217728)}},Fi=function(e){if(e.tag===13){var t=$r(e),r=xr(e,t);if(r!==null){var n=Et();lr(r,e,t,n)}hi(e,t)}},$i=function(){return Fe},Hi=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}},Tt=function(e,t,r){switch(t){case"input":if(Y(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Us(n);if(!o)throw Error(a(90));q(n),Y(n,o)}}}break;case"textarea":we(e,r);break;case"select":t=r.value,t!=null&&Te(e,!!r.multiple,t,!1)}},Ut=ai,js=en;var xf={usingClientEntryPoint:!1,Events:[ns,vn,Us,un,Cr,ai]},xs={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yf={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Di(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||hf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Ns=To.inject(yf),ir=To}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xf,At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(t))throw Error(a(200));return mf(e,t,null,r)},At.createRoot=function(e,t){if(!xi(e))throw Error(a(299));var r=!1,n="",o=nd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=mi(e,1,!1,null,null,r,!1,n,o),e[pr]=t.current,es(e.nodeType===8?e.parentNode:e),new gi(t)},At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Di(t),e=e===null?null:e.stateNode,e},At.flushSync=function(e){return en(e)},At.hydrate=function(e,t,r){if(!ko(t))throw Error(a(200));return Eo(null,e,t,!0,r)},At.hydrateRoot=function(e,t,r){if(!xi(e))throw Error(a(405));var n=r!=null&&r.hydratedSources||null,o=!1,l="",u=nd;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=td(t,null,e,1,r??null,o,!1,l,u),e[pr]=t.current,es(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new bo(t)},At.render=function(e,t,r){if(!ko(t))throw Error(a(200));return Eo(null,e,t,!1,r)},At.unmountComponentAtNode=function(e){if(!ko(e))throw Error(a(40));return e._reactRootContainer?(en(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1},At.unstable_batchedUpdates=ai,At.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ko(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Eo(e,t,r,!1,n)},At.version="18.3.1-next-f1338f8080-20240426",At}var fd;function Cd(){if(fd)return wi.exports;fd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),wi.exports=kf(),wi.exports}var pd;function Ef(){if(pd)return Io;pd=1;var i=Cd();return Io.createRoot=i.createRoot,Io.hydrateRoot=i.hydrateRoot,Io}var Tf=Ef();const If=jd(Tf);var Lt=(i=>(i.ProfessorConflitoHorario="professor_conflito_horario",i.MaxAulasDia="max_aulas_dia",i.Intersticio="intersticio",i.Indisponivel="indisponivel",i.ConflitoDisponibilidadeDivisao="conflito_disponibilidade_divisao",i.TurmaErrada="turma_errada",i))(Lt||{});const _e=["segunda","terca","quarta","quinta","sexta"],st=["07:10-08:00","08:00-08:50","08:50-09:40","10:00-10:50","10:50-11:40","11:40-12:30"],ot=["13:30-14:20","14:20-15:10","15:10-16:00","16:20-17:10","17:10-18:00","18:00-18:50"],Sr=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],On=["18:10-19:00","19:00-19:50","19:50-20:50","21:05-21:55","21:55-23:00"],Ci="grade_v1_data",sn={[Lt.ProfessorConflitoHorario]:{bg:"bg-pink-600",text:"text-white",name:"Conflito de Horrio (Professor)",description:"Alerta Crtico: Professor alocado em mltiplas turmas no mesmo horrio."},[Lt.TurmaErrada]:{bg:"bg-blue-500",text:"text-white",name:"Troca entre Turmas",description:"Disciplina alocada em uma turma diferente da original (e no  uma troca BNCC vlida)."},[Lt.Intersticio]:{bg:"bg-red-600",text:"text-white",name:"Interstcio < 11h",description:"Menos de 11 horas de descanso entre os dias de trabalho."},[Lt.MaxAulasDia]:{bg:"bg-orange-400",text:"text-white",name:"Excesso de Aulas",description:"Professor com mais de 8 aulas no dia."},[Lt.ConflitoDisponibilidadeDivisao]:{bg:"bg-purple-500",text:"text-white",name:"Conflito Diviso",description:"Professores de disciplina dividida com disponibilidades conflitantes no mesmo horrio."},[Lt.Indisponivel]:{bg:"bg-yellow-400",text:"text-gray-800",name:"Fora de Disponibilidade",description:"Aula alocada em horrio indisponvel para o professor."}},bi=i=>{const[d,a]=i.split("-"),[p,c]=d.split(":").map(Number),[m,f]=a.split(":").map(Number);return{start:p*60+c,end:m*60+f}},Po=i=>{const d=[],{professores:a,grade:p,disciplinas:c,atribuicoes:m,turmas:f}=i,v={};p.forEach(y=>{const g=`${y.professorId}-${y.dia}-${y.horario}`;v[g]||(v[g]=[]),v[g].push(y)});for(const y in v)if(v[y].length>1){const g=v[y],j=a.find(C=>C.id===g[0].professorId),S=g[0].dia,N=g[0].horario;d.push({id:`conflito-horario-${y}`,tipo:Lt.ProfessorConflitoHorario,detalhes:`Alerta Crtico: Professor ${j?.nome||"Desconhecido"} est em ${g.length} lugares ao mesmo tempo na ${S} s ${N}.`,timestamp:Date.now(),gradeSlotIds:g.map(C=>C.id)})}return p.forEach(y=>{const g=i.disciplinas.find(j=>j.id===y.disciplinaId);if(g&&g.turmaId!==y.turmaId){let j=!1;if(g.bnccId){const S=i.disciplinas.find(N=>N.turmaId===y.turmaId&&N.bnccId===g.bnccId);if(S){const N=i.atribuicoes.find(C=>C.disciplinaId===S.id);N&&N.professores.includes(y.professorId)&&(j=!0)}}if(!j){const S=i.turmas.find(C=>C.id===g.turmaId)?.nome||`ID Invlido (${g.turmaId})`,N=i.turmas.find(C=>C.id===y.turmaId)?.nome||`ID Invlido (${y.turmaId})`;d.push({id:`turma-errada-${y.id}`,tipo:Lt.TurmaErrada,detalhes:`Disciplina ${g.nome} da turma ${S} foi alocada na turma ${N}.`,timestamp:Date.now(),gradeSlotIds:[y.id]})}}}),a.forEach(y=>{const g=p.filter(S=>S.professorId===y.id),j={};g.forEach(S=>{const{start:N,end:C}=bi(S.horario);j[S.dia]?(j[S.dia].minStart=Math.min(j[S.dia].minStart,N),j[S.dia].maxEnd=Math.max(j[S.dia].maxEnd,C)):j[S.dia]={minStart:N,maxEnd:C}});for(let S=0;S<_e.length-1;S++){const N=_e[S],C=_e[S+1];if(j[N]&&j[C]){const A=j[N].maxEnd,B=j[C].minStart;if(1440-A+B<660){const I=g.filter(h=>h.dia===N||h.dia===C).map(h=>h.id);d.push({id:`intersticio-${y.id}-${N}-${C}`,tipo:Lt.Intersticio,detalhes:`Professor ${y.nome} tem menos de 11h de descanso entre ${N} e ${C}.`,timestamp:Date.now(),gradeSlotIds:I})}}}}),a.forEach(y=>{const g={};p.filter(j=>j.professorId===y.id).forEach(j=>{g[j.dia]||(g[j.dia]=[]),g[j.dia].push(j)});for(const j in g){const S=g[j].reduce((N,C)=>{const B=f.find(W=>W.id===C.turmaId)?.isModular?1.25:1;return N+B},0);S>8&&d.push({id:`max-aulas-${y.id}-${j}`,tipo:Lt.MaxAulasDia,detalhes:`Professor ${y.nome} tem o equivalente a ${S} aulas na ${j}.`,timestamp:Date.now(),gradeSlotIds:g[j].map(N=>N.id)})}}),p.forEach(y=>{const g=c.find(j=>j.id===y.disciplinaId);if(g&&g.divisao){const j=m.find(S=>S.disciplinaId===g.id);j&&j.professores.length>1&&j.professores.forEach(S=>{const N=a.find(C=>C.id===S);if(N){const C=N.disponibilidade[y.dia];(!C||!C.includes(y.horario))&&d.push({id:`conflito-divisao-${y.id}-${S}`,tipo:Lt.ConflitoDisponibilidadeDivisao,detalhes:`Conflito em disciplina dividida: ${g.nome}. Professor ${N.nome} est indisponvel neste horrio.`,timestamp:Date.now(),gradeSlotIds:[y.id]})}})}}),p.forEach(y=>{const g=a.find(j=>j.id===y.professorId);if(g){const j=g.disponibilidade[y.dia];(!j||!j.includes(y.horario))&&d.push({id:`indisponivel-${y.id}`,tipo:Lt.Indisponivel,detalhes:`Aula de ${c.find(S=>S.id===y.disciplinaId)?.nome} para ${g.nome} est fora de sua disponibilidade.`,timestamp:Date.now(),gradeSlotIds:[y.id]})}}),Array.from(new Map(d.map(y=>[y.id,y])).values())};let Df=null;const Nd=F.createContext(void 0),Ln={version:"1.0",ano:new Date().getFullYear(),cursos:[],turmas:[],disciplinas:[],professores:[],atribuicoes:[],grade:[],alertas:[],bncc:[],toastMessage:null,draggedItem:null,clipboard:null,selectedSlotId:null,onlineUsers:[],saveStatus:"saved",lastModifiedBy:null,lastModifiedAt:null};let Zt=[Ln],Ht=0;const Do=i=>{const d=i.split("_"),a=d[0]||"",p=d[1]||"";let c=d.slice(2).join("_");const m=c.match(/(.*)-([01])$/);return m&&(c=m[1]),{turmaId:a,dia:p,horario:c}},bd=i=>{const d={...Ln,...i};(typeof d.ano!="number"||isNaN(d.ano))&&(d.ano=new Date().getFullYear()),["cursos","turmas","disciplinas","professores","atribuicoes","grade","alertas","bncc","onlineUsers"].forEach(c=>{Array.isArray(d[c])||(d[c]=[])}),Array.isArray(d.turmas)&&(d.turmas=d.turmas.map(c=>c?{...c,isModular:!!c.isModular}:null).filter(Boolean)),Array.isArray(d.professores)&&(d.professores=d.professores.map(c=>c&&(typeof c.disponibilidade!="object"||c.disponibilidade===null||Array.isArray(c.disponibilidade))?{...c,disponibilidade:{}}:c).filter(Boolean)),Array.isArray(d.grade)&&(d.grade=d.grade.filter(c=>!c||typeof c!="object"?!1:["id","turmaId","dia","horario","disciplinaId","professorId"].every(f=>typeof c[f]=="string"&&c[f])));const p=new Set(d.turmas.map(c=>c.id));return d.grade=d.grade.filter(c=>p.has(c.turmaId)?!0:(console.warn(`Removing orphaned grade slot with invalid turmaId: ${c.turmaId}`,c),!1)),d},ki={current:new Map},be=(i,d)=>{ki.current.set(i,d)},_f=(i,d)=>{switch(d.type){case"SET_STATE":return i;case"UPDATE_GRADE":{const{id:a,slot:p}=d.payload,c=i.grade.filter(m=>m.id!==a);return p&&c.push(p),be("grade",c),{...i,grade:c}}case"POPULATE_GRADE":return be("grade",d.payload),{...i,grade:d.payload};case"DELETE_SLOT":{const{slotId:a}=d.payload;if(!i.grade.some(m=>m.id===a))return i;const c=i.grade.filter(m=>m.id!==a);return be("grade",c),{...i,grade:c,selectedSlotId:null}}case"SWAP_GRADE_SLOTS":{const{sourceId:a,destinationId:p}=d.payload,c=i.grade.find(g=>g.id===a);if(!c)return i;const m=i.grade.find(g=>g.id===p),f=Do(a),v=Do(p),x=i.grade.filter(g=>g.id!==a&&g.id!==p),y={...c,id:p,turmaId:v.turmaId,dia:v.dia,horario:v.horario};if(x.push(y),m){const g={...m,id:a,turmaId:f.turmaId,dia:f.dia,horario:f.horario};x.push(g)}return be("grade",x),{...i,grade:x}}case"ADD_CURSO":{const a=[...i.cursos,d.payload];return be("cursos",a),{...i,cursos:a}}case"UPDATE_CURSO":{const a=i.cursos.map(p=>p.id===d.payload.id?d.payload:p);return be("cursos",a),{...i,cursos:a}}case"DELETE_CURSO":{const a=i.turmas.filter(y=>y.cursoId===d.payload.id).map(y=>y.id),p=i.disciplinas.filter(y=>a.includes(y.turmaId)).map(y=>y.id),c=i.cursos.filter(y=>y.id!==d.payload.id),m=i.turmas.filter(y=>y.cursoId!==d.payload.id),f=i.disciplinas.filter(y=>!a.includes(y.turmaId)),v=i.atribuicoes.filter(y=>!p.includes(y.disciplinaId)),x=i.grade.filter(y=>!a.includes(y.turmaId));return be("cursos",c),be("turmas",m),be("disciplinas",f),be("atribuicoes",v),be("grade",x),{...i,cursos:c,turmas:m,disciplinas:f,atribuicoes:v,grade:x}}case"ADD_TURMA":{const a=[...i.turmas,d.payload];return be("turmas",a),{...i,turmas:a}}case"UPDATE_TURMA":{const a=i.turmas.map(p=>p.id===d.payload.id?d.payload:p);return be("turmas",a),{...i,turmas:a}}case"DELETE_TURMA":{const a=i.disciplinas.filter(v=>v.turmaId===d.payload.id).map(v=>v.id),p=i.turmas.filter(v=>v.id!==d.payload.id),c=i.disciplinas.filter(v=>v.turmaId!==d.payload.id),m=i.atribuicoes.filter(v=>!a.includes(v.disciplinaId)),f=i.grade.filter(v=>v.turmaId!==d.payload.id);return be("turmas",p),be("disciplinas",c),be("atribuicoes",m),be("grade",f),{...i,turmas:p,disciplinas:c,atribuicoes:m,grade:f}}case"ADD_DISCIPLINA":{const a=[...i.disciplinas,d.payload];return be("disciplinas",a),{...i,disciplinas:a}}case"UPDATE_DISCIPLINA":{const a=i.disciplinas.map(p=>p.id===d.payload.id?d.payload:p);return be("disciplinas",a),{...i,disciplinas:a}}case"DELETE_DISCIPLINA":{const a=i.disciplinas.filter(m=>m.id!==d.payload.id),p=i.atribuicoes.filter(m=>m.disciplinaId!==d.payload.id),c=i.grade.filter(m=>m.disciplinaId!==d.payload.id);return be("disciplinas",a),be("atribuicoes",p),be("grade",c),{...i,disciplinas:a,atribuicoes:p,grade:c}}case"ADD_PROFESSOR":{const a=[...i.professores,d.payload];return be("professores",a),{...i,professores:a}}case"UPDATE_PROFESSOR":{const a=i.professores.map(p=>p.id===d.payload.id?d.payload:p);return be("professores",a),{...i,professores:a}}case"BATCH_UPDATE_PROFESSORS":{const a=new Map(d.payload.professors.map(c=>[c.id,c])),p=i.professores.map(c=>a.get(c.id)||c);return be("professores",p),{...i,professores:p}}case"DELETE_PROFESSOR":{const a=i.professores.filter(m=>m.id!==d.payload.id),p=i.atribuicoes.map(m=>({...m,professores:m.professores.filter(f=>f!==d.payload.id)})),c=i.grade.filter(m=>m.professorId!==d.payload.id);return be("professores",a),be("atribuicoes",p),be("grade",c),{...i,professores:a,atribuicoes:p,grade:c}}case"UPDATE_ATRIBUICAO":{let a;return i.atribuicoes.find(c=>c.disciplinaId===d.payload.disciplinaId)?a=i.atribuicoes.map(c=>c.disciplinaId===d.payload.disciplinaId?d.payload:c):a=[...i.atribuicoes,d.payload],be("atribuicoes",a),{...i,atribuicoes:a}}case"DELETE_ATRIBUICAO":{const a=i.atribuicoes.filter(p=>p.disciplinaId!==d.payload.disciplinaId);return be("atribuicoes",a),{...i,atribuicoes:a}}case"UPDATE_ANO":return be("ano",d.payload),{...i,ano:d.payload};case"SET_ALERTS":return{...i,alertas:d.payload};case"COPY_SLOT":{const{sourceSlotId:a}=d.payload,p=i.grade.find(c=>c.id===a);return p?{...i,clipboard:{sourceSlot:p,type:"copy"},draggedItem:null}:i}case"CUT_SLOT":{const{sourceSlotId:a}=d.payload,p=i.grade.find(m=>m.id===a);if(!p)return i;const c=i.grade.filter(m=>m.id!==a);return be("grade",c),{...i,grade:c,clipboard:{sourceSlot:p,type:"cut"},draggedItem:null,selectedSlotId:null}}case"PASTE_SLOT":{const{destinationId:a}=d.payload,{clipboard:p,disciplinas:c}=i;if(!p)return i;const{sourceSlot:m}=p,f=Do(a),x=!!c.find(C=>C.id===m.disciplinaId)?.divisao,y=x?a:`${f.turmaId}_${f.dia}_${f.horario}`,g={...m,id:y,turmaId:f.turmaId,dia:f.dia,horario:f.horario},j=!x,N=[...i.grade.filter(C=>{const A=Do(C.id);return A.turmaId===f.turmaId&&A.dia===f.dia&&A.horario===f.horario?j?!1:!(!(C.id.endsWith("-0")||C.id.endsWith("-1"))||C.id===a):!0}),g];return be("grade",N),{...i,grade:N,clipboard:p.type==="cut"?null:i.clipboard}}case"CREATE_BNCC":{const{nome:a}=d.payload,p=`bncc-${Date.now()}`,c={id:p,nome:a},m=i.disciplinas.map(f=>f.nome===a?{...f,bnccId:p}:f);return be("disciplinas",m),be("bncc",[...i.bncc,c]),{...i,disciplinas:m,bncc:[...i.bncc,c]}}case"DELETE_BNCC":{const{bnccId:a}=d.payload,p=i.disciplinas.map(m=>{if(m.bnccId===a){const{bnccId:f,...v}=m;return v}return m}),c=i.bncc.filter(m=>m.id!==a);return be("disciplinas",p),be("bncc",c),{...i,disciplinas:p,bncc:c}}}return i},Mf=(i,d)=>{if(d.type==="SHOW_TOAST")return{...i,toastMessage:d.payload};if(d.type==="DRAG_START")return{...i,draggedItem:d.payload,clipboard:null,selectedSlotId:null};if(d.type==="DRAG_END")return{...i,draggedItem:null};if(d.type==="SELECT_SLOT")return{...i,selectedSlotId:d.payload.slotId};if(d.type==="SET_ONLINE_USERS")return{...i,onlineUsers:d.payload};if(d.type==="SET_SAVE_STATUS")return{...i,saveStatus:d.payload};if(d.type==="CLEAR_DATA"){const{toastMessage:p,draggedItem:c,clipboard:m,selectedSlotId:f,onlineUsers:v,saveStatus:x,...y}=Ln;Object.keys(y).forEach(j=>{be(j,y[j])});const g={...Ln,alertas:Po(Ln)};return Zt=[g],Ht=0,g}let a;if(d.type==="UNDO"){Ht>0&&Ht--;const{alertas:p,toastMessage:c,draggedItem:m,clipboard:f,selectedSlotId:v,onlineUsers:x,saveStatus:y,...g}=Zt[Ht];return Object.keys(g).forEach(j=>{be(j,g[j])}),Zt[Ht]}if(d.type==="REDO"){Ht<Zt.length-1&&Ht++;const{alertas:p,toastMessage:c,draggedItem:m,clipboard:f,selectedSlotId:v,onlineUsers:x,saveStatus:y,...g}=Zt[Ht];return Object.keys(g).forEach(j=>{be(j,g[j])}),Zt[Ht]}if(d.type==="SET_STATE"){a=bd(d.payload),a.alertas=Po(a),a.saveStatus="saved";const{alertas:p,toastMessage:c,draggedItem:m,clipboard:f,selectedSlotId:v,onlineUsers:x,saveStatus:y,...g}=a;Object.keys(g).forEach(j=>{be(j,g[j])})}else a=_f(i,d);if(a!==i){const p={...a,toastMessage:i.toastMessage,draggedItem:i.draggedItem,selectedSlotId:i.selectedSlotId,onlineUsers:i.onlineUsers,saveStatus:i.saveStatus,lastModifiedBy:i.lastModifiedBy,lastModifiedAt:i.lastModifiedAt};return d.type!=="SET_STATE"&&(p.lastModifiedBy="Usurio Local",p.lastModifiedAt=new Date().toISOString(),be("lastModifiedBy",p.lastModifiedBy),be("lastModifiedAt",p.lastModifiedAt)),d.type==="SET_STATE"||d.type==="POPULATE_GRADE"?(Zt=[p],Ht=0):d.type!=="SET_ALERTS"&&(Zt=Zt.slice(0,Ht+1),Zt.push(p),Ht=Zt.length-1),p}return i},Pf=({children:i})=>{const[d,a]=F.useReducer(Mf,Ln,f=>{let v=f;try{const y=localStorage.getItem(Ci);y&&(v=bd(JSON.parse(y)))}catch(y){console.error("Failed to load state from localStorage",y)}const x={...v,alertas:Po(v)};return Zt=[x],Ht=0,x}),p=F.useRef(!1);F.useRef(!1),F.useEffect(()=>{},[d.lastModifiedAt]),F.useEffect(()=>{},[]),F.useEffect(()=>{const f=setTimeout(()=>{const v=ki.current;if(v.size===0||p.current){p.current&&(p.current=!1);return}ki.current=new Map,a({type:"SET_SAVE_STATUS",payload:"saving"});try{const x=localStorage.getItem(Ci),y=x?JSON.parse(x):{};v.forEach((g,j)=>{y[j]=g}),localStorage.setItem(Ci,JSON.stringify(y)),a({type:"SET_SAVE_STATUS",payload:"saved"})}catch(x){console.error("Error writing to localStorage: ",x),a({type:"SHOW_TOAST",payload:"Falha ao salvar dados localmente."}),a({type:"SET_SAVE_STATUS",payload:"error"})}},1e3);return()=>clearTimeout(f)},[d]);const c=JSON.stringify({grade:d.grade,professores:d.professores,disciplinas:d.disciplinas,atribuicoes:d.atribuicoes,turmas:d.turmas});F.useEffect(()=>{const f=setTimeout(()=>{const v={...d,...JSON.parse(c)},x=Po(v);JSON.stringify(x)!==JSON.stringify(d.alertas)&&a({type:"SET_ALERTS",payload:x})},300);return()=>clearTimeout(f)},[c]);const m=F.useCallback(f=>{f.ctrlKey&&f.key==="z"&&(f.preventDefault(),a({type:"UNDO"})),f.ctrlKey&&f.key==="y"&&(f.preventDefault(),a({type:"REDO"}))},[]);return F.useEffect(()=>(window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)}),[m]),s.jsx(Nd.Provider,{value:{state:d,dispatch:a},children:i})},lt=()=>{const i=F.useContext(Nd);if(!i)throw new Error("useData must be used within a DataProvider");return i},kd=({children:i,content:d,isVisible:a,onVisibilityChange:p})=>d?s.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[i,a&&s.jsx("div",{className:"absolute z-50 bottom-full mb-2 w-64 p-2 text-sm text-white bg-gray-800 rounded-md shadow-lg",children:d})]}):s.jsx(s.Fragment,{children:i}),Af=i=>st.includes(i)?"manha":ot.includes(i)?"tarde":"noite",md=on.memo(({baseId:i,subSlotIndex:d,slot:a,isOutOfPeriod:p,alerts:c,onOpenContextMenu:m,onSelectSlot:f,isSelected:v,hoveredProfessorId:x,onProfessorHover:y,highlightStatus:g,onDragStart:j,onDragEnd:S,disciplina:N,professor:C,scaledCellFontSize:A})=>{const[B,W]=F.useState(!1),I=`${i}-${d}`,h=ee=>{ee.stopPropagation(),f(I)},D=ee=>{ee.stopPropagation(),m(ee,I)},z=c.find(ee=>ee.gradeSlotIds.includes(I))??(c.length>0&&a?c[0]:null),_=ee=>ee==="valid"?"bg-green-200":ee==="warning"?"bg-yellow-200":"";let E=p?"bg-slate-200":"bg-white";g&&!a&&(E=_(g)),v&&(E="bg-indigo-50"),z&&(E=sn[z.tipo].bg);const U=v?"ring ring-indigo-500 z-10":"",O=x&&a&&a.professorId===x&&!v,P=x&&a&&a.professorId!==x,H=a&&N&&C?s.jsxs("div",{className:"p-1 text-left w-full h-full overflow-hidden",style:{fontSize:`${A}px`},children:[s.jsx("p",{className:"font-bold truncate",children:N.nome}),s.jsx("p",{className:"text-gray-600 truncate",children:C.nome})]}):s.jsx("div",{className:"w-full h-full"}),te=c.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-1",children:"Alertas:"}),s.jsx("ul",{className:"list-disc list-inside text-xs",children:c.map(ee=>s.jsx("li",{children:ee.detalhes},ee.id))})]}):null;return s.jsx("div",{title:a&&N&&C?`Disciplina: ${N.nome}
Professor: ${C.nome}`:void 0,draggable:!!a,onDragStart:ee=>a&&j(ee,a.id),onDragEnd:S,onClick:h,onContextMenu:D,onMouseEnter:()=>{a&&y(a.professorId)},className:`relative h-1/2 transition-all duration-150 ${E} ${U} ${a?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${O?"ring-2 ring-slate-700 z-20":""} ${P?"opacity-40":""}`,children:s.jsx(kd,{content:te,isVisible:B,onVisibilityChange:W,children:H})})}),Lf=({id:i,gridType:d,turma:a,fullSlot:p,slot0:c,slot1:m,isLastInCourse:f,cellAlerts:v,subCellAlerts0:x,subCellAlerts1:y,onOpenContextMenu:g,onSelectSlot:j,selectedSlotId:S,hoveredProfessorId:N,onProfessorHover:C,highlightStatus:A,subSlotHighlightStatus:B,scaledCellMinHeight:W,scaledCellFontSize:I})=>{const{state:h,dispatch:D}=lt(),{disciplinas:z,draggedItem:_,clipboard:E,turmas:U,grade:O}=h,[P,H]=F.useState(!1),[te,ee]=F.useState(!1),de=i.split("_").slice(2).join("_"),pe=Af(de),K=a&&a.periodo!==pe,se="border-b border-gray-300",V=f?"border-r-2 border-r-slate-400":"border-r border-gray-300";if(d==="modular"&&de==="18:10-19:00")return s.jsx("div",{className:`relative ${V} ${se} bg-gray-200`,style:{minHeight:`${W}px`,backgroundImage:"repeating-linear-gradient(45deg, #d1d5db, #d1d5db 10px, #e5e7eb 10px, #e5e7eb 20px)"},title:"Horrio no disponvel para aulas modulares"});const J=()=>{if(!_)return null;const ie=_.type==="SIDEBAR_ITEM"?_.disciplinaId:O.find(Y=>Y.id===_.sourceSlotId)?.disciplinaId;return z.find(Y=>Y.id===ie)||null},T=(ie,Y)=>{ie.stopPropagation(),ee(!1);const ce={type:"GRID_ITEM",sourceSlotId:Y};ie.dataTransfer.setData("application/json",JSON.stringify(ce)),ie.dataTransfer.effectAllowed="move",D({type:"DRAG_START",payload:ce})},$=()=>{D({type:"DRAG_END"})},je=ie=>{if(ie.preventDefault(),!_){ie.dataTransfer.dropEffect="none";return}const Y=J();if(!Y){ie.dataTransfer.dropEffect="none",H(!1);return}let ce=!1;if(Y.divisao){const Re=c||m;(_.type==="GRID_ITEM"&&Re||!c||!m)&&(ce=!0)}else(!p&&!c&&!m||_.type==="GRID_ITEM"&&p)&&(ce=!0);ce?(H(!0),ie.dataTransfer.dropEffect="move"):(H(!1),ie.dataTransfer.dropEffect="none")},me=()=>{H(!1)},xe=ie=>{if(ie.preventDefault(),ie.stopPropagation(),H(!1),!!_)try{const Y=J();if(!Y)return;const ce=U.find(Te=>Te.id===Y.turmaId),Re=a;if(ce&&Re&&ce.isModular!==Re.isModular){D({type:"SHOW_TOAST",payload:"No  permitido mover aulas entre a grade regular e a modular."});return}let ye;if(Y.divisao){const Te=ie.currentTarget.getBoundingClientRect(),it=ie.clientY<Te.top+Te.height/2,Je=`${i}-${it?0:1}`,we=`${i}-${it?1:0}`;h.grade.find(Ne=>Ne.id===Je)&&_.sourceSlotId!==Je?ye=h.grade.find(ve=>ve.id===we)?Je:we:ye=Je}else if(p||c||m)if(p&&_.type==="GRID_ITEM")ye=i;else return;else ye=i;if(_.type==="GRID_ITEM"&&_.sourceSlotId===ye)return;if(_.type==="SIDEBAR_ITEM"){const{disciplinaId:Te,professorId:it}=_;if(Te&&it){if(!ye)return;const Je=ye.split("_"),we=Je[1];let Pe=Je.slice(2).join("_");const Ne=Pe.match(/(.*)-([01])$/);Ne&&(Pe=Ne[1]),D({type:"UPDATE_GRADE",payload:{id:ye,slot:{id:ye,turmaId:a.id,dia:we,horario:Pe,disciplinaId:Te,professorId:it}}})}}else if(_.type==="GRID_ITEM"&&_.sourceSlotId){if(!ye)return;D({type:"SWAP_GRADE_SLOTS",payload:{sourceId:_.sourceSlotId,destinationId:ye}})}}catch(Y){console.error("Error handling drop in GridCell:",Y)}finally{D({type:"DRAG_END"})}},Ie=ie=>{ie.stopPropagation();const ce=!!z.find(ye=>ye.id===E?.sourceSlot.disciplinaId)?.divisao;let Re=i;if(!p&&!c&&!m&&ce){const ye=ie.currentTarget.getBoundingClientRect(),Te=ie.clientY<ye.top+ye.height/2;Re=`${i}-${Te?0:1}`}j(Re)},Ae=ie=>{ie.preventDefault(),ie.stopPropagation();const ce=!!z.find(ye=>ye.id===E?.sourceSlot.disciplinaId)?.divisao;let Re=i;if(!p&&!c&&!m&&ce){const ye=ie.currentTarget.getBoundingClientRect(),Te=ie.clientY<ye.top+ye.height/2;Re=`${i}-${Te?0:1}`}g(ie,Re)},ke=S===i,ze=ie=>ie==="valid"?"bg-green-200":ie==="warning"?"bg-yellow-200":"";if(p){const ie=h.disciplinas.find(Ne=>Ne.id===p.disciplinaId),Y=h.professores.find(Ne=>Ne.id===p.professorId),ce=v[0],Re=ie&&Y?s.jsxs("div",{className:"p-1 text-left w-full h-full",style:{fontSize:`${I}px`},children:[s.jsx("p",{className:"font-bold truncate",children:ie.nome}),s.jsx("p",{className:"text-gray-600 truncate",children:Y.nome})]}):s.jsx("div",{className:"w-full h-full"}),ye=v.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-1",children:"Alertas:"}),s.jsx("ul",{className:"list-disc list-inside text-xs",children:v.map(Ne=>s.jsx("li",{children:Ne.detalhes},Ne.id))})]}):null;let Te=K?"bg-slate-200":"bg-white";ke&&(Te="bg-indigo-50"),ce&&(Te=sn[ce.tipo].bg),P&&(Te="bg-blue-300");const it=Ne=>{Ne.stopPropagation(),j(i)},Je=ke?"ring-2 ring-indigo-500 z-10":"",we=N&&p.professorId===N&&!ke,Pe=N&&p.professorId!==N;return s.jsx("div",{title:ie&&Y?`Disciplina: ${ie.nome}
Professor: ${Y.nome}`:void 0,onDragOver:je,onDragLeave:me,onDrop:xe,onClick:it,draggable:!!p,onDragStart:Ne=>T(Ne,p.id),onDragEnd:$,onContextMenu:Ne=>{Ne.stopPropagation(),g(Ne,i)},onMouseEnter:()=>C(p.professorId),className:`relative transition-all duration-150 ${Te} ${Je} ${p?"cursor-grab active:cursor-grabbing":"cursor-pointer"} ${se} ${we?"ring-2 ring-slate-700 z-20":""} ${Pe?"opacity-40":""} ${V}`,style:{minHeight:`${W}px`},children:s.jsx(kd,{content:ye,isVisible:te,onVisibilityChange:ee,children:Re})})}const We=ke&&!S?.endsWith("-0")&&!S?.endsWith("-1");let jt=P?"bg-blue-300":K?"bg-slate-200":"bg-white";A&&(jt=ze(A)),We&&(jt="bg-indigo-50");const q=We?"ring-2 ring-indigo-500 z-10":"",ae=ie=>ie?{disciplina:h.disciplinas.find(Y=>Y.id===ie.disciplinaId),professor:h.professores.find(Y=>Y.id===ie.professorId)}:{disciplina:null,professor:null},Ee=ae(c),Me=ae(m);return s.jsxs("div",{onDragOver:je,onDragLeave:me,onDrop:xe,onClick:Ie,onContextMenu:Ae,className:`relative flex flex-col ${jt} ${q} ${se} cursor-pointer ${V}`,style:{minHeight:`${W}px`},children:[s.jsx(md,{baseId:i,subSlotIndex:0,slot:c,isOutOfPeriod:K,alerts:[...v,...x],onOpenContextMenu:g,onSelectSlot:j,isSelected:S===`${i}-0`,hoveredProfessorId:N,onProfessorHover:C,highlightStatus:B[0]||A,onDragStart:T,onDragEnd:$,disciplina:Ee.disciplina,professor:Ee.professor,scaledCellFontSize:I}),s.jsx("div",{className:"border-b border-dashed border-gray-300"}),s.jsx(md,{baseId:i,subSlotIndex:1,slot:m,isOutOfPeriod:K,alerts:[...v,...y],onOpenContextMenu:g,onSelectSlot:j,isSelected:S===`${i}-1`,hoveredProfessorId:N,onProfessorHover:C,highlightStatus:B[1]||A,onDragStart:T,onDragEnd:$,disciplina:Me.disciplina,professor:Me.professor,scaledCellFontSize:I})]})},Of=on.memo(Lf),vs=({label:i,checked:d,onChange:a,disabled:p})=>s.jsxs("label",{className:`flex items-center space-x-2 ${p?"cursor-not-allowed text-gray-400":"cursor-pointer"}`,children:[s.jsx("input",{type:"checkbox",checked:d,onChange:c=>a(c.target.checked),disabled:p,className:"rounded text-indigo-600 focus:ring-indigo-500"}),s.jsx("span",{children:i})]}),hd=({title:i,children:d,onSelectAll:a,onDeselectAll:p})=>s.jsxs("div",{className:"p-2 border rounded-md bg-white",children:[s.jsx("h4",{className:"font-bold mb-2",children:i}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx("button",{onClick:a,className:"text-xs text-indigo-600 hover:underline",children:"Todos"}),s.jsx("button",{onClick:p,className:"text-xs text-indigo-600 hover:underline",children:"Nenhum"})]}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto pr-2",children:d})]}),Rf=({visibility:i,onVisibilityChange:d,cursos:a,turmas:p})=>{const[c,m]=F.useState(!1),f=(j,S)=>{d({...i,periods:{...i.periods,[j]:S}})},v=(j,S)=>{const N={...i.turmas};p.forEach(C=>{C.cursoId===j&&(N[C.id]=S)}),d({...i,cursos:{...i.cursos,[j]:S},turmas:N})},x=(j,S)=>{d({...i,turmas:{...i.turmas,[j]:S}})},y=j=>{const S={...i};j==="periods"?Object.keys(S.periods).forEach(N=>S.periods[N]=!0):j==="cursos"?(Object.keys(S.cursos).forEach(N=>S.cursos[N]=!0),Object.keys(S.turmas).forEach(N=>S.turmas[N]=!0)):j==="turmas"&&Object.keys(S.turmas).forEach(N=>S.turmas[N]=!0),d(S)},g=j=>{const S={...i};j==="periods"?Object.keys(S.periods).forEach(N=>S.periods[N]=!1):j==="cursos"?(Object.keys(S.cursos).forEach(N=>S.cursos[N]=!1),Object.keys(S.turmas).forEach(N=>S.turmas[N]=!1)):j==="turmas"&&Object.keys(S.turmas).forEach(N=>S.turmas[N]=!1),d(S)};return s.jsxs("div",{className:"bg-gray-100 p-2 mb-4 rounded-md shadow-sm border text-sm",children:[s.jsxs("button",{onClick:()=>m(!c),className:"w-full text-left font-semibold text-gray-700 flex justify-between items-center",children:[s.jsx("span",{children:c?"Ocultar Opes de Visualizao":"Exibir Opes de Visualizao"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),c&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(hd,{title:"Perodos",onSelectAll:()=>y("periods"),onDeselectAll:()=>g("periods"),children:[s.jsx(vs,{label:"Manh",checked:i.periods.manha,onChange:j=>f("manha",j)}),s.jsx(vs,{label:"Tarde",checked:i.periods.tarde,onChange:j=>f("tarde",j)}),s.jsx(vs,{label:"Noite",checked:i.periods.noite,onChange:j=>f("noite",j)})]}),s.jsx(hd,{title:"Cursos",onSelectAll:()=>y("cursos"),onDeselectAll:()=>g("cursos"),children:a.map(j=>s.jsx(vs,{label:j.nome,checked:i.cursos[j.id]??!0,onChange:S=>v(j.id,S)},j.id))}),s.jsxs("div",{className:"p-2 border rounded-md bg-white",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Turmas"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx("button",{onClick:()=>y("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Todas"}),s.jsx("button",{onClick:()=>g("turmas"),className:"text-xs text-indigo-600 hover:underline",children:"Nenhuma"})]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:a.map(j=>s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-600",children:j.nome}),s.jsx("div",{className:"pl-4 space-y-1",children:p.filter(S=>S.cursoId===j.id).map(S=>s.jsx(vs,{label:S.nome,checked:i.turmas[S.id]??!0,onChange:N=>x(S.id,N),disabled:!(i.cursos[j.id]??!0)},S.id))})]},j.id))})]})]})})]})},zf=({isOpen:i,onClose:d,x:a,y:p,items:c})=>{const m=F.useRef(null);return F.useEffect(()=>{const f=v=>{m.current&&!m.current.contains(v.target)&&d()};return i&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[i,d]),i?s.jsx("div",{ref:m,className:"absolute z-50 bg-white rounded-md shadow-lg border border-gray-200 py-1 w-32",style:{top:p,left:a},children:s.jsx("ul",{children:c.map((f,v)=>s.jsx("li",{children:s.jsx("button",{onClick:()=>{f.disabled||(f.onClick(),d())},disabled:f.disabled,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 disabled:text-gray-400 disabled:bg-white disabled:cursor-not-allowed",children:f.label})},v))})}):null},Ff=({isFocusModeEnabled:i,gridType:d})=>{const{state:a,dispatch:p}=lt(),{ano:c,cursos:m,turmas:f,grade:v,clipboard:x,selectedSlotId:y,disciplinas:g,professores:j,draggedItem:S,atribuicoes:N,alertas:C}=a,[A,B]=F.useState(1),[W,I]=F.useState({isOpen:!1,x:0,y:0,slotId:""}),[h,D]=F.useState(null),z=F.useRef(null),[_,E]=F.useState(!1),[U,O]=F.useState(c.toString()),P=F.useMemo(()=>({dayColWidth:50*A,timeColWidth:80*A,turmaColWidth:150*A,headerHeight:44*A,cellMinHeight:60*A,daySeparatorHeight:8*A,periodSeparatorHeight:8*A,fontSizeHeader:12*A,fontSizeTurmaHeader:11*A,fontSizeTime:12*A,fontSizeCell:12*A,fontSizeYear:18*A,fontSizeYearLabel:12*A}),[A]),H=F.useMemo(()=>f.filter(ae=>ae.isModular===(d==="modular")).sort((ae,Ee)=>{const Me=m.find(Y=>Y.id===ae.cursoId)?.nome||"",ie=m.find(Y=>Y.id===Ee.cursoId)?.nome||"";return Me.localeCompare(ie)!==0?Me.localeCompare(ie):ae.nome.localeCompare(Ee.nome)}),[f,d,m]);F.useEffect(()=>{O(c.toString())},[c]);const te=()=>{const q=parseInt(U,10);!isNaN(q)&&q>2e3&&q<2100?p({type:"UPDATE_ANO",payload:q}):(O(c.toString()),p({type:"SHOW_TOAST",payload:"Ano invlido."})),E(!1)},ee=q=>{q.key==="Enter"?q.currentTarget.blur():q.key==="Escape"&&(O(c.toString()),E(!1))},[de,pe]=F.useState({periods:{manha:!0,tarde:!0,noite:!0},cursos:{},turmas:{}});F.useEffect(()=>{pe(q=>{const ae={};m.forEach(Me=>{ae[Me.id]=q.cursos[Me.id]??!0});const Ee={};return H.forEach(Me=>{Ee[Me.id]=q.turmas[Me.id]??!0}),{...q,cursos:ae,turmas:Ee}})},[m,H]);const K=F.useCallback(q=>{if(q.target===document.body&&y)if(q.ctrlKey){if(q.key==="c")q.preventDefault(),p({type:"COPY_SLOT",payload:{sourceSlotId:y}});else if(q.key==="x")q.preventDefault(),p({type:"CUT_SLOT",payload:{sourceSlotId:y}});else if(q.key==="v"){if(q.preventDefault(),x){const ae=f.find(ie=>ie.id===x.sourceSlot.turmaId),Ee=y.split("_")[0],Me=f.find(ie=>ie.id===Ee);if(ae&&Me&&ae.isModular!==Me.isModular){p({type:"SHOW_TOAST",payload:"No  permitido colar aulas entre a grade regular e a modular."});return}}p({type:"PASTE_SLOT",payload:{destinationId:y}})}}else q.key==="Delete"&&(q.preventDefault(),p({type:"DELETE_SLOT",payload:{slotId:y}}))},[y,p,x,f]);F.useEffect(()=>(window.addEventListener("keydown",K),()=>{window.removeEventListener("keydown",K)}),[K]),F.useEffect(()=>{const q=z.current;if(!q)return;const ae=Ee=>{Ee.ctrlKey&&(Ee.preventDefault(),B(Me=>Math.max(.5,Math.min(2,Me-Ee.deltaY*.001))))};return q.addEventListener("wheel",ae,{passive:!1}),()=>{q.removeEventListener("wheel",ae)}},[]);const se=q=>{if(!S)return;const ae=z.current;if(!ae)return;const Ee=ae.getBoundingClientRect(),Me=q.clientY-Ee.top,ie=60,Y=10;Me<ie?ae.scrollTop-=Y:Me>Ee.height-ie&&(ae.scrollTop+=Y)},V=()=>{I({...W,isOpen:!1})},re=(q,ae)=>{q.preventDefault(),q.stopPropagation(),p({type:"SELECT_SLOT",payload:{slotId:ae}}),I({isOpen:!0,x:q.pageX,y:q.pageY,slotId:ae})},J=()=>{const{slotId:q}=W;if(!q)return[];const ae=v.some(ce=>ce.id===q);return[{label:"Copiar",onClick:()=>p({type:"COPY_SLOT",payload:{sourceSlotId:q}}),disabled:!ae},{label:"Recortar",onClick:()=>p({type:"CUT_SLOT",payload:{sourceSlotId:q}}),disabled:!ae},{label:"Colar",onClick:()=>p({type:"PASTE_SLOT",payload:{destinationId:q}}),disabled:!!!x}]},T=q=>{p({type:"SELECT_SLOT",payload:{slotId:q}})},$=F.useMemo(()=>d==="modular"?On:Sr,[d]),me=F.useMemo(()=>[...st,...ot,...$],[$]).filter(q=>!!(st.includes(q)&&de.periods.manha||ot.includes(q)&&de.periods.tarde||$.includes(q)&&de.periods.noite)),xe=H.filter(q=>de.turmas[q.id]),Ae=F.useMemo(()=>[...m].sort((q,ae)=>q.nome.localeCompare(ae.nome)),[m]).map(q=>({...q,turmas:H.filter(ae=>ae.cursoId===q.id)})).filter(q=>de.cursos[q.id]),ke=F.useMemo(()=>{const q=new Set;return xe.forEach((ae,Ee)=>{const Me=xe[Ee+1];(!Me||Me.cursoId!==ae.cursoId)&&q.add(ae.id)}),q},[xe]),ze=F.useMemo(()=>{const q=new Map;return v.forEach(ae=>{const Ee=`${ae.turmaId}_${ae.dia}_${ae.horario}`;q.has(Ee)||q.set(Ee,[]),q.get(Ee).push(ae)}),q},[v]),We=F.useMemo(()=>{const q=new Map;return C.forEach(ae=>{ae.gradeSlotIds.forEach(Ee=>{q.has(Ee)||q.set(Ee,[]),q.get(Ee).push(ae)})}),q},[C]),jt=F.useMemo(()=>{let q=null;if(S?.type==="SIDEBAR_ITEM"&&S.disciplinaId&&S.professorId)q={professorId:S.professorId,disciplinaId:S.disciplinaId,slotIdToIgnore:null};else{const we=y||(S?.type==="GRID_ITEM"?S.sourceSlotId:null);if(we){const Pe=v.find(Ne=>Ne.id===we);Pe&&(q={professorId:Pe.professorId,disciplinaId:Pe.disciplinaId,slotIdToIgnore:we})}}if(!q)return{};const{professorId:ae,disciplinaId:Ee,slotIdToIgnore:Me}=q,ie=j.find(we=>we.id===ae);if(!ie)return{};const Y=g.find(we=>we.id===Ee);if(!Y)return{};const ce=new Map;v.forEach(we=>{const Pe=`${we.turmaId}_${we.dia}_${we.horario}`;ce.has(Pe)||ce.set(Pe,[]),ce.get(Pe).push(we)});const Re=[];if(Y.bnccId){const we=new Set;g.forEach(Pe=>{if(Pe.bnccId===Y.bnccId){const Ne=N.find(ve=>ve.disciplinaId===Pe.id);Ne&&Ne.professores.includes(ae)&&we.add(Pe.turmaId)}}),Re.push(...xe.filter(Pe=>we.has(Pe.id)))}else{const we=xe.find(Pe=>Pe.id===Y.turmaId);we&&Re.push(we)}const ye={},Te={},it={};v.forEach(we=>{if(we.professorId!==ae||Me&&we.id===Me)return;ye[we.dia]||(ye[we.dia]=new Set),ye[we.dia].add(we.horario);const Ne=f.find(et=>et.id===we.turmaId)?.isModular?1.25:1;Te[we.dia]=(Te[we.dia]||0)+Ne;const{start:ve,end:qe}=bi(we.horario),Ve=it[we.dia];Ve?(Ve.minStart=Math.min(Ve.minStart,ve),Ve.maxEnd=Math.max(Ve.maxEnd,qe)):it[we.dia]={minStart:ve,maxEnd:qe}});const Je={};return Re.forEach(we=>{_e.forEach(Pe=>{me.forEach(Ne=>{const ve=`${we.id}_${Pe}_${Ne}`,Ve=(ce.get(ve)||[]).filter(ht=>!Me||ht.id!==Me),et=[];Y.divisao?(Ve.some(ht=>ht.id===`${ve}-0`)||et.push(`${ve}-0`),Ve.some(ht=>ht.id===`${ve}-1`)||et.push(`${ve}-1`)):Ve.length===0&&et.push(ve),et.forEach(ht=>{let Ce=!1,Ct=!1;ie.disponibilidade[Pe]?.includes(Ne)||(Ct=!0),!Ce&&ye[Pe]?.has(Ne)&&(Ce=!0);const Ss=f.find(Ot=>Ot.id===we.id)?.isModular?1.25:1;if(!Ce&&(Te[Pe]||0)+Ss>8&&(Ce=!0),!Ce){const{start:Ot,end:$e}=bi(Ne),tt=_e.indexOf(Pe)-1;if(tt>=0){const Nt=_e[tt],Tt=it[Nt];Tt&&1440-Tt.maxEnd+Ot<660&&(Ce=!0)}if(!Ce){const Nt=_e.indexOf(Pe)+1;if(Nt<_e.length){const Tt=_e[Nt],bt=it[Tt];bt&&1440-$e+bt.minStart<660&&(Ce=!0)}}}Ce||(Je[ht]=Ct?"warning":"valid")})})})}),Je},[y,S,v,g,f,j,xe,me,N]);return s.jsxs("div",{ref:z,className:"flex-1 overflow-auto bg-gray-200 p-4",onClick:()=>{V(),T(null)},onDragOver:se,children:[s.jsx(Rf,{visibility:de,onVisibilityChange:pe,cursos:m,turmas:H}),s.jsx("div",{style:{display:"inline-block"},onMouseLeave:()=>D(null),children:s.jsxs("div",{className:"relative grid",style:{gridTemplateColumns:`${P.dayColWidth}px ${P.timeColWidth}px repeat(${xe.length}, ${P.turmaColWidth}px)`},children:[s.jsx("div",{className:"sticky top-0 left-0 z-40 bg-slate-200 border-b-2 border-r border-slate-300 flex items-center justify-center p-1",style:{gridColumn:"1 / span 2",gridRow:"1 / span 2"},children:_?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{htmlFor:"year-input",className:"text-xs text-slate-600 mb-1",children:"Ano"}),s.jsx("input",{id:"year-input",type:"number",value:U,onChange:q=>O(q.target.value),onBlur:te,onKeyDown:ee,className:"w-20 text-center bg-white rounded border-2 border-indigo-500 shadow-inner",autoFocus:!0,onFocus:q=>q.target.select()})]}):s.jsxs("div",{onClick:()=>E(!0),className:"p-2 cursor-pointer text-center text-slate-700 hover:bg-slate-300 rounded-md",children:[s.jsx("div",{className:"font-bold",style:{fontSize:`${P.fontSizeYear}px`},children:c}),s.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider",style:{fontSize:`${P.fontSizeYearLabel}px`},children:"Ano"})]})}),Ae.map(q=>{const ae=q.turmas.filter(ie=>de.turmas[ie.id]);if(ae.length===0)return null;const Ee=ae[0],Me=xe.findIndex(ie=>ie.id===Ee.id)+3;return s.jsx("div",{className:"sticky top-0 z-30 bg-slate-200 text-slate-800 flex items-center justify-center font-bold p-2 uppercase tracking-wider border-b-2 border-slate-300",style:{gridColumn:`${Me} / span ${ae.length}`,height:`${P.headerHeight}px`,fontSize:`${P.fontSizeHeader}px`},children:s.jsx("span",{className:"truncate",title:q.nome,children:q.nome})},q.id)}),xe.map((q,ae)=>s.jsx("div",{className:`sticky z-20 bg-slate-100 text-slate-600 flex items-center justify-center font-semibold p-2 border-b border-slate-300 ${ke.has(q.id)?"border-r-2 border-r-slate-400":"border-r border-slate-300"}`,style:{gridColumn:ae+3,top:`${P.headerHeight}px`,height:`${P.headerHeight}px`,fontSize:`${P.fontSizeTurmaHeader}px`},children:q.nome},q.id)),_e.map((q,ae)=>{if(me.length===0)return null;const Ee=ae===_e.length-1,Me=me.filter((ce,Re)=>{if(Re===me.length-1)return!1;const ye=st[st.length-1]===ce,Te=ot[ot.length-1]===ce;return ye||Te}),ie=me.length+Me.length,Y=me.flatMap((ce,Re)=>{const ye=st[st.length-1]===ce,Te=ot[ot.length-1]===ce,it=ye||Te,Je=Re===me.length-1,ve=[...[s.jsx("div",{className:"sticky z-20 bg-slate-50 p-1 text-center border-r border-slate-300 flex items-center justify-center border-b border-slate-300",style:{left:`${P.dayColWidth}px`,fontSize:`${P.fontSizeTime}px`},children:ce},`${q}_${ce}_time`),...xe.map(qe=>{const Ve=`${qe.id}_${q}_${ce}`,et=ze.get(Ve)||[],ht=et.find(Bt=>!(Bt.id.endsWith("-0")||Bt.id.endsWith("-1"))),Ce=et.find(Bt=>Bt.id.endsWith("-0")),Ct=et.find(Bt=>Bt.id.endsWith("-1"));return s.jsx(Of,{id:Ve,gridType:d,turma:qe,fullSlot:ht,slot0:Ce,slot1:Ct,isLastInCourse:ke.has(qe.id),onOpenContextMenu:re,onSelectSlot:T,selectedSlotId:y||null,hoveredProfessorId:i?h:null,onProfessorHover:i?D:()=>{},highlightStatus:jt[Ve]||null,cellAlerts:We.get(Ve)||[],subCellAlerts0:We.get(`${Ve}-0`)||[],subCellAlerts1:We.get(`${Ve}-1`)||[],subSlotHighlightStatus:{0:jt[`${Ve}-0`]||null,1:jt[`${Ve}-1`]||null},scaledCellMinHeight:P.cellMinHeight,scaledCellFontSize:P.fontSizeCell},Ve)})]];if(it&&!Je){const qe=s.jsx("div",{style:{gridColumn:`2 / span ${1+xe.length}`,height:`${P.periodSeparatorHeight}px`}},`${q}_${ce}_separator`);ve.push(qe)}return ve});return s.jsxs(on.Fragment,{children:[s.jsx("div",{className:"sticky left-0 z-30 bg-slate-200 py-2 text-center font-semibold border-r-2 border-slate-300 flex items-center justify-center capitalize [writing-mode:vertical-rl] rotate-180",style:{gridRow:`span ${ie}`,fontSize:`${P.fontSizeHeader}px`},children:q}),s.jsx("div",{style:{display:"contents"},children:Y}),!Ee&&s.jsxs(on.Fragment,{children:[s.jsx("div",{className:"sticky left-0 z-30 bg-slate-300 border-b-2 border-r-2 border-slate-300",style:{gridColumn:"1",height:`${P.daySeparatorHeight}px`}}),s.jsx("div",{className:"bg-slate-300 border-b-2 border-slate-300",style:{gridColumn:`2 / span ${1+xe.length}`,height:`${P.daySeparatorHeight}px`}})]})]},q)})]})}),s.jsx(zf,{isOpen:W.isOpen,onClose:V,x:W.x,y:W.y,items:J()})]})},$f=({id:i,label:d,subLabel:a,isLocked:p=!1,isBeingDragged:c=!1})=>{const{dispatch:m}=lt(),f=g=>{if(p){g.preventDefault();return}const[j,S]=i.split("|"),N={type:"SIDEBAR_ITEM",disciplinaId:j,professorId:S};g.dataTransfer.setData("application/json",JSON.stringify(N)),g.dataTransfer.effectAllowed="move",m({type:"DRAG_START",payload:N})},v=()=>{m({type:"DRAG_END"})},x="p-2 rounded-md shadow-sm transition-all duration-150";let y="";return c?y="opacity-40 border-dashed border-indigo-400 bg-white":p?y="opacity-50 cursor-not-allowed bg-gray-100 border border-gray-200":y="cursor-grab active:cursor-grabbing hover:bg-indigo-50 bg-white border border-gray-200",s.jsxs("div",{draggable:!p,onDragStart:f,onDragEnd:v,className:`${x} ${y}`,children:[s.jsx("div",{className:"font-semibold text-sm text-gray-800",children:d}),s.jsx("p",{className:"text-xs text-gray-500",children:a})]})},Ed=(i,d)=>{const{disciplinas:a}=d,p=a.find(f=>f.id===i.disciplinaId);if(!p)return{finalDisciplinaId:i.disciplinaId,isSwap:!1};if(!(p.turmaId!==i.turmaId))return{finalDisciplinaId:i.disciplinaId,isSwap:!1};if(!!p.bnccId){const f=a.find(v=>v.turmaId===i.turmaId&&v.bnccId===p.bnccId);if(f)return{finalDisciplinaId:f.id,isSwap:!0}}return{finalDisciplinaId:i.disciplinaId,isSwap:!0}},Hf=({gridType:i})=>{const{state:d,dispatch:a}=lt(),{atribuicoes:p,disciplinas:c,professores:m,turmas:f,draggedItem:v}=d,[x,y]=F.useState("all"),[g,j]=F.useState(""),[S,N]=F.useState(!1),C=E=>{y(E.target.value)},A=E=>f.find(U=>U.id===E)?.nome||"N/A",B=F.useMemo(()=>{const E={};return d.grade.forEach(U=>{const{finalDisciplinaId:O}=Ed(U,d),P=U.professorId,te=d.turmas.find(ee=>ee.id===U.turmaId)?.isModular?1.25:1;E[O]||(E[O]={}),E[O][P]=(E[O][P]||0)+te}),E},[d]),W=F.useMemo(()=>f.filter(E=>E.isModular===(i==="modular")),[f,i]),h=F.useMemo(()=>p.flatMap(E=>{const U=c.find(P=>P.id===E.disciplinaId);if(!U)return[];const O=f.find(P=>P.id===U.turmaId);return!O||O.isModular!==(i==="modular")?[]:E.professores.map((P,H)=>({disciplina:U,professor:m.find(te=>te.id===P),turmaId:U.turmaId,assignmentIndex:H}))}).filter(E=>E.professor),[p,c,f,m,i]).filter(E=>!(x!=="all"&&E.turmaId!==x||g.trim()!==""&&!E.professor?.nome.toLowerCase().includes(g.toLowerCase()))),D=E=>{E.preventDefault(),v?.type==="GRID_ITEM"?(N(!0),E.dataTransfer.dropEffect="move"):E.dataTransfer.dropEffect="none"},z=()=>{N(!1)},_=E=>{E.preventDefault(),N(!1),v?.type==="GRID_ITEM"&&v.sourceSlotId&&a({type:"UPDATE_GRADE",payload:{id:v.sourceSlotId,slot:null}}),a({type:"DRAG_END"})};return s.jsxs("div",{className:`p-4 h-full flex flex-col transition-colors duration-200 ${S?"bg-blue-200 border-2 border-dashed border-blue-500":"bg-gray-50"}`,onDragOver:D,onDragLeave:z,onDrop:_,children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Atribuies"}),s.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search-professor",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),s.jsx("input",{type:"text",id:"search-professor",value:g,onChange:E=>j(E.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"turma-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Turma"}),s.jsxs("select",{id:"turma-filter",value:x,onChange:C,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"all",children:"Ver Todas"}),W.map(E=>s.jsx("option",{value:E.id,children:E.nome},E.id))]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:h.map(E=>{const{disciplina:U,professor:O,assignmentIndex:P}=E;if(!U||!O)return null;const H=B[U.id]&&B[U.id][O.id]||0,te=U.aulasSemanais,ee=H>=te,de=`${U.id}|${O.id}`,pe=`${U.id}|${O.id}|${P}`,K=v?.type==="SIDEBAR_ITEM"&&v.disciplinaId===U.id&&v.professorId===O.id,se=s.jsxs("span",{children:[U.nome,U.bnccId&&s.jsx("span",{className:"text-xs bg-pink-100 text-pink-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:"BNCC"}),U.divisao&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 font-semibold ml-2 px-2 py-0.5 rounded-full align-middle",children:["Diviso (",U.numProfessores,")"]}),` (${H}/${te}) - ${O.nome}`]}),V=`Turma: ${A(U.turmaId)}`;return s.jsx($f,{id:de,label:se,subLabel:V,isLocked:ee,isBeingDragged:K},pe)})})]})},Bf=i=>{let d=0;for(let S=0;S<i.length;S++)d=i.charCodeAt(S)+((d<<5)-d);const a=d%360,p=70,c=50,m=(1-Math.abs(2*(c/100)-1))*(p/100),f=m*(1-Math.abs(a/60%2-1)),v=c/100-m/2;let x=0,y=0,g=0;0<=a&&a<60?(x=m,y=f,g=0):60<=a&&a<120?(x=f,y=m,g=0):120<=a&&a<180?(x=0,y=m,g=f):180<=a&&a<240?(x=0,y=f,g=m):240<=a&&a<300?(x=f,y=0,g=m):300<=a&&a<360&&(x=m,y=0,g=f),x=Math.round((x+v)*255),y=Math.round((y+v)*255),g=Math.round((g+v)*255);const j=S=>("0"+S.toString(16)).slice(-2);return`#${j(x)}${j(y)}${j(g)}`},Uf=()=>{const{state:i}=lt(),{onlineUsers:d}=i;if(d.length===0)return null;const a=Df.currentUser,p=[...d].sort((c,m)=>c.id===a?.uid?1:m.id===a?.uid?-1:c.name.localeCompare(m.name));return s.jsx("div",{className:"flex items-center -space-x-2 pr-2",children:p.map(c=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ring-2 ring-white",style:{backgroundColor:Bf(c.id)},children:c.id===a?.uid?"VC":c.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:[c.id===a?.uid?`${c.name} (Voc)`:c.name,s.jsx("svg",{className:"absolute text-gray-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:s.jsx("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]},c.id))})},Wf=({status:i,lastModifiedBy:d,lastModifiedAt:a})=>{const c=(()=>{switch(i){case"saving":return{icon:s.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),text:"Salvando...",textColor:"text-gray-500"};case"saved":return{icon:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4"})]}),text:"Salvo",textColor:"text-green-600"};case"error":return{icon:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 13V9.5m0 6.5v.01"})]}),text:"Erro ao salvar",textColor:"text-red-600"};default:return null}})();if(!c)return null;const m=i==="saved"&&d&&a?`(por ${d} s ${new Date(a).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})`:null;return s.jsxs("div",{className:"flex items-center space-x-2",children:[c.icon,s.jsx("span",{className:`text-sm font-medium ${c.textColor}`,children:c.text}),m&&s.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:m})]})},nt={title:{font:{name:"Calibri",size:18,bold:!0,color:{argb:"FFFFFFFF"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}},alignment:{horizontal:"center",vertical:"middle"}},curso:{font:{name:"Calibri",size:12,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFAEC6CF"}},alignment:{horizontal:"center",vertical:"middle"},border:{top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}}},turma:{font:{name:"Calibri",size:11,bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF8EA9DB"}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{bottom:{style:"medium",color:{argb:"FF2F5496"}}}},day:{font:{name:"Calibri",size:12,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},periodo:{font:{name:"Calibri",size:11,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle",textRotation:90},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},time:{font:{name:"Calibri",size:10,bold:!0,color:{argb:"FF404040"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE7E6E6"}},alignment:{horizontal:"center",vertical:"middle"},border:{right:{style:"medium",color:{argb:"FF2F5496"}}}},cell_white:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}}},cell_gray:{font:{name:"Calibri",size:9},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFF2F2F2"}}},disabledCell:{fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFD9D9D9"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}}},gd=(i,d,a,p)=>{const{ano:c,cursos:m,turmas:f,grade:v,disciplinas:x,professores:y}=d,g=f.filter(_=>_.isModular===(a==="modular")).sort((_,E)=>{const U=m.find(P=>P.id===_.cursoId)?.nome||"",O=m.find(P=>P.id===E.cursoId)?.nome||"";return U.localeCompare(O)!==0?U.localeCompare(O):_.nome.localeCompare(E.nome)});if(g.length===0)return;const j=m.map(_=>({..._,turmas:g.filter(E=>E.cursoId===_.id)})).filter(_=>_.turmas.length>0),S=new Map;v.forEach(_=>{const E=`${_.turmaId}_${_.dia}_${_.horario}`;S.has(E)||S.set(E,[]),S.get(E).push(_)});const N=i.addWorksheet(p),C=N.addRow([`Grade de Horrios ${c}`]);C.height=24,N.mergeCells(1,1,1,3+g.length),N.getCell("A1").style=nt.title;const A=[null,null,null];j.forEach(_=>{A.push(_.nome);for(let E=1;E<_.turmas.length;E++)A.push(null)});const B=N.addRow(A);B.height=20;let W=4;j.forEach(_=>{if(_.turmas.length>0){_.turmas.length>1&&N.mergeCells(2,W,2,W+_.turmas.length-1);for(let E=0;E<_.turmas.length;E++)N.getCell(2,W+E).style=nt.curso;W+=_.turmas.length}});const I=N.addRow(["Dia","Perodo","Horrio",...g.map(_=>_.nome)]);I.height=35,I.getCell(1).style={...nt.day,alignment:{...nt.day.alignment,textRotation:0}},I.getCell(2).style={...nt.periodo,alignment:{...nt.periodo.alignment,textRotation:0}},I.getCell(3).style=nt.time;for(let _=4;_<=I.cellCount;_++)I.getCell(_).style=nt.turma;const D=[{name:"Manh",horarios:st},{name:"Tarde",horarios:ot},{name:"Noite",horarios:a==="modular"?On:Sr}];let z=!1;_e.forEach((_,E)=>{const U=N.rowCount+1;if(D.forEach((O,P)=>{if(O.horarios.length===0)return;const H=N.rowCount+1;if(O.horarios.forEach(ee=>{const de=g.map(K=>{if(a==="modular"&&ee==="18:10-19:00")return null;const se=`${K.id}_${_}_${ee}`,V=S.get(se);return V?V.map(re=>{const J=x.find($=>$.id===re.disciplinaId),T=y.find($=>$.id===re.professorId);return`${J?.nome||"?"}
${T?.nome||"?"}`}).join(`

`):""}),pe=N.addRow([null,null,ee,...de]);pe.height=50,pe.getCell(3).style=nt.time;for(let K=4;K<=pe.cellCount;K++)pe.getCell(K).style=pe.getCell(K).value===null?nt.disabledCell:z?nt.cell_gray:nt.cell_white;z=!z}),O.horarios.length>0){const ee=N.getCell(H,2);ee.value=O.name,ee.style=nt.periodo,O.horarios.length>1&&N.mergeCells(H,2,N.rowCount,2)}if(D.slice(P+1).some(ee=>ee.horarios.length>0)){const ee=N.addRow([]);ee.height=3;for(let de=3;de<=3+g.length;de++){const pe=ee.getCell(de);pe.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}}),N.rowCount>=U){const O=N.getCell(U,1);O.value=_.charAt(0).toUpperCase()+_.slice(1),O.style=nt.day,N.rowCount>U&&N.mergeCells(U,1,N.rowCount,1)}if(E<_e.length-1){const O=N.addRow([]);O.height=5;for(let P=1;P<=3+g.length;P++)O.getCell(P).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF2F5496"}}}}),N.columns=[{width:8},{width:10},{width:15},...Array(g.length).fill({width:25})],N.views=[{state:"frozen",xSplit:3,ySplit:3}]},Vf=i=>{const d=new Ao.Workbook;return d.creator="Timetable Scheduler",d.created=new Date,gd(d,i,"regular","Grade Regular"),gd(d,i,"modular","Grade Modular"),d.worksheets.length===0?{workbook:null,error:"No h dados para exportar."}:{workbook:d}},Gf=(i,d)=>{const{professores:a,grade:p,turmas:c,disciplinas:m}=i,f=a.find(I=>I.id===d);if(!f)return{workbook:null,error:"Professor no encontrado."};const v=new Ao.Workbook;v.creator="Timetable Scheduler",v.created=new Date;const x=v.addWorksheet(f.nome.substring(0,31)),y=p.filter(I=>I.professorId===d),g=y.reduce((I,h)=>{const D=c.find(z=>z.id===h.turmaId);return I+(D?.isModular?1.25:1)},0),j={};y.forEach(I=>{j[I.dia]||(j[I.dia]={}),j[I.dia][I.horario]={turma:c.find(h=>h.id===I.turmaId)?.nome||"?",disciplina:m.find(h=>h.id===I.disciplinaId)?.nome||"?"}}),x.mergeCells("A1:F1");const S=x.getCell("A1");S.value=f.nome,S.style=nt.title,x.mergeCells("A2:F2");const N=x.getCell("A2");N.value=`Total de Aulas Semanais: ${g}`,N.style={font:{bold:!0},alignment:{horizontal:"center"}},x.addRow(["Horrio",..._e.map(I=>I.charAt(0).toUpperCase()+I.slice(1))]).eachCell(I=>{I.style=nt.turma,I.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}});const A=[...new Set([...st,...ot,...Sr,...On])].sort();A.forEach((I,h)=>{const D=[I];_e.forEach(O=>{const P=j[O]?.[I];D.push(P?`${P.disciplina}
${P.turma}`:"")});const z=x.addRow(D);z.getCell(1).style=nt.time;for(let O=2;O<=6;O++)z.getCell(O).style=nt.cell_white;z.height=30;const _=st[st.length-1]===I,E=ot[ot.length-1]===I,U=h===A.length-1;if((_||E)&&!U){const O=x.addRow([]);O.height=3;for(let P=1;P<=1+_e.length;P++){const H=O.getCell(P);H.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFC5D4EA"}}}}});const B=_e.map(I=>y.filter(h=>h.dia===I).reduce((h,D)=>h+(c.find(z=>z.id===D.turmaId)?.isModular?1.25:1),0));return x.addRow(["Carga Diria",...B]).eachCell(I=>{I.style={...nt.turma,font:{...nt.turma.font,bold:!0}}}),x.columns=[{width:15},{width:25},{width:25},{width:25},{width:25},{width:25}],{workbook:v}},xd=(i,d,a,p)=>{const c=d.filter(O=>O.professorId===i.id),m=c.reduce((O,P)=>{const H=a.find(te=>te.id===P.turmaId);return O+(H?.isModular?1.25:1)},0),f=_e.reduce((O,P)=>(O[P]=c.filter(H=>H.dia===P).reduce((H,te)=>{const ee=a.find(de=>de.id===te.turmaId);return H+(ee?.isModular?1.25:1)},0),O),{}),v={};c.forEach(O=>{v[O.dia]||(v[O.dia]={});const P=a.find(te=>te.id===O.turmaId)?.nome||"N/A",H=p.find(te=>te.id===O.disciplinaId)?.nome||"N/A";v[O.dia][O.horario]={turma:P,disciplina:H}});const x=[...new Set([...Sr,...On])].sort(),y=[{label:"Manh",horarios:st},{label:"Tarde",horarios:ot},{label:"Noite",horarios:x}],g=new Sd({orientation:"landscape",unit:"pt",format:"a4"}),j=g.internal.pageSize.getWidth(),S=g.internal.pageSize.getHeight(),N=30;let C={titleFontSize:16,subtitleFontSize:10,headerFontSize:9,periodFontSize:8,cellFontSize:8,footerFontSize:9,titleSpacing:18,subtitleSpacing:25,headerRowH:20,regularRowH:32,periodSeparatorH:5,periodHeaderH:15,footerSpacing:5},A=N;A+=C.titleSpacing,A+=C.subtitleSpacing,A+=C.headerRowH,y.forEach(O=>{O.horarios.length>0&&(A+=C.periodSeparatorH,A+=C.periodHeaderH,A+=O.horarios.length*C.regularRowH)}),A+=C.footerSpacing,A+=C.headerRowH,A+=N;const B=S;let W=1;A>B&&(W=B/A);const I=N*Math.min(W,1),h=j-I*2;for(const O in C)C[O]*=W;let D=I;g.setFont("helvetica","bold"),g.setFontSize(C.titleFontSize),g.text(i.nome,j/2,D,{align:"center"}),D+=C.titleSpacing,g.setFont("helvetica","normal"),g.setFontSize(C.subtitleFontSize),g.text(`Total de Aulas Semanais: ${m}`,j/2,D,{align:"center"}),D+=C.subtitleSpacing;const z=65*Math.min(W,1),_=(h-z)/_e.length;g.setFillColor(230,230,230),g.rect(I,D,h,C.headerRowH,"F"),g.setFont("helvetica","bold"),g.setFontSize(C.headerFontSize),g.setDrawColor(180,180,180),g.rect(I,D,h,C.headerRowH);const E=D+C.headerRowH/2+C.headerFontSize*.35;g.text("Horrio",I+z/2,E,{align:"center"}),_e.forEach((O,P)=>{const H=I+z+P*_+_/2;g.text(O.charAt(0).toUpperCase()+O.slice(1),H,E,{align:"center"});const te=I+z+P*_;g.line(te,D,te,D+C.headerRowH)}),D+=C.headerRowH,y.forEach(O=>{O.horarios.length>0&&(D+=C.periodSeparatorH,g.setFillColor(240,240,240),g.rect(I,D,h,C.periodHeaderH,"F"),g.setFont("helvetica","bold"),g.setFontSize(C.periodFontSize),g.text(O.label,I+5,D+C.periodHeaderH/2,{baseline:"middle"}),D+=C.periodHeaderH,O.horarios.forEach(P=>{const H=D;g.setDrawColor(220,220,220),g.rect(I,H,h,C.regularRowH),g.setFont("helvetica","normal"),g.setFontSize(C.cellFontSize),g.text(P,I+z/2,H+C.regularRowH/2,{align:"center",baseline:"middle"}),g.line(I+z,H,I+z,H+C.regularRowH),_e.forEach((te,ee)=>{const de=v[te]?.[P],pe=I+z+ee*_;if(de){g.setFillColor(232,242,255),g.rect(pe,H,_,C.regularRowH,"F");const K=H+C.regularRowH/2-C.cellFontSize*.2,se=K+C.cellFontSize*1.1,V=_-6;let re=de.disciplina;if(g.setFont("helvetica","bold"),g.setFontSize(C.cellFontSize),g.getTextWidth(re)>V){for(;re.length>0&&g.getTextWidth(re+"...")>V;)re=re.slice(0,-1);re+="..."}g.text(re,pe+_/2,K,{align:"center"});let J=de.turma;if(g.setFont("helvetica","normal"),g.getTextWidth(J)>V){for(;J.length>0&&g.getTextWidth(J+"...")>V;)J=J.slice(0,-1);J+="..."}g.text(J,pe+_/2,se,{align:"center"})}g.line(pe,H,pe,H+C.regularRowH)}),D+=C.regularRowH}))}),D+=C.footerSpacing,g.setFillColor(230,230,230),g.rect(I,D,h,C.headerRowH,"F"),g.setFont("helvetica","bold"),g.setFontSize(C.footerFontSize),g.setDrawColor(180,180,180),g.rect(I,D,h,C.headerRowH);const U=D+C.headerRowH/2+C.footerFontSize*.35;return g.text("Carga Diria",I+z/2,U,{align:"center"}),_e.forEach((O,P)=>{const H=I+z+P*_+_/2;g.text(String(f[O]||0),H,U,{align:"center"});const te=I+z+P*_;g.line(te,D,te,D+C.headerRowH)}),{doc:g}},qf=i=>{const d=new Map,a=new Map,p=new Map,c=[...i].sort((f,v)=>f.nome.localeCompare(v.nome));for(const f of c){const v=new Set(["de","da","do","dos","das"]),x=f.nome.trim().split(" ").filter(g=>!v.has(g.toLowerCase()));let y="??";if(x.length>0){const g=x[0].charAt(0).toUpperCase(),j=x.length>1?x[x.length-1].charAt(0).toUpperCase():"";y=`${g}${j}`}a.set(y,(a.get(y)||0)+1),p.set(f.nome,y)}const m=new Map;for(const f of c){const v=p.get(f.nome),x=a.get(v);let y=v;if(x>1){const j=(m.get(v)||0)+1;j>1&&(y=`${v}${j}`),m.set(v,j)}d.set(f.id,y)}return d},Qf=i=>{const d=new Map,a=new Set;for(const p of i){if(a.has(p.nome))continue;const m=p.nome.trim().split(" ").filter(v=>v.length>0);let f="???";m.length>1?f=m.map(v=>v.charAt(0)).join("").toUpperCase():m.length===1&&m[0].length>0&&(f=m[0].substring(0,3).toUpperCase()),f.length>5&&(f=f.substring(0,5)),d.set(p.nome,f),a.add(p.nome)}return d},yd=(i,d,a,p)=>{const f=a.w-12,v=a.h-a.h*.1;if(f<=0||v<4)return;let x=Math.min(p,v),y=d;for(;x>4&&(i.setFontSize(x),!(i.getTextWidth(y)<f));)x-=.25;if(i.setFontSize(4),i.getTextWidth(d)>f){let j=d;for(;j.length>0&&i.getTextWidth(j+"...")>f;)j=j.slice(0,-1);y=j+"..."}const g=Math.max(x,4);i.setFontSize(g),i.setFont("helvetica","bold"),i.text(y,a.x+a.w/2,a.y+a.h/2,{align:"center",baseline:"middle",maxWidth:f})},Xf=(i,d,a,p,c,m,f,v,x,y,g)=>{const j=i.internal.pageSize.getWidth(),S=i.internal.pageSize.getHeight()-f;i.setFontSize(v*.6),i.setFont("helvetica","bold"),i.setTextColor(0,0,0);const N=a>1?`(Pgina ${d+1} de ${a})`:"";if(i.text(`Grade de Horrios ${m} - ${c} ${N}`,j/2,f,{align:"center"}),i.setFontSize(v*.4),i.setFont("helvetica","italic"),i.setTextColor(100,100,100),p.length>0){const C=p[0].nome,A=p[p.length-1].nome,B=`Exibindo turmas: ${C} a ${A}`;i.text(B,j/2,f+v*.5,{align:"center"})}if(i.setFontSize(x*.4),i.setFont("helvetica","normal"),i.setTextColor(150,150,150),i.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,f,S+x*.6),a>1&&i.text("Instrues: Para montar, imprima todas as pginas e alinhe as guias pontilhadas laterais.",j/2,S+x*.6,{align:"center"}),a>1){if(i.setLineDashPattern([2,2],0),i.setDrawColor(180,180,180),i.setLineWidth(.5),d<a-1){const C=j-f;i.line(C,y,C,g),i.setFontSize(x*.45),i.setTextColor(150,150,150),i.text(`Continua na Pg. ${d+2} ->`,C-5,y+10,{align:"right",angle:90})}if(d>0){const C=f;i.line(C,y,C,g),i.setFontSize(x*.45),i.setTextColor(150,150,150),i.text(`<- Vem da Pg. ${d}`,C+5,g-10,{align:"left",angle:90})}i.setLineDashPattern([],0),i.setTextColor(0,0,0)}},Yf=(i,d)=>{const{ano:a,cursos:p,turmas:c,grade:m,disciplinas:f,professores:v}=i,x=c.filter(Y=>Y.isModular===(d==="modular")).sort((Y,ce)=>{const Re=p.find(Te=>Te.id===Y.cursoId)?.nome||"",ye=p.find(Te=>Te.id===ce.cursoId)?.nome||"";return Re.localeCompare(ye)!==0?Re.localeCompare(ye):Y.nome.localeCompare(ce.nome)});if(x.length===0)return{doc:null,error:`Nenhuma turma para a grade ${d==="regular"?"Regular":"Modular"}.`};const y=new Set,g=new Set,j=new Set(x.map(Y=>Y.id));m.forEach(Y=>{j.has(Y.turmaId)&&(y.add(Y.professorId),g.add(Y.disciplinaId))});const S=i.professores.filter(Y=>y.has(Y.id)),N=i.disciplinas.filter(Y=>g.has(Y.id)),C=qf(S),A=Qf(N),B=x.filter(Y=>Y.periodo!=="noite"),W=x.filter(Y=>Y.periodo==="noite"),I=new Map;m.forEach(Y=>{const ce=`${Y.turmaId}_${Y.dia}_${Y.horario}`;I.has(ce)||I.set(ce,[]),I.get(ce).push(Y)});const h=new Sd({orientation:"landscape",unit:"pt",format:"a3"}),D=h.internal.pageSize.getWidth(),z=h.internal.pageSize.getHeight(),_=30,E={title:14,header:11,cell:9,dividedCell:8},U={titleHeader:25,titleSubheader:15,footer:20,curso:18,turma:45,cell:35,periodSeparator:3,daySeparator:5},O={day:40,period:40,time:60,turma:90},P=O.day+O.period+O.time,H=D-_*2-P,te=Math.max(1,Math.floor(H/O.turma)),ee=[];for(let Y=0;Y<B.length;Y+=te)ee.push(B.slice(Y,Y+te));const de=[];for(let Y=0;Y<W.length;Y+=te)de.push(W.slice(Y,Y+te));const pe=ee.length+de.length;if(pe===0)return{doc:null,error:`Nenhuma aula encontrada para a grade ${d==="regular"?"Regular":"Modular"}.`};const K=pe+1;let se=0;const V=(Y,ce,Re)=>{Y.length!==0&&Y.forEach(ye=>{se>0&&h.addPage();let Te=0;_e.forEach(($e,tt)=>{ce.forEach((Nt,Tt)=>{Nt.horarios.length!==0&&(Te+=Nt.horarios.length*U.cell,ce.slice(Tt+1).some(bt=>bt.horarios.length>0)&&(Te+=U.periodSeparator))}),tt<_e.length-1&&(Te+=U.daySeparator)});const Je=U.curso+U.turma+Te,we=U.titleHeader+U.titleSubheader+U.footer+20,Pe=z-_*2-we;let Ne=Math.min(1,Pe/Je);Ne<1&&(Ne=Ne*.95);const ve={...U};for(const $e in ve)ve[$e]*=Ne;const qe={...E};for(const $e in qe)qe[$e]*=Ne;const Ve=`${d==="regular"?"Grade Regular":"Grade Modular"} - ${Re}`,et=_+ve.titleHeader+ve.titleSubheader,ht=et+Je*Ne;Xf(h,se,K,ye,Ve,a,_,ve.titleHeader,ve.footer,et,ht);let Ce=et;h.setFont("helvetica","bold"),h.setDrawColor(150);let Ct=_+P;const Bt=new Set(ye.map($e=>$e.id));p.map($e=>({...$e,turmas:c.filter(tt=>tt.cursoId===$e.id&&Bt.has(tt.id))})).filter($e=>$e.turmas.length>0).forEach($e=>{const tt=$e.turmas.length*O.turma;h.setFillColor(220,220,220),h.rect(Ct,Ce,tt,ve.curso,"FD"),h.setFontSize(qe.header*1.2),h.setFont("helvetica","bold"),h.text($e.nome,Ct+tt/2,Ce+ve.curso/2,{align:"center",baseline:"middle",maxWidth:tt-4}),Ct+=tt}),Ct=_+P,ye.forEach($e=>{h.setFillColor(235,235,235),h.setTextColor(0,0,0),h.rect(Ct,Ce+ve.curso,O.turma,ve.turma,"FD"),h.setFontSize(qe.header*1.1),h.setFont("helvetica","bold");const tt=h.splitTextToSize($e.nome,O.turma-4);h.text(tt,Ct+O.turma/2,Ce+ve.curso+ve.turma/2,{align:"center",baseline:"middle"}),Ct+=O.turma});const Ot=ve.curso+ve.turma;h.setFillColor(220,220,220),h.rect(_,Ce,P,Ot,"FD"),h.setFontSize(qe.header*1.15),h.setFont("helvetica","bold"),h.text("Dia",_+O.day/2,Ce+Ot/2,{align:"center",baseline:"middle"}),h.text("Perodo",_+O.day+O.period/2,Ce+Ot/2,{align:"center",baseline:"middle"}),h.text("Horrio",_+O.day+O.period+O.time/2,Ce+Ot/2,{align:"center",baseline:"middle"}),Ce+=Ot,_e.forEach(($e,tt)=>{const Nt=Ce;ce.forEach((bt,jr)=>{if(bt.horarios.length===0)return;const an=Ce;bt.horarios.forEach(Cr=>{h.setFontSize(qe.header),h.setFont("helvetica","bold"),h.setFillColor(245,245,245),h.setDrawColor(200),h.rect(_+O.day+O.period,Ce,O.time,ve.cell,"FD"),h.text(Cr,_+O.day+O.period+O.time/2,Ce+ve.cell/2,{align:"center",baseline:"middle"});let Ut=_+P;ye.forEach(js=>{const Rn=d==="modular"&&Cr==="18:10-19:00";if(h.setDrawColor(200),Rn){h.setFillColor(220,220,220),h.rect(Ut,Ce,O.turma,ve.cell,"FD");const dt=4*Ne;h.line(Ut+dt,Ce+dt,Ut+O.turma-dt,Ce+ve.cell-dt),h.line(Ut+O.turma-dt,Ce+dt,Ut+dt,Ce+ve.cell-dt)}else{const dt=I.get(`${js.id}_${$e}_${Cr}`);if(h.setFillColor(255,255,255),h.rect(Ut,Ce,O.turma,ve.cell,"FD"),dt&&dt.length>0){const Nr=f.find(ct=>ct.id===dt[0].disciplinaId),dn=Nr&&A.get(Nr.nome)||"???";if(dt.length===1){const ct=C.get(dt[0].professorId)||"??";yd(h,`${dn} - ${ct}`,{x:Ut,y:Ce,w:O.turma,h:ve.cell},qe.cell)}else{const ct=dt.sort((Wt,Vt)=>Wt.id.localeCompare(Vt.id)),Vr=O.turma/ct.length;let Jt=qe.dividedCell;ct.length===2?Jt*=.7:ct.length===3?Jt*=.55:ct.length>=4&&(Jt*=.45),console.log(`Divises: ${ct.length}, Largura sub-clula: ${Vr.toFixed(2)}, Fonte inicial: ${Jt.toFixed(2)}`);const cn=ct.length>2?(Wt,Vt)=>`${Wt}${Vt}`:(Wt,Vt)=>`${Wt} - ${Vt}`;ct.forEach((Wt,Vt)=>{const Oo=C.get(Wt.professorId)||"??",Ro=cn(dn,Oo),zn=Ut+Vt*Vr,fr={x:zn,y:Ce,w:Vr,h:ve.cell};yd(h,Ro,fr,Jt),Vt<ct.length-1&&(h.setDrawColor(200),h.setLineWidth(.5),h.line(zn+Vr,Ce,zn+Vr,Ce+ve.cell))})}}}Ut+=O.turma}),Ce+=ve.cell});const un=Ce-an;un>0&&(h.setFillColor(240,240,240),h.setDrawColor(150),h.rect(_+O.day,an,O.period,un,"FD"),h.text(bt.name,_+O.day+O.period/2,an+un/2,{align:"center",baseline:"middle",angle:90})),ce.slice(jr+1).some(Cr=>Cr.horarios.length>0)&&(h.setFillColor(200,200,200),h.rect(_,Ce,D-_*2,ve.periodSeparator,"F"),Ce+=ve.periodSeparator)});const Tt=Ce-Nt;Tt>0&&(h.setFillColor(230,230,230),h.setDrawColor(150),h.rect(_,Nt,O.day,Tt,"FD"),h.text($e.charAt(0).toUpperCase()+$e.slice(1),_+O.day/2,Nt+Tt/2,{align:"center",baseline:"middle",angle:90})),tt<_e.length-1&&(h.setFillColor(150,150,150),h.rect(_,Ce,D-_*2,ve.daySeparator,"F"),Ce+=ve.daySeparator)}),se++})},re=[{name:"Manh",horarios:st},{name:"Tarde",horarios:ot}],T=[{name:"Noite",horarios:d==="modular"?On:Sr}];V(ee,re,"Diurno"),V(de,T,"Noturno"),h.addPage("a3","landscape");let $=_;h.setFontSize(16),h.setFont("helvetica","bold"),h.text("Legenda de Siglas",D/2,$,{align:"center"}),$+=30;const je=_,me=D/3+_,xe=D/3*2+_,Ie=D/3-_-10,Ae=8,ke=Ae*1.3;h.setFontSize(12),h.setFont("helvetica","bold"),h.text("Disciplinas",je,$),h.text("Professores",me,$),$+=20;const ze=[...A.entries()].sort((Y,ce)=>Y[0].localeCompare(ce[0])),We=[...S].sort((Y,ce)=>Y.nome.localeCompare(ce.nome));let jt=$,q=$,ae=$;const Ee=Math.ceil(We.length/2),Me=We.slice(0,Ee),ie=We.slice(Ee);h.setFontSize(Ae),h.setFont("helvetica","normal");for(const[Y,ce]of ze){const Re=`${ce}: ${Y}`,ye=h.splitTextToSize(Re,Ie);h.text(ye,je,jt),jt+=ye.length*ke}for(const Y of Me){const ce=C.get(Y.id)||"??";h.text(`${ce}: ${Y.nome}`,me,q,{maxWidth:Ie}),q+=ke}for(const Y of ie){const ce=C.get(Y.id)||"??";h.text(`${ce}: ${Y.nome}`,xe,ae,{maxWidth:Ie}),ae+=ke}return{doc:h}},Kf=({currentView:i,setCurrentView:d,activeGrid:a,isFocusModeEnabled:p,onFocusModeChange:c,onOpenClearDataModal:m,onOpenLoadExampleModal:f})=>{const{state:v,dispatch:x}=lt(),y=()=>{const{draggedItem:W,clipboard:I,selectedSlotId:h,onlineUsers:D,toastMessage:z,saveStatus:_,...E}=v,U=JSON.stringify(E,null,2),O="data:application/json;charset=utf-8,"+encodeURIComponent(U),P="grade_horarios.json",H=document.createElement("a");H.setAttribute("href",O),H.setAttribute("download",P),H.click()},g=()=>{const{grade:W,turmas:I,disciplinas:h,professores:D}=v,z="Turma,Dia,Horario,Disciplina,Professor",_=W.map(H=>{const te=I.find(pe=>pe.id===H.turmaId)?.nome||H.turmaId,ee=h.find(pe=>pe.id===H.disciplinaId)?.nome||H.disciplinaId,de=D.find(pe=>pe.id===H.professorId)?.nome||H.professorId;return[te,H.dia,H.horario,`"${ee}"`,`"${de}"`].join(",")}),E=[z,..._].join(`
`),U=new Blob([`\uFEFF${E}`],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(U),P=document.createElement("a");P.setAttribute("href",O),P.setAttribute("download","grade_horarios.csv"),P.click(),URL.revokeObjectURL(O)},j=()=>{x({type:"SHOW_TOAST",payload:"Gerando arquivo XLSX..."}),setTimeout(()=>{try{const{workbook:W,error:I}=Vf(v);if(I){x({type:"SHOW_TOAST",payload:I});return}W&&W.xlsx.writeBuffer().then(h=>{const D=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),z=URL.createObjectURL(D),_=document.createElement("a");_.setAttribute("href",z),_.setAttribute("download","grade_horarios.xlsx"),document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(z),x({type:"SHOW_TOAST",payload:"Exportao para XLSX concluda!"})}).catch(h=>{console.error("Error writing XLSX buffer:",h),x({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})})}catch(W){console.error("Error generating XLSX file:",W),x({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})}},50)},S=()=>{i==="grid"&&(x({type:"SHOW_TOAST",payload:"Gerando arquivo PDF..."}),setTimeout(()=>{try{const{doc:W,error:I}=Yf(v,a);if(I||!W){x({type:"SHOW_TOAST",payload:I||"Erro ao gerar PDF."});return}const h=`grade_${a}.pdf`;W.save(h),x({type:"SHOW_TOAST",payload:"Exportao para PDF concluda!"})}catch(W){console.error("Error generating PDF:",W),x({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo PDF."})}},50))},N=W=>{const I=new FileReader;W.target.files&&W.target.files[0]&&(I.readAsText(W.target.files[0],"UTF-8"),I.onload=h=>{if(h.target&&typeof h.target.result=="string")try{const D=JSON.parse(h.target.result);D.version&&D.cursos?(x({type:"SET_STATE",payload:D}),x({type:"SHOW_TOAST",payload:"Arquivo importado com sucesso!"})):x({type:"SHOW_TOAST",payload:"Arquivo JSON invlido."})}catch{x({type:"SHOW_TOAST",payload:"Erro ao processar o arquivo JSON."})}},W.target.value="")},C="px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",A="bg-indigo-600 text-white",B="bg-gray-200 text-gray-700 hover:bg-gray-300";return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-700",children:"Timetable Scheduler"}),s.jsxs("div",{className:"flex items-center bg-gray-200 rounded-md p-1",children:[s.jsx("button",{onClick:()=>d("dashboard"),className:`${C} ${i==="dashboard"?A:B}`,children:"Painel"}),s.jsx("button",{onClick:()=>d("grid"),className:`${C} ${i==="grid"?A:B}`,children:"Grade"}),s.jsx("button",{onClick:()=>d("management"),className:`${C} ${i==="management"?A:B}`,children:"Gerenciamento"}),s.jsx("button",{onClick:()=>d("professor"),className:`${C} ${i==="professor"?A:B}`,children:"Professor"})]}),i==="grid"&&s.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[s.jsx("label",{htmlFor:"focus-mode-toggle",className:"text-sm font-medium text-gray-700 select-none cursor-pointer",children:"Modo Foco"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"focus-mode-toggle",type:"checkbox",className:"sr-only",checked:p,onChange:W=>c(W.target.checked)}),s.jsx("div",{onClick:()=>c(!p),className:`block w-10 h-6 rounded-full transition-colors cursor-pointer ${p?"bg-indigo-600":"bg-gray-200"}`}),s.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${p?"translate-x-4":""}`})]})]})]}),s.jsxs("div",{className:"flex items-center flex-wrap gap-x-2 gap-y-1",children:[s.jsx(Wf,{status:v.saveStatus,lastModifiedBy:v.lastModifiedBy,lastModifiedAt:v.lastModifiedAt}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),s.jsx(Uf,{}),s.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),s.jsx("button",{onClick:f,className:"p-2 rounded hover:bg-gray-200",title:"Carregar dados de demonstrao",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7v4c0 2.21 3.582 4 8 4s8-1.79 8-4V7"})})}),s.jsx("button",{onClick:m,className:"p-2 rounded hover:bg-gray-200",title:"Limpar todos os dados da aplicao",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),s.jsx("button",{onClick:()=>x({type:"UNDO"}),className:"p-2 rounded hover:bg-gray-200",title:"Desfazer (Ctrl+Z)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8a5 5 0 015 5v1"})})}),s.jsx("button",{onClick:()=>x({type:"REDO"}),className:"p-2 rounded hover:bg-gray-200",title:"Refazer (Ctrl+Y)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 15l3-3m0 0l-3-3m3 3H5a5 5 0 01-5-5v-1"})})}),s.jsxs("label",{htmlFor:"import-json",className:"cursor-pointer p-2 rounded hover:bg-gray-200",title:"Restaurar backup (JSON)",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),s.jsx("input",{type:"file",id:"import-json",className:"hidden",accept:".json",onChange:N})]}),s.jsx("button",{onClick:y,className:"p-2 rounded hover:bg-gray-200",title:"Fazer backup dos dados (JSON)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),s.jsx("button",{onClick:g,className:"p-2 rounded hover:bg-gray-200",title:"Exportar dados brutos para planilha (CSV)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{onClick:j,className:"p-2 rounded hover:bg-gray-200",title:"Exportar grades formatadas para Excel (XLSX)",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsx("button",{onClick:S,disabled:i!=="grid",className:"p-2 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Exportar grade atual para PDF",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-700 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})]})})},Zf=()=>s.jsxs("div",{className:"px-4",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Legenda de Alertas:"}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-green-200 border border-gray-300"}),s.jsx("span",{children:"Horrio Vlido (sem conflitos)"})]},"valid-slot"),Object.keys(sn).map(i=>{const d=i,{bg:a,name:p}=sn[d];return s.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("span",{className:`w-4 h-4 rounded-full ${a}`}),s.jsx("span",{children:p})]},i)})]})]});var Jf=Cd();const Wr=({isOpen:i,onClose:d,title:a,children:p,size:c="md",contentRef:m})=>{const f=F.useRef(null);if(F.useEffect(()=>{f.current=document.getElementById("modal-root")},[]),!i||!f.current)return null;const v={md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};return Jf.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:d,children:s.jsxs("div",{className:`bg-white rounded-lg shadow-xl w-full ${v[c]} flex flex-col max-h-[90vh]`,onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-6 pb-4 border-b",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a}),s.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"overflow-y-auto p-6",ref:m,children:p})]})}),f.current)},Lo=({isOpen:i,onClose:d,onConfirm:a,title:p,message:c})=>{const m=()=>{a(),d()};return s.jsx(Wr,{isOpen:i,onClose:d,title:p,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-700",children:c}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),s.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Confirmar Excluso"})]})]})})},ep=()=>{const{state:i,dispatch:d}=lt(),[a,p]=F.useState(!1),[c,m]=F.useState(null),[f,v]=F.useState(""),[x,y]=F.useState({isOpen:!1,id:null}),g=A=>{m(A),v(A?A.nome:""),p(!0)},j=()=>{p(!1),m(null),v("")},S=A=>{A.preventDefault(),f.trim()&&(d(c?{type:"UPDATE_CURSO",payload:{...c,nome:f}}:{type:"ADD_CURSO",payload:{id:`c${Date.now()}`,nome:f}}),j())},N=A=>{y({isOpen:!0,id:A})},C=()=>{x.id&&d({type:"DELETE_CURSO",payload:{id:x.id}}),y({isOpen:!1,id:null})};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Cursos"}),s.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Adicionar Curso"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.cursos.length>0?i.cursos.map(A=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 flex flex-col justify-between hover:shadow-md transition-shadow",children:[s.jsx("span",{className:"font-medium text-gray-800 mb-4",children:A.nome}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>g(A),className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100 transition-colors",title:"Editar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})})}),s.jsx("button",{onClick:()=>N(A.id),className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100 transition-colors",title:"Excluir",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},A.id)):s.jsx("div",{className:"col-span-full bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center text-gray-500",children:"Nenhum curso cadastrado."})}),s.jsx(Wr,{isOpen:a,onClose:j,title:c?"Editar Curso":"Adicionar Curso",children:s.jsxs("form",{onSubmit:S,children:[s.jsx("label",{htmlFor:"cursoName",className:"block text-sm font-medium text-gray-700",children:"Nome do Curso"}),s.jsx("input",{type:"text",id:"cursoName",value:f,onChange:A=>v(A.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Salvar"})]})]})}),s.jsx(Lo,{isOpen:x.isOpen,onClose:()=>y({isOpen:!1,id:null}),onConfirm:C,title:"Confirmar Excluso de Curso",message:"Tem certeza que deseja excluir este curso? Todas as turmas, disciplinas e aulas associadas tambm sero removidas permanentemente."})]})},tp=()=>{const{state:i,dispatch:d}=lt(),[a,p]=F.useState(!1),[c,m]=F.useState(null),[f,v]=F.useState({nome:"",cursoId:"",periodo:"manha",isModular:!1}),[x,y]=F.useState("all"),[g,j]=F.useState({isOpen:!1,id:null});F.useEffect(()=>{!f.cursoId&&i.cursos.length>0&&v(h=>({...h,cursoId:i.cursos[0].id}))},[i.cursos,f.cursoId]);const S=h=>{m(h),v(h?{nome:h.nome,cursoId:h.cursoId,periodo:h.periodo,isModular:!!h.isModular}:{nome:"",cursoId:i.cursos[0]?.id||"",periodo:"manha",isModular:!1}),p(!0)},N=()=>{p(!1),m(null),v({nome:"",cursoId:"",periodo:"manha",isModular:!1})},C=h=>{h.preventDefault(),!(!f.nome.trim()||!f.cursoId||!f.periodo)&&(d(c?{type:"UPDATE_TURMA",payload:{...c,...f}}:{type:"ADD_TURMA",payload:{id:`t${Date.now()}`,...f}}),N())},A=h=>{j({isOpen:!0,id:h})},B=()=>{g.id&&d({type:"DELETE_TURMA",payload:{id:g.id}}),j({isOpen:!1,id:null})},W=h=>i.cursos.find(D=>D.id===h)?.nome||"N/A",I=i.turmas.filter(h=>x==="all"?!0:h.cursoId===x);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Turmas"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Curso"}),s.jsxs("select",{id:"curso-filter",value:x,onChange:h=>y(h.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Cursos"}),i.cursos.map(h=>s.jsx("option",{value:h.id,children:h.nome},h.id))]})]}),s.jsx("button",{onClick:()=>S(null),className:"self-end px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",disabled:i.cursos.length===0,children:"Adicionar Turma"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.length>0?I.map(h=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 flex flex-col justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:h.nome}),h.isModular&&s.jsx("span",{className:"flex-shrink-0 text-xs bg-purple-100 text-purple-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:"Modular"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:W(h.cursoId)}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:h.periodo})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[s.jsx("button",{onClick:()=>S(h),className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100 transition-colors",title:"Editar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})})}),s.jsx("button",{onClick:()=>A(h.id),className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100 transition-colors",title:"Excluir",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},h.id)):s.jsx("div",{className:"col-span-full bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center text-gray-500",children:i.turmas.length===0?"Nenhuma turma cadastrada.":"Nenhuma turma encontrada para o filtro selecionado."})}),s.jsx(Wr,{isOpen:a,onClose:N,title:c?"Editar Turma":"Adicionar Turma",children:s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"turmaName",className:"block text-sm font-medium text-gray-700",children:"Nome da Turma"}),s.jsx("input",{type:"text",id:"turmaName",value:f.nome,onChange:h=>v({...f,nome:h.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cursoId",className:"block text-sm font-medium text-gray-700",children:"Curso"}),s.jsxs("select",{id:"cursoId",value:f.cursoId,onChange:h=>v({...f,cursoId:h.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Selecione um curso"}),i.cursos.map(h=>s.jsx("option",{value:h.id,children:h.nome},h.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"turmaPeriodo",className:"block text-sm font-medium text-gray-700",children:"Perodo"}),s.jsxs("select",{id:"turmaPeriodo",value:f.periodo,onChange:h=>v({...f,periodo:h.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[s.jsx("option",{value:"manha",children:"Manh"}),s.jsx("option",{value:"tarde",children:"Tarde"}),s.jsx("option",{value:"noite",children:"Noite"})]})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"isModular",type:"checkbox",checked:f.isModular,onChange:h=>v({...f,isModular:h.target.checked}),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"isModular",className:"font-medium text-gray-700",children:"Turma Modular?"}),s.jsx("p",{className:"text-gray-500",children:"Turmas modulares aparecero em uma grade de horrios separada."})]})]})}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Salvar"})]})]})}),s.jsx(Lo,{isOpen:g.isOpen,onClose:()=>j({isOpen:!1,id:null}),onConfirm:B,title:"Confirmar Excluso de Turma",message:"Tem certeza que deseja excluir esta turma? Todas as disciplinas e aulas associadas tambm sero removidas permanentemente."})]})},rp=({isOpen:i,onClose:d})=>{const{state:a,dispatch:p}=lt(),c=F.useMemo(()=>{const x={};return a.disciplinas.forEach(y=>{y.bnccId||(x[y.nome]||(x[y.nome]={turmas:new Set}),x[y.nome].turmas.add(y.turmaId))}),Object.entries(x).filter(([y,g])=>g.turmas.size>1).map(([y,g])=>({nome:y,count:g.turmas.size})).sort((y,g)=>g.count!==y.count?g.count-y.count:y.nome.localeCompare(g.nome))},[a.disciplinas]),m=x=>{p({type:"CREATE_BNCC",payload:{nome:x}})},f=x=>{p({type:"DELETE_BNCC",payload:{bnccId:x}})},v="flex-shrink-0 w-32 justify-center text-center text-sm px-3 py-1 rounded-md transition-colors";return s.jsx(Wr,{isOpen:i,onClose:d,title:"Gerenciar Grupos BNCC",size:"4xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Sugestes de Grupos BNCC"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Disciplinas com o mesmo nome em mltiplas turmas so candidatas a se tornarem um grupo BNCC."}),c.length>0?s.jsx("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto pr-2",children:c.map(x=>s.jsxs("li",{className:"py-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:x.nome}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",x.count," turmas)"]})]}),s.jsx("button",{onClick:()=>m(x.nome),className:`${v} bg-green-500 text-white hover:bg-green-600`,children:"Criar Grupo"})]},x.nome))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma sugesto de grupo BNCC encontrada."})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-inner",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Grupos BNCC Atuais"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:'As atribuies de professores para estes grupos so feitas na aba "Atribuies".'}),a.bncc.length>0?s.jsx("ul",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto pr-2",children:a.bncc.map(x=>s.jsxs("li",{className:"py-3 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:x.nome}),s.jsx("button",{onClick:()=>f(x.id),className:`${v} bg-red-500 text-white hover:bg-red-600`,children:"Desfazer Grupo"})]},x.id))}):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum grupo BNCC foi criado."})]})]})})},np=()=>{const{state:i,dispatch:d}=lt(),[a,p]=F.useState(!1),[c,m]=F.useState(!1),[f,v]=F.useState(null),[x,y]=F.useState({nome:"",turmaId:"",divisao:!1,numProfessores:1,aulasSemanais:1}),[g,j]=F.useState("all"),[S,N]=F.useState({isOpen:!1,id:null});F.useEffect(()=>{!x.turmaId&&i.turmas.length>0&&y(E=>({...E,turmaId:i.turmas[0].id}))},[i.turmas,x.turmaId]);const C=F.useMemo(()=>i.turmas.find(E=>E.id===x.turmaId)?.isModular??!1,[x.turmaId,i.turmas]),A=E=>{if(v(E),E)y({...E});else{const U=i.turmas.length>0?i.turmas[0].id:"",P=i.turmas.find(H=>H.id===U)?.isModular?1.25:1;y({nome:"",turmaId:U,divisao:!1,numProfessores:1,aulasSemanais:P})}p(!0)},B=()=>{p(!1),v(null)},W=E=>{if(E.preventDefault(),!x.nome.trim()||!x.turmaId)return;const U={...x,numProfessores:x.divisao?x.numProfessores:1};d(f?{type:"UPDATE_DISCIPLINA",payload:{...f,...U}}:{type:"ADD_DISCIPLINA",payload:{id:`d${Date.now()}`,...U}}),B()},I=E=>{N({isOpen:!0,id:E})},h=()=>{S.id&&d({type:"DELETE_DISCIPLINA",payload:{id:S.id}}),N({isOpen:!1,id:null})},D=E=>{y(U=>{if(f)return{...U,turmaId:E};const P=i.turmas.find(H=>H.id===E)?.isModular?1.25:1;return{...U,turmaId:E,aulasSemanais:P}})},z=E=>i.turmas.find(U=>U.id===E)?.nome||"N/A",_=F.useMemo(()=>{if(g==="all")return i.disciplinas;const E=i.turmas.filter(U=>U.cursoId===g).map(U=>U.id);return i.disciplinas.filter(U=>E.includes(U.turmaId))},[i.disciplinas,i.turmas,g]);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Disciplinas"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{htmlFor:"curso-filter",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Curso"}),s.jsxs("select",{id:"curso-filter",value:g,onChange:E=>j(E.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Cursos"}),i.cursos.map(E=>s.jsx("option",{value:E.id,children:E.nome},E.id))]})]}),s.jsx("button",{onClick:()=>m(!0),className:"self-end px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700",children:"Gerenciar Grupos BNCC"}),s.jsx("button",{onClick:()=>A(null),className:"self-end px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",disabled:i.turmas.length===0,children:"Adicionar Disciplina"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.length>0?_.map(E=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 flex flex-col justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:E.nome}),s.jsx("p",{className:"text-sm text-gray-500",children:z(E.turmaId)}),s.jsxs("p",{className:"text-sm text-gray-500",children:[E.aulasSemanais," aulas/semana"]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[E.bnccId&&s.jsx("span",{className:"text-xs bg-pink-100 text-pink-800 font-semibold px-2 py-0.5 rounded-full",children:"BNCC"}),E.divisao&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 font-semibold px-2 py-0.5 rounded-full",children:["Diviso (",E.numProfessores,")"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[s.jsx("button",{onClick:()=>A(E),className:"p-2 text-gray-500 hover:text-indigo-600 rounded-full hover:bg-gray-100 transition-colors",title:"Editar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})})}),s.jsx("button",{onClick:()=>I(E.id),className:"p-2 text-gray-500 hover:text-red-600 rounded-full hover:bg-gray-100 transition-colors",title:"Excluir",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},E.id)):s.jsx("div",{className:"col-span-full bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center text-gray-500",children:i.disciplinas.length===0?"Nenhuma disciplina cadastrada.":"Nenhuma disciplina encontrada para o filtro selecionado."})}),s.jsx(Wr,{isOpen:a,onClose:B,title:f?"Editar Disciplina":"Adicionar Disciplina",children:s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Nome da Disciplina"}),s.jsx("input",{type:"text",value:x.nome,onChange:E=>y({...x,nome:E.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Aulas por Semana"}),s.jsx("input",{type:"number",min:C?"1.25":"1",step:C?"1.25":"1",value:x.aulasSemanais,onChange:E=>y({...x,aulasSemanais:parseFloat(E.target.value)||(C?1.25:1)}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Turma"}),s.jsx("select",{value:x.turmaId,onChange:E=>D(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:i.turmas.map(E=>s.jsx("option",{value:E.id,children:E.nome},E.id))})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"divisao",type:"checkbox",checked:x.divisao,onChange:E=>y({...x,divisao:E.target.checked}),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),s.jsx("div",{className:"ml-3 text-sm",children:s.jsx("label",{htmlFor:"divisao",className:"font-medium text-gray-700",children:"Diviso de turma?"})})]}),x.divisao&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Nmero de Professores"}),s.jsx("input",{type:"number",min:"2",value:x.numProfessores,onChange:E=>y({...x,numProfessores:parseInt(E.target.value)||2}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 bg-gray-200 rounded-md",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Salvar"})]})]})}),s.jsx(Lo,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,id:null}),onConfirm:h,title:"Confirmar Excluso de Disciplina",message:"Tem certeza que deseja excluir esta disciplina? Todas as atribuies e aulas associadas tambm sero removidas permanentemente."}),s.jsx(rp,{isOpen:c,onClose:()=>m(!1)})]})},sp=({disponibilidade:i,onAvailabilityChange:d})=>{const a=(f,v)=>{const x={...i};x[f]||(x[f]=[]);const y=x[f].includes(v);x[f]=y?x[f].filter(g=>g!==v):[...x[f],v],d(x)},p=(f,v)=>{const x={...i};x[f]||(x[f]=[]);const y=v.every(j=>x[f].includes(j));let g=[...x[f]];y?g=g.filter(j=>!v.includes(j)):v.forEach(j=>{g.includes(j)||g.push(j)}),x[f]=g,d(x)},c=f=>{const v={...i},x=_e.every(y=>v[y]?.includes(f));_e.forEach(y=>{v[y]||(v[y]=[]);const g=v[y].includes(f);x?g&&(v[y]=v[y].filter(j=>j!==f)):g||v[y].push(f)}),d(v)},m=({label:f,horarios:v})=>s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50/50",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:f}),s.jsxs("div",{className:"grid gap-px",style:{gridTemplateColumns:"auto repeat(6, 1fr)"},children:[s.jsx("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center sticky top-0 bg-gray-50",children:"Horrio"}),_e.map(x=>s.jsx("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center capitalize sticky top-0 bg-gray-50",children:s.jsx("button",{onClick:()=>p(x,v),className:"hover:text-indigo-600 w-full",title:`Marcar/desmarcar todos os horrios da ${f.toLowerCase()} para ${x}`,children:x})},x)),s.jsx("div",{className:"font-semibold text-sm text-gray-500 px-1 py-2 text-center sticky top-0 bg-gray-50",children:"Aes"}),v.map(x=>s.jsxs(on.Fragment,{children:[s.jsx("div",{className:"text-sm font-mono px-1 py-2 text-center flex items-center justify-center bg-white",children:x}),_e.map(y=>{const g=i[y]?.includes(x)??!1;return s.jsx("div",{className:"py-1 px-0.5 flex items-center justify-center bg-white",children:s.jsx("button",{type:"button",onClick:()=>a(y,x),className:`w-6 h-6 rounded-md transition-colors ${g?"bg-emerald-500 hover:bg-emerald-600":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":`Disponibilidade para ${y} s ${x}: ${g?"Disponvel":"Indisponvel"}`})},`${y}-${x}`)}),s.jsx("div",{className:"py-1 px-0.5 flex items-center justify-center bg-white",children:s.jsx("button",{onClick:()=>c(x),className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded-full text-xs font-semibold hover:bg-indigo-200 transition-colors",title:`Marcar/desmarcar ${x} para todos os dias`,children:"Todos"})})]},x))]})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsx(m,{label:"Manh",horarios:st}),s.jsx(m,{label:"Tarde",horarios:ot}),s.jsx(m,{label:"Noite",horarios:Sr})]})},op=()=>{const{state:i,dispatch:d}=lt(),[a,p]=F.useState(!1),[c,m]=F.useState(new Set),[f,v]=F.useState([]),[x,y]=F.useState({nome:"",disponibilidade:{}}),[g,j]=F.useState(""),[S,N]=F.useState({isOpen:!1,ids:[]}),[C,A]=F.useState(""),B=F.useRef(null),W=F.useRef(0),I=F.useMemo(()=>[...i.professores].sort((K,se)=>K.nome.localeCompare(se.nome)),[i.professores]),h=F.useMemo(()=>C.trim()?I.filter(K=>K.nome.toLowerCase().includes(C.toLowerCase())):I,[I,C]),D=K=>{const se=new Set(c);se.has(K)?se.delete(K):se.add(K),m(se)},z=()=>{c.size===h.length?m(new Set):m(new Set(h.map(K=>K.id)))},_=()=>{v([]),y({nome:"",disponibilidade:{}}),j(""),W.current=0,p(!0)},E=()=>{if(c.size===0)return;const K=I.filter(se=>c.has(se.id));if(v(K),K.length===1)y({...K[0]});else if(K.length>1){const se={},V=[...st,...ot,...Sr];_e.forEach(re=>{se[re]=V.filter(J=>K.every(T=>T.disponibilidade[re]?.includes(J)))}),y({nome:"",disponibilidade:se})}j(""),W.current=0,p(!0)},U=()=>{p(!1)},O=K=>{if(K.preventDefault(),f.length>0){if(f.length===1&&!x.nome.trim())return;f.forEach(se=>{const V={...se,nome:f.length===1?x.nome:se.nome,disponibilidade:x.disponibilidade};d({type:"UPDATE_PROFESSOR",payload:V})})}else{if(!x.nome.trim())return;d({type:"ADD_PROFESSOR",payload:{id:`p${Date.now()}`,...x}})}U(),m(new Set)},P=()=>{c.size!==0&&N({isOpen:!0,ids:Array.from(c)})},H=()=>{S.ids.forEach(K=>{d({type:"DELETE_PROFESSOR",payload:{id:K}})}),N({isOpen:!1,ids:[]}),m(new Set)},te=()=>{if(!g)return;const K=i.professores.find(se=>se.id===g);if(K){const se=JSON.parse(JSON.stringify(K.disponibilidade));y(V=>({...V,disponibilidade:se}))}},ee=K=>{B.current&&(W.current=B.current.scrollTop),y(se=>({...se,disponibilidade:K}))};F.useLayoutEffect(()=>{B.current&&(B.current.scrollTop=W.current)},[x.disponibilidade]);const de=h.length>0&&c.size===h.length,pe=f.length===0?"Adicionar Professor":f.length>1?`Editar Disponibilidade de ${f.length} Professores`:"Editar Professor";return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Professores"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full md:w-auto",children:[s.jsx("input",{type:"text",value:C,onChange:K=>A(K.target.value),placeholder:"Buscar por nome...",className:"block w-full sm:w-48 pl-3 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"}),s.jsx("button",{onClick:_,className:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Adicionar"}),s.jsx("button",{onClick:E,disabled:c.size===0,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400",children:"Editar Selecionados"}),s.jsx("button",{onClick:P,disabled:c.size===0,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400",children:"Excluir Selecionados"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[s.jsx("div",{className:"px-4 sm:px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:de,onChange:z,"aria-label":"Selecionar todos os professores"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-600",children:c.size>0?`${c.size} selecionado(s)`:`Selecionar Todos (${h.length})`})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:h.length>0?h.map(K=>s.jsx("div",{className:"px-4 sm:px-6 py-3 flex items-center justify-between hover:bg-gray-50/50 transition-colors",children:s.jsxs("label",{htmlFor:`prof-select-${K.id}`,className:"flex items-center cursor-pointer",children:[s.jsx("input",{id:`prof-select-${K.id}`,type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:c.has(K.id),onChange:()=>D(K.id)}),s.jsx("span",{className:"ml-3 font-medium text-gray-800",children:K.nome})]})},K.id)):s.jsx("div",{className:"px-6 py-4 text-center text-gray-500",children:i.professores.length===0?"Nenhum professor cadastrado.":"Nenhum professor encontrado para o filtro selecionado."})})]}),s.jsx(Wr,{isOpen:a,onClose:U,title:pe,size:"5xl",contentRef:B,children:s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[f.length<=1&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Nome do Professor"}),s.jsx("input",{type:"text",value:x.nome,onChange:K=>y({...x,nome:K.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),f.length<=1&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Copiar Disponibilidade de:"}),s.jsxs("div",{className:"mt-1 flex space-x-2",children:[s.jsxs("select",{value:g,onChange:K=>j(K.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",disabled:i.professores.filter(K=>K.id!==(f[0]?.id||"")).length===0,children:[s.jsx("option",{value:"",children:"Selecione um professor..."}),i.professores.filter(K=>K.id!==(f[0]?.id||"")).sort((K,se)=>K.nome.localeCompare(se.nome)).map(K=>s.jsx("option",{value:K.id,children:K.nome},K.id))]}),s.jsx("button",{type:"button",onClick:te,disabled:!g,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed",children:"Copiar"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Disponibilidade"}),f.length>1&&s.jsxs("p",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded-md mb-2",children:[s.jsx("strong",{children:"Ateno:"})," Voc est editando mltiplos professores. Um horrio aparecer marcado apenas se TODOS os professores selecionados estiverem disponveis. Qualquer alterao aqui ser aplicada a TODOS."]}),s.jsx(sp,{disponibilidade:x.disponibilidade,onAvailabilityChange:ee})]}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-gray-200 rounded-md",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Salvar"})]})]})}),s.jsx(Lo,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,ids:[]}),onConfirm:H,title:`Confirmar Excluso de ${S.ids.length} Professor(es)`,message:`Tem certeza que deseja excluir ${S.ids.length>1?`os ${S.ids.length} professores selecionados`:"este professor"}? Eles sero removidos de todas as atribuies e aulas permanentemente.`})]})},vd=({allProfessors:i,selectedProfessorIds:d,onSelectionChange:a,maxSelection:p=1})=>{const[c,m]=F.useState(""),[f,v]=F.useState(!1),x=F.useRef(null),y=F.useMemo(()=>d.map(C=>i.find(A=>A.id===C)).filter(C=>!!C),[d,i]),g=F.useMemo(()=>{const C=c.toLowerCase();return i.filter(A=>A.nome.toLowerCase().includes(C))},[c,i]);F.useEffect(()=>{const C=A=>{x.current&&!x.current.contains(A.target)&&v(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[x]);const j=C=>{d.length<p&&(a([...d,C]),m(""),v(!1))},S=C=>{a(d.filter((A,B)=>B!==C))},N=d.length<p;return s.jsxs("div",{className:"relative",ref:x,children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 border border-gray-300 rounded-md bg-white min-h-[42px]",children:[y.map((C,A)=>s.jsxs("div",{className:"flex items-center bg-indigo-100 text-indigo-800 text-sm font-medium px-2 py-1 rounded-full",children:[s.jsx("span",{children:C.nome}),s.jsx("button",{type:"button",onClick:()=>S(A),className:"ml-2 text-indigo-500 hover:text-indigo-700 focus:outline-none","aria-label":`Remover ${C.nome}`,children:""})]},`${C.id}-${A}`)),N&&s.jsx("input",{type:"text",value:c,onChange:C=>m(C.target.value),onFocus:()=>v(!0),placeholder:"Adicionar professor...",className:"flex-grow p-1 bg-transparent focus:outline-none"})]}),f&&N&&s.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:g.length>0?g.map(C=>s.jsx("li",{onClick:()=>j(C.id),className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100",children:C.nome},C.id)):s.jsx("li",{className:"px-4 py-2 text-sm text-gray-500 cursor-default",children:"Nenhum professor encontrado."})})]})},lp=()=>{const{state:i,dispatch:d}=lt(),{disciplinas:a,professores:p,atribuicoes:c,turmas:m,cursos:f}=i,[v,x]=F.useState(""),y=[...p].sort((B,W)=>B.nome.localeCompare(W.nome)),g=[...f].sort((B,W)=>B.nome.localeCompare(W.nome)),j=B=>c.find(W=>W.disciplinaId===B)?.professores||[],S=(B,W)=>{W.length===0?d({type:"DELETE_ATRIBUICAO",payload:{disciplinaId:B}}):d({type:"UPDATE_ATRIBUICAO",payload:{disciplinaId:B,professores:W}})},N=F.useMemo(()=>{if(!v.trim())return null;const B=v.toLowerCase();return y.filter(h=>h.nome.toLowerCase().includes(B)).map(h=>{const D=c.filter(z=>z.professores.includes(h.id)).map(z=>a.find(_=>_.id===z.disciplinaId)).filter(z=>!!z);return{professor:h,disciplinas:D.sort((z,_)=>z.nome.localeCompare(_.nome))}}).filter(h=>h.disciplinas.length>0)},[v,y,c,a]),C=()=>s.jsx(s.Fragment,{children:g.length>0?g.map(B=>{const W=m.filter(I=>I.cursoId===B.id).sort((I,h)=>I.nome.localeCompare(h.nome));return W.length===0?null:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-bold text-indigo-700 mb-4 pb-2 border-b",children:B.nome}),s.jsx("div",{className:"space-y-6",children:W.map(I=>{const h=a.filter(D=>D.turmaId===I.id).sort((D,z)=>D.nome.localeCompare(z.nome));return h.length===0?null:s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[I.nome,I.isModular&&s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 font-semibold ml-2 px-2 py-0.5 rounded-full",children:"Modular"})]}),s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(D=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:D.nome}),D.bnccId&&s.jsx("span",{className:"ml-2 text-xs bg-pink-100 text-pink-800 font-semibold px-2 py-0.5 rounded-full",children:"BNCC"}),D.divisao&&s.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 font-semibold px-2 py-0.5 rounded-full",children:["Diviso (",D.numProfessores,")"]})]}),s.jsx(vd,{allProfessors:y,selectedProfessorIds:j(D.id),onSelectionChange:z=>S(D.id,z),maxSelection:D.numProfessores})]},D.id))})]},I.id)})})]},B.id)}):s.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-lg shadow",children:"Nenhum curso cadastrado. Por favor, adicione cursos na aba 'Cursos'."})}),A=()=>s.jsx(s.Fragment,{children:N&&N.length>0?N.map(({professor:B,disciplinas:W})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-bold text-indigo-700 mb-4 pb-2 border-b",children:B.nome}),s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(I=>{const h=m.find(z=>z.id===I.turmaId),D=f.find(z=>z.id===h?.cursoId);return s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[s.jsxs("div",{className:"mb-1",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:I.nome}),I.bnccId&&s.jsx("span",{className:"ml-2 text-xs bg-pink-100 text-pink-800 font-semibold px-2 py-0.5 rounded-full",children:"BNCC"}),I.divisao&&s.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 font-semibold px-2 py-0.5 rounded-full",children:["Diviso (",I.numProfessores,")"]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[D?.nome," / ",h?.nome]}),s.jsx(vd,{allProfessors:y,selectedProfessorIds:j(I.id),onSelectionChange:z=>S(I.id,z),maxSelection:I.numProfessores})]},I.id)})})]},B.id)):s.jsxs("div",{className:"text-center text-gray-500 py-8 bg-white rounded-lg shadow",children:['Nenhum professor encontrado com o nome "',v,'" que possua atribuies.']})});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Atribuies"}),s.jsxs("div",{className:"w-64",children:[s.jsx("label",{htmlFor:"professor-search-atribuicao",className:"block text-sm font-medium text-gray-700",children:"Buscar por Professor"}),s.jsx("input",{type:"text",id:"professor-search-atribuicao",value:v,onChange:B=>x(B.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]})]}),s.jsx("div",{className:"space-y-8",children:v.trim()?A():C()})]})},ip=i=>{const d=i.toLowerCase();return d.includes("manh")?"manha":d.includes("tarde")?"tarde":d.includes("noite")?"noite":"manha"},_o=(i,d)=>{let a=0;for(let c=0;c<i.length;c++){const m=i.charCodeAt(c);a=(a<<5)-a+m,a|=0}const p=i.trim().toLowerCase().replace(/[^a-z0-9]/g,"");return`${d}-${p.substring(0,30)}-${Math.abs(a).toString(36)}`},ap=i=>{const a=new DOMParser().parseFromString(i,"text/html"),p=new Map,c=new Map,m=new Map,f=new Map,v=[],x=["ensino mdio","mtec","novotec","integrado"],y=j=>{const S=j.trim();if(!S)return f.has("Vago")||f.set("Vago",{id:"p-vago",nome:"Vago",disponibilidade:{}}),f.get("Vago");if(!f.has(S)){const N={id:_o(S,"p"),nome:S,disponibilidade:{}};f.set(S,N)}return f.get(S)};a.querySelectorAll("tr.success").forEach(j=>{j.textContent;const S=Array.from(j.querySelectorAll("strong")),N=Array.from(j.querySelectorAll("b")),C=(P,H)=>{for(const te of H)if(te&&te.previousSibling?.textContent?.includes(P))return te.textContent?.trim()||null;return null},A=C("Curso:",N)||"Curso Desconhecido",B=!x.some(P=>A.toLowerCase().includes(P)),W=A.replace(/\s*\(.*?\)\s*/g," ").trim(),I=C("Turma:",S),h=C("Perodo:",S);if(!I||!h)return;p.has(W)||p.set(W,{id:_o(W,"c"),nome:W});const D=p.get(W),z=`${D.nome}-${I}`;c.has(z)||c.set(z,{id:_o(z,"t"),cursoId:D.id,nome:I,periodo:ip(h),isModular:B});const _=c.get(z),E=j.nextElementSibling?.querySelector("table.table-condensed");if(!E)return;const U=Array.from(E.querySelectorAll("tbody > tr:not(.warning)")),O=new Map;U.forEach(P=>{const H=P.querySelectorAll("td");if(H.length<7)return;const te=H[0].querySelector("a");if(!te)return;const pe=(te.textContent||"").trim().replace(/^\(\d+\)_/,"").trim().replace(/\s*\(.*?\)\s*/g," ").trim(),K=parseFloat((H[4].textContent||"0").replace(",",".")),se=B?K:Math.round(K);O.has(pe)||O.set(pe,{rows:[],aulasSemanais:se}),O.get(pe).rows.push(P)}),O.forEach((P,H)=>{const{rows:te,aulasSemanais:ee}=P;if(te.length===0)return;const de=te.length>1,pe=[];te.forEach(V=>{const J=(V.querySelectorAll("td")[6].textContent||"").trim();pe.push(y(J).id)});const K=`${_.id}-${H}`;if(!m.has(K)){const V={id:_o(K,"d"),turmaId:_.id,nome:H,aulasSemanais:ee,divisao:de,numProfessores:te.length};m.set(K,V)}const se=m.get(K);pe.length>0&&(v.find(re=>re.disciplinaId===se.id)||v.push({disciplinaId:se.id,professores:pe.filter(re=>re!=="p-vago")}))})});const g=Array.from(f.values());return{ano:new Date().getFullYear(),cursos:Array.from(p.values()),turmas:Array.from(c.values()),disciplinas:Array.from(m.values()),professores:g,atribuicoes:v,grade:[],alertas:[]}},up=()=>{const{dispatch:i}=lt(),[d,a]=F.useState("upload"),[p,c]=F.useState(null),[m,f]=F.useState(null),[v,x]=F.useState({}),[y,g]=F.useState(!1),[j,S]=F.useState(null),N=I=>{const h=I.target.files?.[0];h&&(c(h),S(null))},C=()=>{if(!p){S("Por favor, selecione um arquivo HTML.");return}g(!0),S(null);const I=new FileReader;I.onload=h=>{try{const D=h.target?.result,z=ap(D);if(f(z),z.turmas){const _={};z.turmas.forEach(E=>{_[E.id]=E.isModular}),x(_)}a("validate")}catch(D){S("Ocorreu um erro ao analisar o arquivo. Verifique se o formato est correto."),console.error(D)}finally{g(!1)}},I.onerror=()=>{S("No foi possvel ler o arquivo."),g(!1)},I.readAsText(p,"UTF-8")},A=()=>{if(m){const I=m.turmas?.map(D=>({...D,isModular:v[D.id]??D.isModular}))??[],h={version:"1.0",ano:m.ano??new Date().getFullYear(),cursos:m.cursos??[],turmas:I,disciplinas:m.disciplinas??[],professores:m.professores??[],atribuicoes:m.atribuicoes??[],grade:[],alertas:[],bncc:[],toastMessage:null,draggedItem:null,clipboard:null,selectedSlotId:null,onlineUsers:[],saveStatus:"saved",lastModifiedBy:null,lastModifiedAt:null};i({type:"SET_STATE",payload:h}),a("success")}},B=()=>{c(null),f(null),S(null),g(!1),a("upload")},W=(I,h)=>{x(D=>({...D,[I]:h}))};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Importar Dados de HTML (SIG)"}),d==="upload"&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Passo 1: Selecionar Arquivo"}),s.jsx("p",{className:"text-sm text-gray-600",children:'Selecione o arquivo HTML salvo a partir da pgina "Consultar Quadros" do sistema SIG-URH. O sistema ir extrair os cursos, turmas, disciplinas e professores.'}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"html-upload-label",className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo HTML"}),s.jsxs("div",{className:"mt-1 flex items-center space-x-3",children:[s.jsx("label",{htmlFor:"html-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Escolher arquivo"}),s.jsx("input",{id:"html-upload",name:"html-upload",type:"file",accept:".html,.htm",onChange:N,className:"sr-only"}),p?s.jsx("span",{className:"text-sm text-gray-600",children:p.name}):s.jsx("span",{className:"text-sm text-gray-500",children:"Nenhum arquivo selecionado"})]})]}),j&&s.jsx("p",{className:"text-sm text-red-600",children:j}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,disabled:!p||y,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",children:y?"Analisando...":"Analisar Arquivo"})})]}),d==="validate"&&m&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Passo 2: Validar Dados"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Os seguintes dados foram encontrados. ",s.jsx("strong",{children:"Ateno:"})," A importao substituir todos os dados existentes."]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.cursos?.length||0}),s.jsx("div",{className:"text-sm",children:"Cursos"})]}),s.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.turmas?.length||0}),s.jsx("div",{className:"text-sm",children:"Turmas"})]}),s.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.disciplinas?.length||0}),s.jsx("div",{className:"text-sm",children:"Disciplinas"})]}),s.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:m.professores?.length||0}),s.jsx("div",{className:"text-sm",children:"Professores"})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h4",{className:"font-semibold",children:"Validar Classificao das Turmas"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Verifique a lista de turmas importadas. Marque a caixa ao lado de cada turma que deve ser considerada 'Modular'. Turmas no marcadas sero tratadas como 'Regular' (Ensino Mdio, MTec, etc.)."}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border p-3 rounded-md bg-gray-50",children:m.turmas&&m.turmas.length>0?m.turmas.slice().sort((I,h)=>I.nome.localeCompare(h.nome)).map(I=>s.jsxs("div",{className:"flex items-center p-1 hover:bg-gray-100 rounded",children:[s.jsx("input",{type:"checkbox",id:`turma-modular-toggle-${I.id}`,checked:v[I.id]??!1,onChange:h=>W(I.id,h.target.checked),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),s.jsx("label",{htmlFor:`turma-modular-toggle-${I.id}`,className:"ml-3 block text-sm font-medium text-gray-700 cursor-pointer",children:I.nome})]},I.id)):s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma turma encontrada no arquivo."})})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Confirmar e Importar"})]})]}),d==="success"&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"Importao Concluda!"}),s.jsx("p",{children:"Os dados foram importados com sucesso. Voc j pode navegar para as outras abas de gerenciamento para ver os resultados."}),s.jsx("button",{onClick:B,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Importar Novo Arquivo"})]})]})},Ni={"2":"segunda","3":"terca","4":"quarta","5":"quinta","6":"sexta"},ws={MANHA:{horarios:st,title:"Dias da Semana Manh"},TARDE:{horarios:ot,title:"Dias da Semana Tarde"},NOITE:{horarios:Sr,title:"Dias da Semana Noite"}},An=i=>{if(i.value===null||i.value===void 0)return"";if(i.value&&typeof i.value=="object"&&"richText"in i.value){const d=i.value;if(Array.isArray(d.richText))return d.richText.map(a=>a.text).join("")}return i.value.toString()},dp=async i=>{console.log("Iniciando anlise da planilha...");const d=new Ao.Workbook;await d.xlsx.load(i);const a=d.worksheets[0];if(!a)throw new Error("A planilha est vazia ou no pde ser lida.");const p=[],c=[];if(a.eachRow((m,f)=>{let v="";m.eachCell(x=>{const y=An(x).trim();y.toLowerCase().startsWith("docente:")&&(v=y.substring(8).trim())}),v&&(console.log(`Encontrado "Docente:": ${v} na linha ${f}`),c.push({name:v,row:f}))}),c.length===0)throw new Error("Nenhum professor encontrado. Verifique se a planilha contm a linha 'Docente:'.");for(const m of c){const f={segunda:[],terca:[],quarta:[],quinta:[],sexta:[]};let v=-1;for(let S=m.row;S<=a.rowCount&&S<m.row+10;S++){const N=a.getRow(S);let C=!1;if(N.eachCell(A=>{An(A).includes(ws.MANHA.title)&&(C=!0)}),C){v=S,console.log(`Cabealho da tabela encontrado para ${m.name} na linha ${v}`);break}}if(v===-1){console.warn(`Tabelas no encontradas para o professor: ${m.name}`);continue}const x=a.getRow(v),y=a.getRow(v+1),g={};x.eachCell((S,N)=>{const C=An(S);C.includes(ws.MANHA.title)&&(g.MANHA=N),C.includes(ws.TARDE.title)&&(g.TARDE=N),C.includes(ws.NOITE.title)&&(g.NOITE=N)});for(const S of Object.keys(g)){const N=g[S],{horarios:C}=ws[S],A={},B=8;for(let D=0;D<B;D++){const z=N+D,_=y.getCell(z),E=An(_).trim();Ni[E]&&(A[Ni[E]]=z)}const W=Object.keys(Ni).length;Object.keys(A).length<W&&console.warn(`Apenas ${Object.keys(A).length} de ${W} dias foram mapeados para ${m.name} [${S}]`),console.log(`Mapeamento de colunas para ${m.name} [${S}]:`,A);const I=N-1,h=6;console.log(`
=== Processando perodo ${S} para ${m.name} ===`),console.log(`Coluna inicial (dias): ${N}, Coluna 'Aulas': ${I}`),console.log(`Linha do cabealho dos dias: ${y.number}`),console.log("Horrios disponveis no perodo:",C);for(let D=0;D<h;D++){const z=a.getRow(y.number+1+D),_=z.getCell(I),U=An(_).trim().match(/^(\d+)/);if(U){const O=parseInt(U[1],10)-1;if(O>=0&&O<C.length){const P=C[O];for(const H in A){const te=A[H],ee=z.getCell(te);An(ee).trim().toLowerCase()==="x"&&(f[H].includes(P)||f[H].push(P))}}}}}const j=Object.values(f).reduce((S,N)=>S+N.length,0);console.log(`Disponibilidades encontradas para ${m.name}: ${j} horrios.`),p.push({name:m.name,availability:f})}return console.log("Anlise finalizada.",p),p},cp=async()=>{const i=new Ao.Workbook,d=i.addWorksheet("Disponibilidade"),a={name:"Calibri",size:11,bold:!0},p={name:"Calibri",size:14,bold:!0},c={vertical:"middle",horizontal:"center"},m={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},f={manha:{start:2,title:"Dias da Semana Manh"},tarde:{start:10,title:"Dias da Semana Tarde"},noite:{start:18,title:"Dias da Semana Noite"}},v=7,x=f.noite.start+v-1;d.mergeCells(3,2,3,x);const y=d.getCell(3,2);y.value="RELATRIO DE DISPONIBILIDADES DOS DOCENTES",y.font=p,y.alignment=c,d.mergeCells(4,2,4,x),d.getCell(4,2).value="Semestre/ano: 1/2025",d.getCell(4,2).font=a;let j=(N=>{d.mergeCells(N,2,N,x);const C=d.getCell(N,2);C.value={richText:[{text:"Docente: ",font:{name:"Calibri",size:12,bold:!0}},{text:"NOME COMPLETO DO DOCENTE EM MAISCULAS",font:{name:"Calibri",size:12,bold:!0}}]};const A=N+2,B=N+3,W=N+4;return Object.values(f).forEach(I=>{d.mergeCells(A,I.start,A,I.start+v-1);const h=d.getCell(A,I.start);h.value=I.title,h.font=a,h.alignment=c,["Aulas","2","3","4","5","6","Sb"].forEach((z,_)=>{const E=d.getCell(B,I.start+_);E.value=z,E.font=a,E.alignment=c,E.border=m});for(let z=0;z<6;z++){const _=W+z,E=d.getCell(_,I.start);E.value=`${z+1}`,E.font=a,E.alignment=c,E.border=m;for(let U=1;U<v;U++){const O=d.getCell(_,I.start+U);O.border=m,O.alignment=c,I.start===f.manha.start&&z<2&&U<3&&(O.value="X")}}}),W+6})(5);d.mergeCells(j+1,2,j+1,x);const S=d.getCell(j+1,2);return S.value="Para adicionar mais professores, copie o bloco acima (linhas 5 a 15) e cole abaixo, depois preencha os dados.",S.font={italic:!0,color:{argb:"FF666666"}},d.getColumn(1).width=2,d.getColumn(9).width=2,d.getColumn(17).width=2,Object.values(f).forEach(N=>{d.getColumn(N.start).width=8;for(let C=1;C<v;C++)d.getColumn(N.start+C).width=5}),i},wd=i=>i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim(),fp=()=>{const{state:i,dispatch:d}=lt(),[a,p]=F.useState("upload"),[c,m]=F.useState(null),[f,v]=F.useState([]),[x,y]=F.useState(!1),[g,j]=F.useState(null),S=h=>{const D=h.target.files?.[0];D&&(m(D),j(null))},N=async()=>{try{const D=await(await cp()).xlsx.writeBuffer(),z=new Blob([D],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),_=URL.createObjectURL(z),E=document.createElement("a");E.href=_,E.download="modelo_disponibilidade.xlsx",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(_)}catch(h){console.error("Error generating template:",h),j("No foi possvel gerar o modelo de planilha.")}},C=()=>{if(!c){j("Por favor, selecione um arquivo Excel.");return}y(!0),j(null);const h=new FileReader;h.onload=async D=>{try{const z=D.target?.result,_=await dp(z);if(_.length===0)throw new Error("Nenhum professor encontrado na planilha. Verifique se o formato est correto ou use o modelo.");const E=i.professores,U=_.map(O=>{const P=E.find(H=>wd(H.nome)===wd(O.name));return{parsed:O,matchId:P?P.id:"not_found"}});v(U),p("validate")}catch(z){j(z.message||"Ocorreu um erro ao analisar a planilha. Verifique se o formato est correto."),console.error(z)}finally{y(!1)}},h.onerror=()=>{j("No foi possvel ler o arquivo."),y(!1)},h.readAsArrayBuffer(c)},A=(h,D)=>{const z=[...f];z[h].matchId=D,v(z)},B=()=>{const h=[];f.forEach(D=>{if(D.matchId!=="not_found"&&D.matchId!=="ignore"){const z=i.professores.find(_=>_.id===D.matchId);z&&h.push({...z,disponibilidade:D.parsed.availability})}}),h.length>0?(d({type:"BATCH_UPDATE_PROFESSORS",payload:{professors:h}}),p("success")):j("Nenhum professor foi selecionado para atualizao. Verifique os pareamentos.")},W=()=>{m(null),v([]),j(null),y(!1),p("upload")},I=F.useMemo(()=>[...i.professores].sort((h,D)=>h.nome.localeCompare(D.nome)),[i.professores]);return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Importar Disponibilidade de Professores (Excel)"}),a==="upload"&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Instrues"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-600 mt-2 space-y-1",children:[s.jsx("li",{children:"Baixe o modelo de planilha para garantir o formato correto."}),s.jsx("li",{children:"Preencha a planilha com os dados de disponibilidade dos professores, marcando 'X' nos horrios disponveis."}),s.jsx("li",{children:"Salve a planilha e selecione o arquivo abaixo."}),s.jsx("li",{children:'Clique em "Analisar Planilha" para continuar.'})]})]}),s.jsx("div",{className:"flex justify-start",children:s.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Baixar Modelo de Planilha"]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"excel-upload-label",className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo Excel (.xlsx)"}),s.jsxs("div",{className:"mt-1 flex items-center space-x-3",children:[s.jsx("label",{htmlFor:"excel-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Escolher arquivo"}),s.jsx("input",{id:"excel-upload",name:"excel-upload",type:"file",accept:".xlsx",onChange:S,className:"sr-only"}),c?s.jsx("span",{className:"text-sm text-gray-600",children:c.name}):s.jsx("span",{className:"text-sm text-gray-500",children:"Nenhum arquivo selecionado"})]})]}),g&&s.jsx("p",{className:"text-sm text-red-600",children:g}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,disabled:!c||x,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-gray-400",children:x?"Analisando...":"Analisar Planilha"})})]}),a==="validate"&&f.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Passo 2: Validar Pareamento"}),s.jsx("p",{className:"text-sm text-gray-600",children:"O sistema tentou parear os professores da planilha com os do sistema. Por favor, revise e ajuste os pareamentos. A disponibilidade dos professores selecionados ser **substituda**."}),g&&s.jsx("p",{className:"text-sm text-red-600",children:g}),s.jsx("div",{className:"overflow-x-auto border rounded-lg",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome na Planilha"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Professor no Sistema"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((h,D)=>s.jsxs("tr",{className:h.matchId==="not_found"?"bg-yellow-50":h.matchId==="ignore"?"bg-gray-100 opacity-60":"",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.parsed.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("select",{value:h.matchId,onChange:z=>A(D,z.target.value),className:"w-full p-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[h.matchId==="not_found"&&s.jsx("option",{value:"not_found",children:"-- Nenhum professor encontrado --"}),s.jsx("option",{value:"ignore",children:"Ignorar este professor"}),I.map(z=>s.jsx("option",{value:z.id,children:z.nome},z.id))]})})]},D))})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:W,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{onClick:B,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Confirmar e Atualizar"})]})]}),a==="success"&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"Importao Concluda!"}),s.jsx("p",{children:'A disponibilidade dos professores selecionados foi atualizada com sucesso. Voc pode verificar as mudanas na aba "Professores".'}),s.jsx("button",{onClick:W,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Importar Nova Planilha"})]})]})},pp=()=>{const[i,d]=F.useState("cursos"),a=()=>{switch(i){case"cursos":return s.jsx(ep,{});case"turmas":return s.jsx(tp,{});case"disciplinas":return s.jsx(np,{});case"professores":return s.jsx(op,{});case"atribuicoes":return s.jsx(lp,{});case"importar-html":return s.jsx(up,{});case"importar-disp-excel":return s.jsx(fp,{});default:return null}},p=({tabName:c,label:m,disabled:f})=>s.jsx("button",{onClick:()=>d(c),disabled:f,title:f?"Funo em desenvolvimento":"",className:`px-4 py-2 text-sm font-medium border-b-2 ${i===c?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed disabled:text-gray-400 disabled:hover:border-transparent`,children:m});return s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-4 px-4 overflow-x-auto","aria-label":"Tabs",children:[s.jsx(p,{tabName:"cursos",label:"Cursos"}),s.jsx(p,{tabName:"turmas",label:"Turmas"}),s.jsx(p,{tabName:"disciplinas",label:"Disciplinas"}),s.jsx(p,{tabName:"professores",label:"Professores"}),s.jsx(p,{tabName:"atribuicoes",label:"Atribuies"}),s.jsx(p,{tabName:"importar-html",label:"Importar SIG (HTML)"}),s.jsx(p,{tabName:"importar-disp-excel",label:"Importar Disp. (Excel)",disabled:!0})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a()})]})},mp=({professorId:i})=>{const{state:d}=lt(),{professores:a,grade:p,turmas:c,disciplinas:m}=d,f=a.find(S=>S.id===i);if(!f)return s.jsx("div",{className:"p-4 text-red-500",children:"Professor no encontrado."});const v=p.filter(S=>S.professorId===i),x=F.useMemo(()=>v.reduce((S,N)=>{const A=c.find(B=>B.id===N.turmaId)?.isModular?1.25:1;return S+A},0),[v,c]),y={};v.forEach(S=>{y[S.dia]||(y[S.dia]={});const N=c.find(A=>A.id===S.turmaId)?.nome||"N/A",C=m.find(A=>A.id===S.disciplinaId)?.nome||"N/A";y[S.dia][S.horario]={turma:N,disciplina:C}});const g=F.useMemo(()=>_e.reduce((S,N)=>{const C=v.filter(A=>A.dia===N).reduce((A,B)=>{const I=c.find(h=>h.id===B.turmaId)?.isModular?1.25:1;return A+I},0);return S[N]=C,S},{}),[v,c]),j=F.useMemo(()=>{const S=[...new Set([...Sr,...On])].sort();return[...st,...ot,...S]},[]);return s.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-auto border border-gray-200",children:s.jsxs("div",{className:"grid",style:{gridTemplateColumns:"80px repeat(5, minmax(150px, 1fr))"},children:[s.jsxs("div",{className:"row-span-2 p-2 border-b-2 border-r border-gray-300 bg-gray-100 flex flex-col items-center justify-center text-center",children:[s.jsx("span",{className:"font-bold text-2xl",children:x}),s.jsx("span",{className:"text-xs text-gray-600",children:"Aulas"})]}),s.jsx("div",{className:"col-span-5 p-4 border-b-2 border-gray-300 bg-gray-200 text-center text-xl font-bold text-gray-800 flex items-center justify-center",children:f.nome}),s.jsx("div",{className:"col-start-2 col-span-5 grid grid-cols-5",children:_e.map((S,N)=>s.jsx("div",{className:`p-2 border-b-2 bg-gray-100 text-center font-semibold capitalize ${N<_e.length-1?"border-r":""} border-gray-300`,children:S.split("").join(" ")},S))}),j.map((S,N)=>{const C=st[st.length-1]===S,A=ot[ot.length-1]===S,B=C||A,W=N===j.length-1;return s.jsxs(on.Fragment,{children:[s.jsxs("div",{className:"contents",children:[s.jsx("div",{className:`p-2 border-r border-gray-300 bg-gray-50 text-xs text-center font-medium flex items-center justify-center ${W?"":"border-b"}`,children:S}),_e.map((I,h)=>{const D=y[I]?.[S];return s.jsx("div",{className:`p-2 min-h-[50px] ${h<_e.length-1?"border-r":""} ${W?"":"border-b"} border-gray-200`,children:D&&s.jsxs("div",{className:"text-xs bg-indigo-100 p-1 rounded",children:[s.jsx("p",{className:"font-bold truncate",children:D.disciplina}),s.jsx("p",{className:"text-gray-600 truncate",children:D.turma})]})},`${I}-${S}`)})]}),B&&!W&&s.jsx("div",{className:"col-span-6 h-2 bg-gray-200 border-b border-gray-300"})]},S)}),s.jsx("div",{className:"p-2 border-r border-t border-gray-300 bg-gray-100 font-bold text-center flex items-center justify-center",children:"Carga Diria"}),_e.map((S,N)=>s.jsx("div",{className:`p-2 bg-gray-100 text-center font-bold border-t ${N<_e.length-1?"border-r":""} border-gray-200`,children:g[S]||0},`total-${S}`))]})})},hp=()=>{const{state:i,dispatch:d}=lt(),{professores:a,grade:p,turmas:c,disciplinas:m}=i,f=F.useMemo(()=>[...a].sort((h,D)=>h.nome.localeCompare(D.nome)),[a]),[v,x]=F.useState(""),[y,g]=F.useState(!1),[j,S]=F.useState({current:0,total:0}),N=F.useMemo(()=>v.trim()?f.filter(h=>h.nome.toLowerCase().includes(v.toLowerCase())):f,[f,v]),[C,A]=F.useState(f[0]?.id||"");F.useEffect(()=>{N.some(D=>D.id===C)||A(N[0]?.id||"")},[v,N,C]),F.useEffect(()=>{!C&&f.length>0&&A(f[0].id)},[f,C]);const B=()=>{const h=a.find(D=>D.id===C);if(!h){d({type:"SHOW_TOAST",payload:"Professor no selecionado."});return}try{const{doc:D,error:z}=xd(h,p,c,m);if(z||!D){d({type:"SHOW_TOAST",payload:z||"Erro ao gerar PDF."});return}const E=`horario_${h.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`;D.save(E)}catch(D){console.error("Error generating PDF:",D),d({type:"SHOW_TOAST",payload:"Erro ao gerar o PDF."})}},W=()=>{if(!C){d({type:"SHOW_TOAST",payload:"Professor no selecionado."});return}d({type:"SHOW_TOAST",payload:"Gerando arquivo XLSX..."}),setTimeout(()=>{try{const{workbook:h,error:D}=Gf(i,C);if(D||!h){d({type:"SHOW_TOAST",payload:D||"Erro desconhecido ao gerar XLSX."});return}h.xlsx.writeBuffer().then(z=>{const _=new Blob([z],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),E=URL.createObjectURL(_),U=a.find(H=>H.id===C),O=U?U.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase():"professor",P=document.createElement("a");P.setAttribute("href",E),P.setAttribute("download",`horario_${O}.xlsx`),document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(E),d({type:"SHOW_TOAST",payload:"Exportao para XLSX concluda!"})}).catch(z=>{console.error("Error writing XLSX buffer:",z),d({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})})}catch(h){console.error("Error generating XLSX file:",h),d({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo XLSX."})}},50)},I=async()=>{const h=[...new Set(p.map(_=>_.professorId))],D=f.filter(_=>h.includes(_.id));if(D.length===0){d({type:"SHOW_TOAST",payload:"Nenhum professor com aulas na grade para exportar."});return}const z=new wf;g(!0),S({current:0,total:D.length}),d({type:"SHOW_TOAST",payload:`Iniciando exportao de ${D.length} horrios...`});for(const[_,E]of D.entries()){S({current:_+1,total:D.length});try{const{doc:U,error:O}=xd(E,p,c,m);if(U){const H=`horario_${E.nome.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,te=U.output("blob");z.file(H,te)}}catch(U){console.error(`Error generating PDF for ${E.nome}:`,U)}await new Promise(U=>setTimeout(U,0))}d({type:"SHOW_TOAST",payload:"Gerando arquivo ZIP..."});try{const _=await z.generateAsync({type:"blob"}),E=document.createElement("a");E.href=URL.createObjectURL(_),E.download="horarios_professores.zip",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href),d({type:"SHOW_TOAST",payload:"Exportao para ZIP concluda!"})}catch(_){console.error("Error generating ZIP file:",_),d({type:"SHOW_TOAST",payload:"Erro ao gerar o arquivo ZIP."})}finally{g(!1)}};return s.jsxs("div",{className:"flex-1 flex flex-col overflow-auto bg-gray-50 p-4",children:[s.jsxs("header",{className:"mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grade por Professor"}),s.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-end sm:justify-between",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"professor-search",className:"block text-sm font-medium text-gray-700",children:"Buscar Professor"}),s.jsx("input",{type:"text",id:"professor-search",value:v,onChange:h=>x(h.target.value),placeholder:"Digite o nome...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"professor-select",className:"block text-sm font-medium text-gray-700",children:"Selecione um Professor"}),s.jsx("select",{id:"professor-select",value:C,onChange:h=>A(h.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:N.length>0?N.map(h=>s.jsx("option",{value:h.id,children:h.nome},h.id)):s.jsx("option",{value:"",disabled:!0,children:"Nenhum professor encontrado"})})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-2",children:[s.jsxs("button",{onClick:I,disabled:y,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),y?`Gerando ${j.current}/${j.total}...`:"Exportar Todos (ZIP)"]}),s.jsxs("button",{onClick:W,disabled:!C||y,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s.jsx("polyline",{points:"14 2 14 8 20 8"}),s.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),s.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),s.jsx("polyline",{points:"10 9 9 9 8 9"})]}),"Exportar Selecionado (XLSX)"]}),s.jsxs("button",{onClick:B,disabled:!C||y,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Exportar Selecionado (PDF)"]})]})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:C?s.jsx(mp,{professorId:C}):s.jsx("div",{className:"flex items-center justify-center h-full bg-white rounded-lg shadow",children:s.jsx("p",{className:"text-gray-500",children:a.length===0?"Nenhum professor cadastrado.":"Por favor, selecione um professor para visualizar a grade de horrios."})})})]})},ln=({tooltipText:i,children:d})=>s.jsxs("div",{className:"relative group flex items-center",children:[d,s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-2 text-xs text-white bg-gray-800 rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:[i,s.jsx("svg",{className:"absolute text-gray-800 h-2 w-full left-0 top-full",x:"0px",y:"0px",viewBox:"0 0 255 255",children:s.jsx("polygon",{className:"fill-current",points:"0,0 127.5,127.5 255,0"})})]})]}),Mo=({title:i,value:d,icon:a,colorClass:p,tooltipText:c})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex items-center",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${p} mr-4 flex-shrink-0`,children:a}),s.jsxs("div",{children:[s.jsx(ln,{tooltipText:c,children:s.jsxs("div",{className:"text-sm font-medium text-gray-500 flex items-center gap-1 cursor-help",children:[i,s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:d})]})]}),gp=({completionPercentage:i,criticalAlerts:d,activeProfessors:a,totalTurmas:p})=>s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Mo,{title:"Preenchimento da Grade",value:`${i.toFixed(1)}%`,tooltipText:"Percentual de aulas alocadas na grade em relao ao total de aulas semanais necessrias para todas as disciplinas desta modalidade.",colorClass:"bg-blue-100 text-blue-600",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(Mo,{title:"Alertas Crticos",value:String(d),tooltipText:"Nmero de conflitos de horrio de professor (mesmo professor em duas turmas ao mesmo tempo). Estes so os alertas mais graves e devem ser resolvidos com prioridade.",colorClass:"bg-red-100 text-red-600",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx(Mo,{title:"Professores Ativos",value:String(a),tooltipText:"Nmero de professores nicos que possuem pelo menos uma aula alocada nesta grade de horrios.",colorClass:"bg-green-100 text-green-600",icon:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx(Mo,{title:"Total de Turmas",value:String(p),tooltipText:"Nmero total de turmas cadastradas para esta modalidade (Regular ou Modular).",colorClass:"bg-purple-100 text-purple-600",icon:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),s.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20"})]})})]}),xp=({segments:i})=>{const d=i.reduce((m,f)=>m+f.value,0);if(d===0)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 120 120",children:[s.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"#e5e7eb",strokeWidth:"20"}),s.jsx("text",{x:"60",y:"60",textAnchor:"middle",dominantBaseline:"central",className:"transform rotate-90",fontSize:"14",fill:"#9ca3af",children:"Sem Alertas"})]})});const a=50,p=2*Math.PI*a;let c=0;return s.jsx("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 120 120",children:i.map((m,f)=>{const v=m.value/d*p,x=s.jsx("circle",{cx:"60",cy:"60",r:a,fill:"none",stroke:m.color,strokeWidth:"20",strokeDasharray:`${v} ${p}`,strokeDashoffset:-c},f);return c+=v,x})})},yp=({data:i})=>{const d=Object.entries(i).map(([m,f])=>({type:m,value:f,color:sn[m].bg.replace("bg-",""),name:sn[m].name})),a={"pink-600":"#db2777","blue-500":"#3b82f6","red-600":"#dc2626","orange-400":"#fb923c","purple-500":"#a855f7","yellow-400":"#facc15"},p=d.map(m=>({value:m.value,color:a[m.color]||"#9ca3af"})),c=d.reduce((m,f)=>m+f.value,0);return s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow h-full flex flex-col",children:[s.jsx(ln,{tooltipText:"Distribuio dos tipos de alertas encontrados na grade. Alertas so problemas como conflitos de horrio, excesso de aulas, etc.",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-1 cursor-help",children:["Anlise de Alertas",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center gap-4 mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xp,{segments:p}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-800",children:c}),s.jsx("span",{className:"text-sm text-gray-500",children:"Total"})]})]}),s.jsx("div",{className:"flex-1 space-y-2 text-sm w-full",children:d.sort((m,f)=>f.value-m.value).map(m=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${sn[m.type].bg}`}),s.jsx("span",{className:"text-gray-600",children:m.name})]}),s.jsx("span",{className:"font-semibold text-gray-800",children:m.value})]},m.type))})]})]})},vp=({data:i})=>{const d=i.slice(0,10),a=Math.max(8,...d.map(p=>p.aulas));return s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow h-full flex flex-col",children:[s.jsx(ln,{tooltipText:"Exibe os professores com a maior quantidade de aulas alocadas. As cores indicam a carga: Normal (azul), Alta (amarelo, >6 aulas) ou Sobrecarga (vermelho, >8 aulas).",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-1 cursor-help",children:["Carga Horria dos Professores (Top 10)",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),s.jsx("div",{className:"flex-1 space-y-3 pr-4 mt-4",children:d.length>0?d.map((p,c)=>{const m=p.aulas/a*100;let f="bg-blue-500";return p.aulas>8?f="bg-red-500":p.aulas>6&&(f="bg-yellow-500"),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("div",{className:"w-1/3 truncate text-gray-600",title:p.nome,children:p.nome}),s.jsxs("div",{className:"w-2/3 flex items-center",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-5",children:s.jsx("div",{className:`h-5 rounded-full ${f} transition-all duration-500 ease-out`,style:{width:`${m}%`}})}),s.jsx("span",{className:"ml-3 font-semibold text-gray-800 w-8 text-right",children:p.aulas})]})]},c)}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Nenhuma aula alocada na grade."})})]})},wp=({data:i})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow h-full flex flex-col",children:[s.jsx(ln,{tooltipText:"Progresso de alocao de aulas para cada turma. Mostra quantas aulas j foram inseridas na grade em comparao com o total necessrio para a turma.",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-1 cursor-help",children:["Status de Preenchimento por Turma",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3 mt-4",children:i.length>0?i.map(d=>{const a=d.total>0?d.alocadas/d.total*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[s.jsx("span",{className:"font-medium text-gray-700 truncate",title:d.nome,children:d.nome}),s.jsxs("span",{className:"text-gray-500",children:[d.alocadas.toFixed(2)," / ",d.total.toFixed(2)]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-green-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${a}%`}})})]},d.id)}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Nenhuma turma para exibir."})})]}),Sp=({data:i})=>{const{manha:d,tarde:a,noite:p}=i,m=d+a+p>0?Math.max(d,a,p):1,f=({label:v,value:x,colorClass:y})=>{const g=m>0?x/m*100:0;return s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"w-full h-40 flex items-end justify-center",children:s.jsx("div",{className:`w-10 rounded-t-md ${y} transition-all duration-500 ease-out`,style:{height:`${g}%`},title:`${v}: ${x} aulas`})}),s.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-2",children:v}),s.jsx("div",{className:"text-sm font-bold text-gray-800",children:x})]})};return s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow h-full flex flex-col",children:[s.jsx(ln,{tooltipText:"Distribuio do nmero de aulas alocadas em cada perodo. Ajuda a visualizar o equilbrio da ocupao da grade entre manh, tarde e noite.",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-1 cursor-help",children:["Ocupao por Perodo",s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),s.jsxs("div",{className:"flex-1 flex items-end justify-around gap-4 mt-4",children:[s.jsx(f,{label:"Manh",value:d,colorClass:"bg-yellow-400"}),s.jsx(f,{label:"Tarde",value:a,colorClass:"bg-blue-400"}),s.jsx(f,{label:"Noite",value:p,colorClass:"bg-indigo-500"})]})]})},jp=({unassignedDisciplines:i,unassignedProfessors:d})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow h-full flex flex-col",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Insights Rpidos"}),s.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(ln,{tooltipText:"Lista de disciplinas da grade selecionada (Regular ou Modular) que ainda no tm nenhum professor atribudo na tela de Gerenciamento.",children:s.jsxs("h4",{className:"font-semibold text-gray-700 flex items-center cursor-help",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Disciplinas Sem Atribuio (",i.length,")"]})}),i.length>0?s.jsx("ul",{className:"mt-2 text-sm text-gray-600 list-disc list-inside pl-7 max-h-24 overflow-y-auto",children:i.map(a=>s.jsx("li",{className:"truncate",title:a.nome,children:a.nome},a.id))}):s.jsx("p",{className:"mt-1 text-sm text-gray-500 pl-7",children:"Todas as disciplinas foram atribudas."})]}),s.jsxs("div",{children:[s.jsx(ln,{tooltipText:"Lista de professores cadastrados no sistema que no foram atribudos a NENHUMA disciplina, seja na grade Regular ou na Modular. Ajuda a identificar professores pendentes de configurao.",children:s.jsxs("h4",{className:"font-semibold text-gray-700 flex items-center cursor-help",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Professores Sem Aulas (",d.length,")"]})}),d.length>0?s.jsx("ul",{className:"mt-2 text-sm text-gray-600 list-disc list-inside pl-7 max-h-24 overflow-y-auto",children:d.map(a=>s.jsx("li",{className:"truncate",title:a.nome,children:a.nome},a.id))}):s.jsx("p",{className:"mt-1 text-sm text-gray-500 pl-7",children:"Todos os professores foram atribudos a alguma disciplina."})]})]})]}),Cp=()=>{const{state:i}=lt(),[d,a]=F.useState("regular"),p=F.useMemo(()=>{const m=d==="modular",f=i.turmas.filter(N=>N.isModular===m),v=new Set(f.map(N=>N.id)),x=i.disciplinas.filter(N=>v.has(N.turmaId)),y=new Set(x.map(N=>N.id)),g=i.atribuicoes.filter(N=>y.has(N.disciplinaId)),j=i.grade.filter(N=>v.has(N.turmaId)),S=i.alertas.filter(N=>N.gradeSlotIds.some(C=>{const A=C.split("_")[0];return v.has(A)}));return{turmas:f,disciplinas:x,atribuicoes:g,grade:j,alertas:S,professores:i.professores}},[d,i]),c=F.useMemo(()=>{const{turmas:m,disciplinas:f,atribuicoes:v,grade:x,alertas:y}=p,g=f.reduce((P,H)=>P+H.aulasSemanais,0),j=new Map;x.forEach(P=>{const H=`${P.turmaId}_${P.dia}_${P.horario}`;if(!j.has(H)){const{finalDisciplinaId:te}=Ed(P,i);j.set(H,{disciplinaId:te,turmaId:P.turmaId})}});const S=new Map;j.forEach(P=>{const te=m.find(de=>de.id===P.turmaId)?.isModular?1.25:1,ee=S.get(P.disciplinaId)||0;S.set(P.disciplinaId,ee+te)});let N=0;S.forEach(P=>{N+=P});const C=g>0?N/g*100:0,A=y.reduce((P,H)=>(P[H.tipo]=(P[H.tipo]||0)+1,P),{}),B=A[Lt.ProfessorConflitoHorario]||0,W=new Set(x.map(P=>P.professorId)),I=new Map;x.forEach(P=>{const H=i.professores.find(de=>de.id===P.professorId);if(!H)return;const ee=m.find(de=>de.id===P.turmaId)?.isModular??!1?1.25:1;I.has(H.id)||I.set(H.id,{nome:H.nome,aulas:0}),I.get(H.id).aulas+=ee});const h=Array.from(I.values()).sort((P,H)=>H.aulas-P.aulas),D=m.map(P=>{const H=f.filter(de=>de.turmaId===P.id),te=H.reduce((de,pe)=>de+pe.aulasSemanais,0);let ee=0;return H.forEach(de=>{ee+=S.get(de.id)||0}),{id:P.id,nome:P.nome,alocadas:ee,total:te}}).sort((P,H)=>(P.alocadas/P.total||0)-(H.alocadas/H.total||0)),z={manha:0,tarde:0,noite:0};j.forEach(P=>{const H=x.find(ee=>ee.turmaId===P.turmaId&&ee.disciplinaId===P.disciplinaId);if(!H)return;const te=H.horario;st.includes(te)?z.manha++:ot.includes(te)?z.tarde++:z.noite++});const _=new Set(v.map(P=>P.disciplinaId)),E=f.filter(P=>!_.has(P.id)),U=new Set(i.atribuicoes.flatMap(P=>P.professores)),O=i.professores.filter(P=>!U.has(P.id));return{completionPercentage:C,criticalAlertCount:B,activeProfessorCount:W.size,turmaCount:m.length,alertCounts:A,professorLoadData:h,turmaCompletionData:D,periodDistribution:z,unassignedDisciplines:E,unassignedProfessors:O}},[p,i]);return s.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Painel de Controle"}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsxs("div",{className:"flex items-center bg-gray-200 rounded-md p-1",children:[s.jsx("button",{onClick:()=>a("regular"),className:`px-4 py-2 text-sm font-medium rounded-md ${d==="regular"?"bg-indigo-600 text-white shadow":"text-gray-700 hover:bg-gray-300"}`,children:"Grade Regular"}),s.jsx("button",{onClick:()=>a("modular"),className:`px-4 py-2 text-sm font-medium rounded-md ${d==="modular"?"bg-indigo-600 text-white shadow":"text-gray-700 hover:bg-gray-300"}`,children:"Grade Modular"})]})})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx("div",{className:"col-span-12",children:s.jsx(gp,{completionPercentage:c.completionPercentage,criticalAlerts:c.criticalAlertCount,activeProfessors:c.activeProfessorCount,totalTurmas:c.turmaCount})}),s.jsx("div",{className:"col-span-12 lg:col-span-4",children:s.jsx(yp,{data:c.alertCounts})}),s.jsx("div",{className:"col-span-12 lg:col-span-8",children:s.jsx(vp,{data:c.professorLoadData})}),s.jsx("div",{className:"col-span-12 lg:col-span-5",children:s.jsx(wp,{data:c.turmaCompletionData})}),s.jsx("div",{className:"col-span-12 lg:col-span-3",children:s.jsx(Sp,{data:c.periodDistribution})}),s.jsx("div",{className:"col-span-12 lg:col-span-4",children:s.jsx(jp,{unassignedDisciplines:c.unassignedDisciplines,unassignedProfessors:c.unassignedProfessors})})]})]})},Np=({message:i,onClose:d})=>(F.useEffect(()=>{const a=setTimeout(()=>{d()},3e3);return()=>clearTimeout(a)},[d]),s.jsxs("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50",children:[s.jsxs("div",{className:"bg-gray-800 text-white font-bold py-2 px-4 rounded-lg shadow-lg flex items-center animate-fade-in-up",children:[s.jsx("span",{className:"mr-3",children:i}),s.jsx("button",{onClick:d,className:"text-gray-300 hover:text-white leading-none text-2xl",children:""})]}),s.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translate(-50%, 10px);
          }
          100% {
            opacity: 1;
            transform: translate(-50%, 0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]})),bp=({isOpen:i,onClose:d})=>{const{dispatch:a}=lt(),[p,c]=F.useState(""),m=p==="DELETE";F.useEffect(()=>{i||c("")},[i]);const f=()=>{if(m)try{a({type:"CLEAR_DATA"})}finally{window.location.reload()}};return s.jsx(Wr,{isOpen:i,onClose:d,title:"Apagar Todos os Dados",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Ateno:"})," Esta ao  irreversvel. Todos os cursos, turmas, disciplinas, professores, atribuies e a grade de horrios sero permanentemente apagados."]}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Para confirmar, por favor, digite ",s.jsx("strong",{children:"DELETE"})," no campo abaixo."]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-delete",className:"sr-only",children:"Confirmar excluso"}),s.jsx("input",{type:"text",id:"confirm-delete",value:p,onChange:v=>c(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"DELETE",autoComplete:"off"})]}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"button",onClick:f,disabled:!m,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed",children:"Apagar Tudo"})]})]})})},kp=({isOpen:i,onClose:d})=>{const{dispatch:a}=lt(),p=async()=>{try{const c=await fetch("/mock-data.json");if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const m=await c.json();if(m&&m.version&&Array.isArray(m.cursos))a({type:"SET_STATE",payload:m}),a({type:"SHOW_TOAST",payload:"Dados de exemplo carregados com sucesso!"});else throw new Error("Arquivo de exemplo invlido.")}catch(c){console.error("Erro ao carregar dados de exemplo:",c),a({type:"SHOW_TOAST",payload:"Falha ao carregar dados de exemplo."})}finally{d()}};return s.jsx(Wr,{isOpen:i,onClose:d,title:"Carregar Dados de Exemplo",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Ateno:"})," Esta ao ir substituir todos os dados atuais pelos dados de exemplo."]}),s.jsx("p",{className:"text-sm text-gray-700",children:"Qualquer trabalho no salvo ser perdido. Deseja continuar?"}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancelar"}),s.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Carregar Exemplo"})]})]})})},Ep=()=>{const[i,d]=F.useState("grid"),[a,p]=F.useState("regular"),[c,m]=F.useState(!1),[f,v]=F.useState(!1),[x,y]=F.useState(!1),[g,j]=F.useState(!1),{state:S,dispatch:N}=lt(),C=()=>{switch(i){case"dashboard":return s.jsx(Cp,{});case"grid":return s.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0 px-4 pt-2 border-b border-gray-200 bg-gray-50",children:s.jsxs("nav",{className:"flex space-x-2","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>p("regular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${a==="regular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Regular"}),s.jsx("button",{onClick:()=>p("modular"),className:`px-3 py-2 font-medium text-sm rounded-t-md ${a==="modular"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Grade Modular"})]})}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[s.jsx(Ff,{isFocusModeEnabled:c,gridType:a}),s.jsx("footer",{className:"bg-white p-2 border-t",children:s.jsx(Zf,{})})]}),s.jsx("aside",{className:`bg-gray-50 border-l border-gray-200 overflow-y-auto flex-shrink-0 transition-all duration-300 ease-in-out ${g?"w-0":"w-64 lg:w-80"}`,children:s.jsx("div",{className:`h-full overflow-hidden ${g?"invisible":"visible"}`,children:s.jsx(Hf,{gridType:a})})})]})]});case"management":return s.jsx(pp,{});case"professor":return s.jsx(hp,{});default:return null}};return s.jsxs("div",{className:"flex flex-col h-screen font-sans text-gray-800",children:[s.jsx("header",{className:"bg-white shadow-md z-20",children:s.jsx(Kf,{currentView:i,setCurrentView:d,activeGrid:a,isFocusModeEnabled:c,onFocusModeChange:m,onOpenClearDataModal:()=>v(!0),onOpenLoadExampleModal:()=>y(!0)})}),s.jsxs("main",{className:"flex flex-1 overflow-hidden relative",children:[C(),i==="grid"&&s.jsx("button",{onClick:()=>j(!g),className:`absolute top-1/2 -translate-y-1/2 z-30 bg-white hover:bg-gray-100 text-gray-600 border border-gray-300 rounded-full w-8 h-8 flex items-center justify-center shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out ${g?"right-0 translate-x-1/2":"right-[16rem] lg:right-[20rem] translate-x-1/2"}`,title:g?"Expandir painel":"Recolher painel",children:g?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),S.toastMessage&&s.jsx(Np,{message:S.toastMessage,onClose:()=>N({type:"SHOW_TOAST",payload:null})}),s.jsx(bp,{isOpen:f,onClose:()=>v(!1)}),s.jsx(kp,{isOpen:x,onClose:()=>y(!1)})]})},Tp=()=>s.jsx(Pf,{children:s.jsx(Ep,{})}),Ip=()=>s.jsx(Tp,{}),Td=document.getElementById("root");if(!Td)throw new Error("Could not find root element to mount to");const Dp=If.createRoot(Td);Dp.render(s.jsx(on.StrictMode,{children:s.jsx(Ip,{})}));
